(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const is=!1;var Fi=Array.isArray,Pa=Array.prototype.indexOf,Bi=Array.from,Da=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyDescriptors,ja=Object.prototype,Ia=Array.prototype,qi=Object.getPrototypeOf,ss=Object.isExtensible;function nr(r){return typeof r=="function"}const Et=()=>{};function Ra(r){return r()}function _i(r){for(var e=0;e<r.length;e++)r[e]()}const Ze=2,lo=4,Mn=8,Un=16,vt=32,yr=64,Tn=128,Be=256,$n=512,Oe=1024,it=2048,Ct=4096,ct=8192,Fn=16384,uo=32768,Jr=65536,La=1<<17,Na=1<<19,co=1<<20,mi=1<<21,xt=Symbol("$state"),ho=Symbol("legacy props"),Ma=Symbol("");function fo(r){return r===this.v}function Hi(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function zi(r){return!Hi(r,this.v)}function Ua(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ba(r){throw new Error("https://svelte.dev/e/effect_orphan")}function qa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ha(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function za(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ga(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let br=!1,Va=!1;function Ja(){br=!0}const Wi=1,Gi=2,vo=4,Ya=8,Ka=16,Xa=1,Qa=2,po=4,Za=8,el=16,tl=1,rl=2,nl=4,il=1,sl=2,De=Symbol(),ol="http://www.w3.org/1999/xhtml",al="http://www.w3.org/2000/svg";function ll(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ie=null;function os(r){ie=r}function Pt(r,e=!1,t){var n=ie={p:ie,c:null,d:!1,e:null,m:!1,s:r,x:null,l:null};br&&!e&&(ie.l={s:null,u:null,r1:[],r2:dr(!1)}),ko(()=>{n.d=!0})}function Dt(r){const e=ie;if(e!==null){const o=e.e;if(o!==null){var t=K,n=J;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];st(s.effect),Ve(s.reaction),Er(s.fn)}}finally{st(t),Ve(n)}}ie=e.p,e.m=!0}return{}}function Bn(){return!br||ie!==null&&ie.l===null}function Ft(r){if(typeof r!="object"||r===null||xt in r)return r;const e=qi(r);if(e!==ja&&e!==Ia)return r;var t=new Map,n=Fi(r),i=gt(0),s=J,o=a=>{var l=J;Ve(s);var u=a();return Ve(l),u};return n&&t.set("length",gt(r.length)),new Proxy(r,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&za();var c=t.get(l);return c===void 0?(c=o(()=>gt(u.value)),t.set(l,c)):ee(c,o(()=>Ft(u.value))),!0},deleteProperty(a,l){var u=t.get(l);if(u===void 0)l in a&&(t.set(l,o(()=>gt(De))),Kn(i));else{if(n&&typeof l=="string"){var c=t.get("length"),d=Number(l);Number.isInteger(d)&&d<c.v&&ee(c,d)}ee(u,De),Kn(i)}return!0},get(a,l,u){var f;if(l===xt)return r;var c=t.get(l),d=l in a;if(c===void 0&&(!d||(f=Ot(a,l))!=null&&f.writable)&&(c=o(()=>gt(Ft(d?a[l]:De))),t.set(l,c)),c!==void 0){var h=P(c);return h===De?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=t.get(l);c&&(u.value=P(c))}else if(u===void 0){var d=t.get(l),h=d==null?void 0:d.v;if(d!==void 0&&h!==De)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){var h;if(l===xt)return!0;var u=t.get(l),c=u!==void 0&&u.v!==De||Reflect.has(a,l);if(u!==void 0||K!==null&&(!c||(h=Ot(a,l))!=null&&h.writable)){u===void 0&&(u=o(()=>gt(c?Ft(a[l]):De)),t.set(l,u));var d=P(u);if(d===De)return!1}return c},set(a,l,u,c){var _;var d=t.get(l),h=l in a;if(n&&l==="length")for(var f=u;f<d.v;f+=1){var v=t.get(f+"");v!==void 0?ee(v,De):f in a&&(v=o(()=>gt(De)),t.set(f+"",v))}d===void 0?(!h||(_=Ot(a,l))!=null&&_.writable)&&(d=o(()=>gt(void 0)),ee(d,o(()=>Ft(u))),t.set(l,d)):(h=d.v!==De,ee(d,o(()=>Ft(u))));var p=Reflect.getOwnPropertyDescriptor(a,l);if(p!=null&&p.set&&p.set.call(c,u),!h){if(n&&typeof l=="string"){var g=t.get("length"),E=Number(l);Number.isInteger(E)&&E>=g.v&&ee(g,E+1)}Kn(i)}return!0},ownKeys(a){P(i);var l=Reflect.ownKeys(a).filter(d=>{var h=t.get(d);return h===void 0||h.v!==De});for(var[u,c]of t)c.v!==De&&!(u in a)&&l.push(u);return l},setPrototypeOf(){Wa()}})}function Kn(r,e=1){ee(r,r.v+e)}function Hr(r){var e=Ze|it,t=J!==null&&(J.f&Ze)!==0?J:null;return K===null||t!==null&&(t.f&Be)!==0?e|=Be:K.f|=co,{ctx:ie,deps:null,effects:null,equals:fo,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??K}}function Te(r){const e=Hr(r);return e.equals=zi,e}function go(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)ht(e[t])}}function ul(r){for(var e=r.parent;e!==null;){if((e.f&Ze)===0)return e;e=e.parent}return null}function _o(r){var e,t=K;st(ul(r));try{go(r),e=Io(r)}finally{st(t)}return e}function mo(r){var e=_o(r),t=(Tt||(r.f&Be)!==0)&&r.deps!==null?Ct:Oe;Je(r,t),r.equals(e)||(r.v=e,r.wv=Do())}const zr=new Map;function dr(r,e){var t={f:0,v:r,reactions:null,equals:fo,rv:0,wv:0};return t}function gt(r,e){const t=dr(r);return yl(t),t}function je(r,e=!1){var n;const t=dr(r);return e||(t.equals=zi),br&&ie!==null&&ie.l!==null&&((n=ie.l).s??(n.s=[])).push(t),t}function ee(r,e,t=!1){J!==null&&!tt&&Bn()&&(J.f&(Ze|Un))!==0&&!($e!=null&&$e.includes(r))&&Ga();let n=t?Ft(e):e;return yi(r,n)}function yi(r,e){if(!r.equals(e)){var t=r.v;Qr?zr.set(r,e):zr.set(r,t),r.v=e,(r.f&Ze)!==0&&((r.f&it)!==0&&_o(r),Je(r,(r.f&Be)===0?Oe:Ct)),r.wv=Do(),yo(r,it),Bn()&&K!==null&&(K.f&Oe)!==0&&(K.f&(vt|yr))===0&&(We===null?bl([r]):We.push(r))}return e}function as(r,e=1){var t=P(r),n=e===1?t++:t--;return ee(r,t),n}function yo(r,e){var t=r.reactions;if(t!==null)for(var n=Bn(),i=t.length,s=0;s<i;s++){var o=t[s],a=o.f;(a&it)===0&&(!n&&o===K||(Je(o,e),(a&(Oe|Be))!==0&&((a&Ze)!==0?yo(o,Ct):Gn(o))))}}let cl=!1;var ls,bo,wo,Eo;function dl(){if(ls===void 0){ls=window,bo=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;wo=Ot(e,"firstChild").get,Eo=Ot(e,"nextSibling").get,ss(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),ss(t)&&(t.__t=void 0)}}function Yr(r=""){return document.createTextNode(r)}function hr(r){return wo.call(r)}function qn(r){return Eo.call(r)}function I(r,e){return hr(r)}function he(r,e){{var t=hr(r);return t instanceof Comment&&t.data===""?qn(t):t}}function G(r,e=1,t=!1){let n=r;for(;e--;)n=qn(n);return n}function hl(r){r.textContent=""}function So(r){K===null&&J===null&&Ba(),J!==null&&(J.f&Be)!==0&&K===null&&Fa(),Qr&&Ua()}function fl(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function wr(r,e,t,n=!0){var i=K,s={ctx:ie,deps:null,nodes_start:null,nodes_end:null,f:r|it,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{Wn(s),s.f|=uo}catch(l){throw ht(s),l}else e!==null&&Gn(s);var o=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(co|Tn))===0;if(!o&&n&&(i!==null&&fl(s,i),J!==null&&(J.f&Ze)!==0)){var a=J;(a.effects??(a.effects=[])).push(s)}return s}function ko(r){const e=wr(Mn,null,!1);return Je(e,Oe),e.teardown=r,e}function bi(r){So();var e=K!==null&&(K.f&vt)!==0&&ie!==null&&!ie.m;if(e){var t=ie;(t.e??(t.e=[])).push({fn:r,effect:K,reaction:J})}else{var n=Er(r);return n}}function vl(r){return So(),Kr(r)}function pl(r){const e=wr(yr,r,!0);return(t={})=>new Promise(n=>{t.outro?Wr(e,()=>{ht(e),n(void 0)}):(ht(e),n(void 0))})}function Er(r){return wr(lo,r,!1)}function Nt(r,e){var t=ie,n={effect:null,ran:!1};t.l.r1.push(n),n.effect=Kr(()=>{r(),!n.ran&&(n.ran=!0,ee(t.l.r2,!0),At(e))})}function To(){var r=ie;Kr(()=>{if(P(r.l.r2)){for(var e of r.l.r1){var t=e.effect;(t.f&Oe)!==0&&Je(t,Ct),Sr(t)&&Wn(t),e.ran=!1}r.l.r2.v=!1}})}function Kr(r){return wr(Mn,r,!0)}function Ie(r,e=[],t=Hr){const n=e.map(t);return Hn(()=>r(...n.map(P)))}function Hn(r,e=0){return wr(Mn|Un|e,r,!0)}function fr(r,e=!0){return wr(Mn|vt,r,!0,e)}function $o(r){var e=r.teardown;if(e!==null){const t=Qr,n=J;us(!0),Ve(null);try{e.call(null)}finally{us(t),Ve(n)}}}function Oo(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;(t.f&yr)!==0?t.parent=null:ht(t,e),t=n}}function gl(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&vt)===0&&ht(e),e=t}}function ht(r,e=!0){var t=!1;(e||(r.f&Na)!==0)&&r.nodes_start!==null&&(_l(r.nodes_start,r.nodes_end),t=!0),Oo(r,e&&!t),Cn(r,0),Je(r,Fn);var n=r.transitions;if(n!==null)for(const s of n)s.stop();$o(r);var i=r.parent;i!==null&&i.first!==null&&xo(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function _l(r,e){for(;r!==null;){var t=r===e?null:qn(r);r.remove(),r=t}}function xo(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function Wr(r,e){var t=[];Vi(r,t,!0),Ao(t,()=>{ht(r),e&&e()})}function Ao(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var i of r)i.out(n)}else e()}function Vi(r,e,t){if((r.f&ct)===0){if(r.f^=ct,r.transitions!==null)for(const o of r.transitions)(o.is_global||t)&&e.push(o);for(var n=r.first;n!==null;){var i=n.next,s=(n.f&Jr)!==0||(n.f&vt)!==0;Vi(n,e,s?t:!1),n=i}}}function Gr(r){Co(r,!0)}function Co(r,e){if((r.f&ct)!==0){r.f^=ct,(r.f&Oe)===0&&(r.f^=Oe),Sr(r)&&(Je(r,it),Gn(r));for(var t=r.first;t!==null;){var n=t.next,i=(t.f&Jr)!==0||(t.f&vt)!==0;Co(t,i?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let On=[];function ml(){var r=On;On=[],_i(r)}function Xr(r){On.length===0&&queueMicrotask(ml),On.push(r)}let gn=!1,wi=!1,xn=null,qt=!1,Qr=!1;function us(r){Qr=r}let _n=[];let J=null,tt=!1;function Ve(r){J=r}let K=null;function st(r){K=r}let $e=null;function yl(r){J!==null&&J.f&mi&&($e===null?$e=[r]:$e.push(r))}let ke=null,Me=0,We=null;function bl(r){We=r}let Po=1,An=0,Tt=!1;function Do(){return++Po}function Sr(r){var d;var e=r.f;if((e&it)!==0)return!0;if((e&Ct)!==0){var t=r.deps,n=(e&Be)!==0;if(t!==null){var i,s,o=(e&$n)!==0,a=n&&K!==null&&!Tt,l=t.length;if(o||a){var u=r,c=u.parent;for(i=0;i<l;i++)s=t[i],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);o&&(u.f^=$n),a&&c!==null&&(c.f&Be)===0&&(u.f^=Be)}for(i=0;i<l;i++)if(s=t[i],Sr(s)&&mo(s),s.wv>r.wv)return!0}(!n||K!==null&&!Tt)&&Je(r,Oe)}return!1}function wl(r,e){for(var t=e;t!==null;){if((t.f&Tn)!==0)try{t.fn(r);return}catch{t.f^=Tn}t=t.parent}throw gn=!1,r}function cs(r){return(r.f&Fn)===0&&(r.parent===null||(r.parent.f&Tn)===0)}function zn(r,e,t,n){if(gn){if(t===null&&(gn=!1),cs(e))throw r;return}if(t!==null&&(gn=!0),wl(r,e),cs(e))throw r}function jo(r,e,t=!0){var n=r.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];$e!=null&&$e.includes(r)||((s.f&Ze)!==0?jo(s,e,!1):e===s&&(t?Je(s,it):(s.f&Oe)!==0&&Je(s,Ct),Gn(s)))}}function Io(r){var f;var e=ke,t=Me,n=We,i=J,s=Tt,o=$e,a=ie,l=tt,u=r.f;ke=null,Me=0,We=null,Tt=(u&Be)!==0&&(tt||!qt||J===null),J=(u&(vt|yr))===0?r:null,$e=null,os(r.ctx),tt=!1,An++,r.f|=mi;try{var c=(0,r.fn)(),d=r.deps;if(ke!==null){var h;if(Cn(r,Me),d!==null&&Me>0)for(d.length=Me+ke.length,h=0;h<ke.length;h++)d[Me+h]=ke[h];else r.deps=d=ke;if(!Tt)for(h=Me;h<d.length;h++)((f=d[h]).reactions??(f.reactions=[])).push(r)}else d!==null&&Me<d.length&&(Cn(r,Me),d.length=Me);if(Bn()&&We!==null&&!tt&&d!==null&&(r.f&(Ze|Ct|it))===0)for(h=0;h<We.length;h++)jo(We[h],r);return i!==null&&i!==r&&(An++,We!==null&&(n===null?n=We:n.push(...We))),c}finally{ke=e,Me=t,We=n,J=i,Tt=s,$e=o,os(a),tt=l,r.f^=mi}}function El(r,e){let t=e.reactions;if(t!==null){var n=Pa.call(t,r);if(n!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[n]=t[i],t.pop())}}t===null&&(e.f&Ze)!==0&&(ke===null||!ke.includes(e))&&(Je(e,Ct),(e.f&(Be|$n))===0&&(e.f^=$n),go(e),Cn(e,0))}function Cn(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)El(r,t[n])}function Wn(r){var e=r.f;if((e&Fn)===0){Je(r,Oe);var t=K,n=ie,i=qt;K=r,qt=!0;try{(e&Un)!==0?gl(r):Oo(r),$o(r);var s=Io(r);r.teardown=typeof s=="function"?s:null,r.wv=Po;var o=r.deps,a;is&&Va&&r.f&it}catch(l){zn(l,r,t,n||r.ctx)}finally{qt=i,K=t}}}function Sl(){try{qa()}catch(r){if(xn!==null)zn(r,xn,null);else throw r}}function kl(){var r=qt;try{var e=0;for(qt=!0;_n.length>0;){e++>1e3&&Sl();var t=_n,n=t.length;_n=[];for(var i=0;i<n;i++){var s=$l(t[i]);Tl(s)}zr.clear()}}finally{wi=!1,qt=r,xn=null}}function Tl(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(Fn|ct))===0)try{Sr(n)&&(Wn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?xo(n):n.fn=null))}catch(i){zn(i,n,null,n.ctx)}}}function Gn(r){wi||(wi=!0,queueMicrotask(kl));for(var e=xn=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(yr|vt))!==0){if((t&Oe)===0)return;e.f^=Oe}}_n.push(e)}function $l(r){for(var e=[],t=r;t!==null;){var n=t.f,i=(n&(vt|yr))!==0,s=i&&(n&Oe)!==0;if(!s&&(n&ct)===0){if((n&lo)!==0)e.push(t);else if(i)t.f^=Oe;else{var o=J;try{J=t,Sr(t)&&Wn(t)}catch(u){zn(u,t,null,t.ctx)}finally{J=o}}var a=t.first;if(a!==null){t=a;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}return e}function P(r){var e=r.f,t=(e&Ze)!==0;if(J!==null&&!tt){if(!($e!=null&&$e.includes(r))){var n=J.deps;r.rv<An&&(r.rv=An,ke===null&&n!==null&&n[Me]===r?Me++:ke===null?ke=[r]:(!Tt||!ke.includes(r))&&ke.push(r))}}else if(t&&r.deps===null&&r.effects===null){var i=r,s=i.parent;s!==null&&(s.f&Be)===0&&(i.f^=Be)}return t&&(i=r,Sr(i)&&mo(i)),Qr&&zr.has(r)?zr.get(r):r.v}function At(r){var e=tt;try{return tt=!0,r()}finally{tt=e}}const Ol=-7169;function Je(r,e){r.f=r.f&Ol|e}function Vn(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(xt in r)Ei(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&xt in t&&Ei(t)}}}function Ei(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{Ei(r[n],e)}catch{}const t=qi(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=ao(t);for(let i in n){const s=n[i].get;if(s)try{s.call(r)}catch{}}}}}function xl(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const Al=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Cl(r){return Al.includes(r)}const Pl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Dl(r){return r=r.toLowerCase(),Pl[r]??r}const jl=["touchstart","touchmove"];function Il(r){return jl.includes(r)}function Rl(r,e){if(e){const t=document.body;r.autofocus=!0,Xr(()=>{document.activeElement===t&&r.focus()})}}function Ro(r){var e=J,t=K;Ve(null),st(null);try{return r()}finally{Ve(e),st(t)}}const Lo=new Set,Si=new Set;function No(r,e,t,n={}){function i(s){if(n.capture||Cr.call(e,s),!s.cancelBubble)return Ro(()=>t==null?void 0:t.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Xr(()=>{e.addEventListener(r,i,n)}):e.addEventListener(r,i,n),i}function rt(r,e,t,n,i){var s={capture:n,passive:i},o=No(r,e,t,s);(e===document.body||e===window||e===document)&&ko(()=>{e.removeEventListener(r,o,s)})}function Ll(r){for(var e=0;e<r.length;e++)Lo.add(r[e]);for(var t of Si)t(r)}function Cr(r){var _;var e=this,t=e.ownerDocument,n=r.type,i=((_=r.composedPath)==null?void 0:_.call(r))||[],s=i[0]||r.target,o=0,a=r.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||r.target,s!==e){Da(r,"currentTarget",{configurable:!0,get(){return s||t}});var c=J,d=K;Ve(null),st(null);try{for(var h,f=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+n];if(p!=null&&(!s.disabled||r.target===s))if(Fi(p)){var[g,...E]=p;g.apply(s,[r,...E])}else p.call(s,r)}catch(m){h?f.push(m):h=m}if(r.cancelBubble||v===e||v===null)break;s=v}if(h){for(let m of f)queueMicrotask(()=>{throw m});throw h}}finally{r.__root=e,delete r.currentTarget,Ve(c),st(d)}}}function Mo(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function vr(r,e){var t=K;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function ve(r,e){var t=(e&il)!==0,n=(e&sl)!==0,i,s=!r.startsWith("<!>");return()=>{i===void 0&&(i=Mo(s?r:"<!>"+r),t||(i=hr(i)));var o=n||bo?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=hr(o),l=o.lastChild;vr(a,l)}else vr(o,o);return o}}function Nl(r,e,t="svg"){var n=!r.startsWith("<!>"),i=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var o=Mo(i),a=hr(o);s=hr(a)}var l=s.cloneNode(!0);return vr(l,l),l}}function ds(r=""){{var e=Yr(r+"");return vr(e,e),e}}function Ae(){var r=document.createDocumentFragment(),e=document.createComment(""),t=Yr();return r.append(e,t),vr(e,t),r}function q(r,e){r!==null&&r.before(e)}let Pn=!0;function hs(r){Pn=r}function Se(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t+"")}function Uo(r,e){return Ml(r,e)}const Wt=new Map;function Ml(r,{target:e,anchor:t,props:n={},events:i,context:s,intro:o=!0}){dl();var a=new Set,l=d=>{for(var h=0;h<d.length;h++){var f=d[h];if(!a.has(f)){a.add(f);var v=Il(f);e.addEventListener(f,Cr,{passive:v});var p=Wt.get(f);p===void 0?(document.addEventListener(f,Cr,{passive:v}),Wt.set(f,1)):Wt.set(f,p+1)}}};l(Bi(Lo)),Si.add(l);var u=void 0,c=pl(()=>{var d=t??e.appendChild(Yr());return fr(()=>{if(s){Pt({});var h=ie;h.c=s}i&&(n.$$events=i),Pn=o,u=r(d,n)||{},Pn=!0,s&&Dt()}),()=>{var v;for(var h of a){e.removeEventListener(h,Cr);var f=Wt.get(h);--f===0?(document.removeEventListener(h,Cr),Wt.delete(h)):Wt.set(h,f)}Si.delete(l),d!==t&&((v=d.parentNode)==null||v.removeChild(d))}});return ki.set(u,c),u}let ki=new WeakMap;function Ul(r,e){const t=ki.get(r);return t?(ki.delete(r),t(e)):Promise.resolve()}function Qe(r,e,[t,n]=[0,0]){var i=r,s=null,o=null,a=De,l=t>0?Jr:0,u=!1;const c=(h,f=!0)=>{u=!0,d(f,h)},d=(h,f)=>{a!==(a=h)&&(a?(s?Gr(s):f&&(s=fr(()=>f(i))),o&&Wr(o,()=>{o=null})):(o?Gr(o):f&&(o=fr(()=>f(i,[t+1,n]))),s&&Wr(s,()=>{s=null})))};Hn(()=>{u=!1,e(c),u||d(null,null)},l)}function Fl(r,e){return e}function Bl(r,e,t,n){for(var i=[],s=e.length,o=0;o<s;o++)Vi(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;hl(l),l.append(t),n.clear(),yt(r,e[0].prev,e[s-1].next)}Ao(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(n.delete(c.k),yt(r,c.prev,c.next)),ht(c.e,!a)}})}function Fo(r,e,t,n,i,s=null){var o=r,a={flags:e,items:new Map,first:null},l=(e&vo)!==0;if(l){var u=r;o=u.appendChild(Yr())}var c=null,d=!1,h=Te(()=>{var f=t();return Fi(f)?f:f==null?[]:Bi(f)});Hn(()=>{var f=P(h),v=f.length;d&&v===0||(d=v===0,ql(f,a,o,i,e,n,t),s!==null&&(v===0?c?Gr(c):c=fr(()=>s(o)):c!==null&&Wr(c,()=>{c=null})),P(h))})}function ql(r,e,t,n,i,s,o){var x,S,b,A;var a=(i&Ya)!==0,l=(i&(Wi|Gi))!==0,u=r.length,c=e.items,d=e.first,h=d,f,v=null,p,g=[],E=[],_,m,y,w;if(a)for(w=0;w<u;w+=1)_=r[w],m=s(_,w),y=c.get(m),y!==void 0&&((x=y.a)==null||x.measure(),(p??(p=new Set)).add(y));for(w=0;w<u;w+=1){if(_=r[w],m=s(_,w),y=c.get(m),y===void 0){var C=h?h.e.nodes_start:t;v=zl(C,e,v,v===null?e.first:v.next,_,m,w,n,i,o),c.set(m,v),g=[],E=[],h=v.next;continue}if(l&&Hl(y,_,w,i),(y.e.f&ct)!==0&&(Gr(y.e),a&&((S=y.a)==null||S.unfix(),(p??(p=new Set)).delete(y))),y!==h){if(f!==void 0&&f.has(y)){if(g.length<E.length){var T=E[0],R;v=T.prev;var D=g[0],j=g[g.length-1];for(R=0;R<g.length;R+=1)fs(g[R],T,t);for(R=0;R<E.length;R+=1)f.delete(E[R]);yt(e,D.prev,j.next),yt(e,v,D),yt(e,j,T),h=T,v=j,w-=1,g=[],E=[]}else f.delete(y),fs(y,h,t),yt(e,y.prev,y.next),yt(e,y,v===null?e.first:v.next),yt(e,v,y),v=y;continue}for(g=[],E=[];h!==null&&h.k!==m;)(h.e.f&ct)===0&&(f??(f=new Set)).add(h),E.push(h),h=h.next;if(h===null)continue;y=h}g.push(y),v=y,h=y.next}if(h!==null||f!==void 0){for(var O=f===void 0?[]:Bi(f);h!==null;)(h.e.f&ct)===0&&O.push(h),h=h.next;var re=O.length;if(re>0){var se=(i&vo)!==0&&u===0?t:null;if(a){for(w=0;w<re;w+=1)(b=O[w].a)==null||b.measure();for(w=0;w<re;w+=1)(A=O[w].a)==null||A.fix()}Bl(e,O,se,c)}}a&&Xr(()=>{var $;if(p!==void 0)for(y of p)($=y.a)==null||$.apply()}),K.first=e.first&&e.first.e,K.last=v&&v.e}function Hl(r,e,t,n){(n&Wi)!==0&&yi(r.v,e),(n&Gi)!==0?yi(r.i,t):r.i=t}function zl(r,e,t,n,i,s,o,a,l,u){var c=(l&Wi)!==0,d=(l&Ka)===0,h=c?d?je(i):dr(i):i,f=(l&Gi)===0?o:dr(o),v={i:f,v:h,k:s,a:null,e:null,prev:t,next:n};try{return v.e=fr(()=>a(r,h,f,u),cl),v.e.prev=t&&t.e,v.e.next=n&&n.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function fs(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var o=qn(s);i.before(s),s=o}}function yt(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Le(r,e,t,n,i){var a;var s=(a=e.$$slots)==null?void 0:a[t],o=!1;s===!0&&(s=e.children,o=!0),s===void 0||s(r,o?()=>n:n)}function Wl(r,e,t,n,i,s){var o,a,l=null,u=r,c;Hn(()=>{const d=e()||null;var h=al;d!==o&&(c&&(d===null?Wr(c,()=>{c=null,a=null}):d===a?Gr(c):(ht(c),hs(!1))),d&&d!==a&&(c=fr(()=>{if(l=document.createElementNS(h,d),vr(l,l),n){var f=l.appendChild(Yr());n(l,f)}K.nodes_end=l,u.before(l)})),o=d,o&&(a=o),hs(!0))},Jr)}function pr(r,e,t){Er(()=>{var n=At(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var i=!1,s={};Kr(()=>{var o=t();Vn(o),i&&Hi(s,o)&&(s=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Bo(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Bo(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Gl(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Bo(r))&&(n&&(n+=" "),n+=e);return n}function Vl(r){return typeof r=="object"?Gl(r):r??""}const vs=[...` 	
\r\f \v\uFEFF`];function Jl(r,e,t){var n=r==null?"":""+r;if(t){for(var i in t)if(t[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var a=o+s;(o===0||vs.includes(n[o-1]))&&(a===n.length||vs.includes(n[a]))?n=(o===0?"":n.substring(0,o))+n.substring(a+1):o=a}}return n===""?null:n}function ps(r,e=!1){var t=e?" !important;":";",n="";for(var i in r){var s=r[i];s!=null&&s!==""&&(n+=" "+i+": "+s+t)}return n}function Xn(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Yl(r,e){if(e){var t="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(Xn)),i&&l.push(...Object.keys(i).map(Xn));var u=0,c=-1;const p=r.length;for(var d=0;d<p;d++){var h=r[d];if(a?h==="/"&&r[d-1]==="*"&&(a=!1):s?s===h&&(s=!1):h==="/"&&r[d+1]==="*"?a=!0:h==='"'||h==="'"?s=h:h==="("?o++:h===")"&&o--,!a&&s===!1&&o===0){if(h===":"&&c===-1)c=d;else if(h===";"||d===p-1){if(c!==-1){var f=Xn(r.substring(u,c).trim());if(!l.includes(f)){h!==";"&&d++;var v=r.substring(u,d).trim();t+=" "+v+";"}}u=d+1,c=-1}}}}return n&&(t+=ps(n)),i&&(t+=ps(i,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function qo(r,e,t,n,i,s){var o=r.__className;if(o!==t||o===void 0){var a=Jl(t,n,s);a==null?r.removeAttribute("class"):e?r.className=a:r.setAttribute("class",a),r.__className=t}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&r.classList.toggle(l,u)}return s}function Qn(r,e={},t,n){for(var i in t){var s=t[i];e[i]!==s&&(t[i]==null?r.style.removeProperty(i):r.style.setProperty(i,s,n))}}function Ho(r,e,t,n){var i=r.__style;if(i!==e){var s=Yl(e,n);s==null?r.removeAttribute("style"):r.style.cssText=s,r.__style=e}else n&&(Array.isArray(n)?(Qn(r,t==null?void 0:t[0],n[0]),Qn(r,t==null?void 0:t[1],n[1],"important")):Qn(r,t,n));return n}const $r=Symbol("class"),Or=Symbol("style"),zo=Symbol("is custom element"),Wo=Symbol("is html");function Kl(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function ut(r,e,t,n){var i=Go(r);i[e]!==(i[e]=t)&&(e==="loading"&&(r[Ma]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Vo(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function gs(r,e,t,n,i=!1){var s=Go(r),o=s[zo],a=!s[Wo],l=e||{},u=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class?t.class=Vl(t.class):t[$r]&&(t.class=null),t[Or]&&(t.style??(t.style=null));var d=Vo(r);for(const _ in t){let m=t[_];if(u&&_==="value"&&m==null){r.value=r.__value="",l[_]=m;continue}if(_==="class"){var h=r.namespaceURI==="http://www.w3.org/1999/xhtml";qo(r,h,m,n,e==null?void 0:e[$r],t[$r]),l[_]=m,l[$r]=t[$r];continue}if(_==="style"){Ho(r,m,e==null?void 0:e[Or],t[Or]),l[_]=m,l[Or]=t[Or];continue}var f=l[_];if(m!==f){l[_]=m;var v=_[0]+_[1];if(v!=="$$")if(v==="on"){const y={},w="$$"+_;let C=_.slice(2);var p=Cl(C);if(xl(C)&&(C=C.slice(0,-7),y.capture=!0),!p&&f){if(m!=null)continue;r.removeEventListener(C,l[w],y),l[w]=null}if(m!=null)if(p)r[`__${C}`]=m,Ll([C]);else{let T=function(R){l[_].call(this,R)};l[w]=No(C,r,T,y)}else p&&(r[`__${C}`]=void 0)}else if(_==="style")ut(r,_,m);else if(_==="autofocus")Rl(r,!!m);else if(!o&&(_==="__value"||_==="value"&&m!=null))r.value=r.__value=m;else if(_==="selected"&&u)Kl(r,m);else{var g=_;a||(g=Dl(g));var E=g==="defaultValue"||g==="defaultChecked";if(m==null&&!o&&!E)if(s[_]=null,g==="value"||g==="checked"){let y=r;const w=e===void 0;if(g==="value"){let C=y.defaultValue;y.removeAttribute(g),y.defaultValue=C,y.value=y.__value=w?C:null}else{let C=y.defaultChecked;y.removeAttribute(g),y.defaultChecked=C,y.checked=w?C:!1}}else r.removeAttribute(_);else E||d.includes(g)&&(o||typeof m!="string")?r[g]=m:typeof m!="function"&&ut(r,g,m)}}}return l}function Go(r){return r.__attributes??(r.__attributes={[zo]:r.nodeName.includes("-"),[Wo]:r.namespaceURI===ol})}var _s=new Map;function Vo(r){var e=_s.get(r.nodeName);if(e)return e;_s.set(r.nodeName,e=[]);for(var t,n=r,i=Element.prototype;i!==n;){t=ao(n);for(var s in t)t[s].set&&e.push(s);n=qi(n)}return e}const Xl=()=>performance.now(),lt={tick:r=>requestAnimationFrame(r),now:()=>Xl(),tasks:new Set};function Jo(){const r=lt.now();lt.tasks.forEach(e=>{e.c(r)||(lt.tasks.delete(e),e.f())}),lt.tasks.size!==0&&lt.tick(Jo)}function Ql(r){let e;return lt.tasks.size===0&&lt.tick(Jo),{promise:new Promise(t=>{lt.tasks.add(e={c:r,f:t})}),abort(){lt.tasks.delete(e)}}}function nn(r,e){Ro(()=>{r.dispatchEvent(new CustomEvent(e))})}function Zl(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ms(r){const e={},t=r.split(";");for(const n of t){const[i,s]=n.split(":");if(!i||s===void 0)break;const o=Zl(i.trim());e[o]=s.trim()}return e}const eu=r=>r;function Ti(r,e,t,n){var i=(r&tl)!==0,s=(r&rl)!==0,o=i&&s,a=(r&nl)!==0,l=o?"both":i?"in":"out",u,c=e.inert,d=e.style.overflow,h,f;function v(){var m=J,y=K;Ve(null),st(null);try{return u??(u=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{Ve(m),st(y)}}var p={is_global:a,in(){var m;if(e.inert=c,!i){f==null||f.abort(),(m=f==null?void 0:f.reset)==null||m.call(f);return}s||h==null||h.abort(),nn(e,"introstart"),h=$i(e,v(),f,1,()=>{nn(e,"introend"),h==null||h.abort(),h=u=void 0,e.style.overflow=d})},out(m){if(!s){m==null||m(),u=void 0;return}e.inert=!0,nn(e,"outrostart"),f=$i(e,v(),h,0,()=>{nn(e,"outroend"),m==null||m()})},stop:()=>{h==null||h.abort(),f==null||f.abort()}},g=K;if((g.transitions??(g.transitions=[])).push(p),i&&Pn){var E=a;if(!E){for(var _=g.parent;_&&(_.f&Jr)!==0;)for(;(_=_.parent)&&(_.f&Un)===0;);E=!_||(_.f&uo)!==0}E&&Er(()=>{At(()=>p.in())})}}function $i(r,e,t,n,i){var s=n===1;if(nr(e)){var o,a=!1;return Xr(()=>{if(!a){var g=e({direction:s?"in":"out"});o=$i(r,g,t,n,i)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:Et,deactivate:Et,reset:Et,t:()=>n};const{delay:l=0,css:u,tick:c,easing:d=eu}=e;var h=[];if(s&&t===void 0&&(c&&c(0,1),u)){var f=ms(u(0,1));h.push(f,f)}var v=()=>1-n,p=r.animate(h,{duration:l});return p.onfinish=()=>{var g=(t==null?void 0:t.t())??1-n;t==null||t.abort();var E=n-g,_=e.duration*Math.abs(E),m=[];if(_>0){var y=!1;if(u)for(var w=Math.ceil(_/16.666666666666668),C=0;C<=w;C+=1){var T=g+E*d(C/w),R=ms(u(T,1-T));m.push(R),y||(y=R.overflow==="hidden")}y&&(r.style.overflow="hidden"),v=()=>{var D=p.currentTime;return g+E*d(D/_)},c&&Ql(()=>{if(p.playState!=="running")return!1;var D=v();return c(D,1-D),!0})}p=r.animate(m,{duration:_,fill:"forwards"}),p.onfinish=()=>{v=()=>n,c==null||c(n,1-n),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Et)},deactivate:()=>{i=Et},reset:()=>{n===0&&(c==null||c(1,0))},t:()=>v()}}function ys(r,e){return r===e||(r==null?void 0:r[xt])===e}function tu(r={},e,t,n){return Er(()=>{var i,s;return Kr(()=>{i=s,s=[],At(()=>{r!==t(...s)&&(e(r,...s),i&&ys(t(...i),r)&&e(null,...i))})}),()=>{Xr(()=>{s&&ys(t(...s),r)&&e(null,...s)})}}),r}function Ht(r=!1){const e=ie,t=e.l.u;if(!t)return;let n=()=>Vn(e.s);if(r){let i=0,s={};const o=Hr(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],a=!0);return a&&i++,i});n=()=>P(o)}t.b.length&&vl(()=>{bs(e,n),_i(t.b)}),bi(()=>{const i=At(()=>t.m.map(Ra));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&bi(()=>{bs(e,n),_i(t.a)})}function bs(r,e){if(r.l.s)for(const t of r.l.s)P(t);e()}const Gt=[];function ws(r,e=Et){let t=null;const n=new Set;function i(a){if(Hi(r,a)&&(r=a,t)){const l=!Gt.length;for(const u of n)u[1](),Gt.push(u,r);if(l){for(let u=0;u<Gt.length;u+=2)Gt[u][0](Gt[u+1]);Gt.length=0}}}function s(a){i(a(r))}function o(a,l=Et){const u=[a,l];return n.add(u),n.size===1&&(t=e(i,s)||Et),a(r),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}let sn=!1;function ru(r){var e=sn;try{return sn=!1,[r(),sn]}finally{sn=e}}const nu={get(r,e){if(!r.exclude.includes(e))return P(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=X({get[e](){return r.props[e]}},e,po)),r.special[e](t),as(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),as(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function xe(r,e){return new Proxy({props:r,exclude:e,special:{},version:dr(0)},nu)}const iu={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(nr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let i=r.props[n];nr(i)&&(i=i());const s=Ot(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(nr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const i=Ot(n,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(r,e){if(e===xt||e===ho)return!1;for(let t of r.props)if(nr(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){nr(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function qe(...r){return new Proxy({props:r},iu)}function Es(r){var e;return((e=r.ctx)==null?void 0:e.d)??!1}function X(r,e,t,n){var C;var i=(t&Xa)!==0,s=!br||(t&Qa)!==0,o=(t&Za)!==0,a=(t&el)!==0,l=!1,u;o?[u,l]=ru(()=>r[e]):u=r[e];var c=xt in r||ho in r,d=o&&(((C=Ot(r,e))==null?void 0:C.set)??(c&&e in r&&(T=>r[e]=T)))||void 0,h=n,f=!0,v=!1,p=()=>(v=!0,f&&(f=!1,a?h=At(n):h=n),h);u===void 0&&n!==void 0&&(d&&s&&Ha(),u=p(),d&&d(u));var g;if(s)g=()=>{var T=r[e];return T===void 0?p():(f=!0,v=!1,T)};else{var E=(i?Hr:Te)(()=>r[e]);E.f|=La,g=()=>{var T=P(E);return T!==void 0&&(h=void 0),T===void 0?h:T}}if((t&po)===0)return g;if(d){var _=r.$$legacy;return function(T,R){return arguments.length>0?((!s||!R||_||l)&&d(R?g():T),T):g()}}var m=!1,y=je(u),w=Hr(()=>{var T=g(),R=P(y);return m?(m=!1,R):y.v=T});return o&&P(w),i||(w.equals=zi),function(T,R){if(arguments.length>0){const D=R?P(w):s&&o?Ft(T):T;if(!w.equals(D)){if(m=!0,ee(y,D),v&&h!==void 0&&(h=D),Es(w))return T;At(()=>P(w))}return T}return Es(w)?w.v:P(w)}}function su(r){ie===null&&ll(),br&&ie.l!==null?ou(ie).m.push(r):bi(()=>{const e=At(r);if(typeof e=="function")return e})}function ou(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const au="5";var oo;typeof window<"u"&&((oo=window.__svelte??(window.__svelte={})).v??(oo.v=new Set)).add(au);Ja();const lu="modulepreload",uu=function(r){return"/github-projects-dashboard/"+r},Ss={},gr=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(u=>{if(u=uu(u),u in Ss)return;Ss[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":lu,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},cu=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gr(async()=>{const{default:n}=await Promise.resolve().then(()=>kr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Ji extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class du extends Ji{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hu extends Ji{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fu extends Ji{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Oi;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Oi||(Oi={}));var vu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class pu{constructor(e,{headers:t={},customFetch:n,region:i=Oi.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=cu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return vu(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(v=>{throw new du(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new hu(c);if(!c.ok)throw new fu(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield c.json():h==="application/octet-stream"?f=yield c.blob():h==="text/event-stream"?f=c:h==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function Yi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function gu(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var ge={},Vt={},Jt={},Yt={},Kt={},Xt={},_u=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_r=_u();const mu=_r.fetch,Yo=_r.fetch.bind(_r),Ko=_r.Headers,yu=_r.Request,bu=_r.Response,kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ko,Request:yu,Response:bu,default:Yo,fetch:mu},Symbol.toStringTag,{value:"Module"})),wu=gu(kr);var on={},ks;function Xo(){if(ks)return on;ks=1,Object.defineProperty(on,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return on.default=r,on}var Ts;function Qo(){if(Ts)return Xt;Ts=1;var r=Xt&&Xt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xt,"__esModule",{value:!0});const e=r(wu),t=r(Xo());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h;let f=null,v=null,p=null,g=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const w=await u.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=w:v=JSON.parse(w))}const m=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),y=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,p=null,g=406,E="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const m=await u.text();try{f=JSON.parse(m),Array.isArray(f)&&u.status===404&&(v=[],f=null,g=200,E="OK")}catch{u.status===404&&m===""?(g=204,E="No Content"):f={message:m}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,g=200,E="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:v,count:p,status:g,statusText:E}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Xt.default=n,Xt}var $s;function Zo(){if($s)return Kt;$s=1;var r=Kt&&Kt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kt,"__esModule",{value:!0});const e=r(Qo());class t extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Kt.default=t,Kt}var Os;function Ki(){if(Os)return Yt;Os=1;var r=Yt&&Yt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yt,"__esModule",{value:!0});const e=r(Zo());class t extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Yt.default=t,Yt}var xs;function ea(){if(xs)return Jt;xs=1;var r=Jt&&Jt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jt,"__esModule",{value:!0});const e=r(Ki());class t{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Jt.default=t,Jt}var xr={},Ar={},As;function Eu(){return As||(As=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.version=void 0,Ar.version="0.0.0-automated"),Ar}var Cs;function Su(){if(Cs)return xr;Cs=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.DEFAULT_HEADERS=void 0;const r=Eu();return xr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},xr}var Ps;function ku(){if(Ps)return Vt;Ps=1;var r=Vt&&Vt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vt,"__esModule",{value:!0});const e=r(ea()),t=r(Ki()),n=Su();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{h.searchParams.append(p,g)})):(d="POST",f=a);const v=Object.assign({},this.headers);return c&&(v.Prefer=`count=${c}`),new t.default({method:d,url:h,headers:v,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return Vt.default=i,Vt}var Ds;function Tu(){if(Ds)return ge;Ds=1;var r=ge&&ge.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const e=r(ku());ge.PostgrestClient=e.default;const t=r(ea());ge.PostgrestQueryBuilder=t.default;const n=r(Ki());ge.PostgrestFilterBuilder=n.default;const i=r(Zo());ge.PostgrestTransformBuilder=i.default;const s=r(Qo());ge.PostgrestBuilder=s.default;const o=r(Xo());return ge.PostgrestError=o.default,ge.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},ge}var $u=Tu();const Ou=Yi($u),{PostgrestClient:xu,PostgrestQueryBuilder:Ph,PostgrestFilterBuilder:Dh,PostgrestTransformBuilder:jh,PostgrestBuilder:Ih,PostgrestError:Rh}=Ou,Au="2.11.2",Cu={"X-Client-Info":`realtime-js/${Au}`},Pu="1.0.0",ta=1e4,Du=1e3;var ar;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ar||(ar={}));var Ue;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ue||(Ue={}));var Ke;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ke||(Ke={}));var xi;(function(r){r.websocket="websocket"})(xi||(xi={}));var Bt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Bt||(Bt={}));class ju{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ra{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(te||(te={}));const js=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=Iu(o,r,e,i),s),{})},Iu=(r,e,t,n)=>{const i=e.find(a=>a.name===r),s=i==null?void 0:i.type,o=t[r];return s&&!n.includes(s)?na(s,o):Ai(o)},na=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Mu(e,t)}switch(r){case te.bool:return Ru(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Lu(e);case te.json:case te.jsonb:return Nu(e);case te.timestamp:return Uu(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Ai(e);default:return Ai(e)}},Ai=r=>r,Ru=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Lu=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Nu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Mu=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const o=r.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>na(e,a))}return r},Uu=r=>typeof r=="string"?r.replace(" ","T"):r,ia=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zn{constructor(e,t,n={},i=ta){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Is;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Is||(Is={}));class Rr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Rr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const h=c.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),v=c.filter(g=>f.indexOf(g.presence_ref)<0),p=d.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(a[u]=v),p.length>0&&(l[u]=p)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rs;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Rs||(Rs={}));var Ls;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ls||(Ls={}));var at;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class Xi{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Zn(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new ra(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Rr(this),this.broadcastEndpointURL=ia(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(at.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(at.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(at.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,v=[];for(let p=0;p<f;p++){const g=h[p],{filter:{event:E,schema:_,table:m,filter:y}}=g,w=c&&c[p];if(w&&w.event===E&&w.schema===_&&w.table===m&&w.filter===y)v.push(Object.assign(Object.assign({},g),{id:w.id}));else{this.unsubscribe(),e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(at.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Zn(this,Ke.leave,{},e);i.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zn(this,e,t,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ke;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,p,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var v,p,g,E,_,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const y=f.id,w=(v=f.filter)===null||v===void 0?void 0:v.event;return y&&((p=t.ids)===null||p===void 0?void 0:p.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const y=(_=(E=f==null?void 0:f.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return y==="*"||y===((m=t==null?void 0:t.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:E,type:_,errors:m}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:E,eventType:_,new:{},old:{},errors:m}),this._getPayloadRecords(v))}f.callback(h,n)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Xi.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=js(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=js(e.columns,e.old_record)),t}}const Fu=()=>{},Bu=typeof WebSocket<"u",qu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Cu,this.params={},this.timeout=ta,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new ju,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>gr(async()=>{const{default:l}=await Promise.resolve().then(()=>kr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${xi.websocket}`,this.httpEndpoint=ia(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ra(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new zu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gr(async()=>{const{default:e}=await import("./browser-BJF5DByf.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pu}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ar.connecting:return Bt.Connecting;case ar.open:return Bt.Open;case ar.closing:return Bt.Closing;default:return Bt.Closed}}isConnected(){return this.connectionState()===Bt.Open}channel(e,t={config:{}}){const n=new Xi(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Ke.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Du,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:i,payload:s,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([qu],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class zu{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ar.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Qi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Wu extends Qi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ci extends Qi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Gu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const sa=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gr(async()=>{const{default:n}=await Promise.resolve().then(()=>kr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Vu=()=>Gu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gr(()=>Promise.resolve().then(()=>kr),void 0)).Response:Response}),Pi=r=>{if(Array.isArray(r))return r.map(t=>Pi(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Pi(n)}),e};var zt=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const ei=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ju=(r,e,t)=>zt(void 0,void 0,void 0,function*(){const n=yield Vu();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{e(new Wu(ei(i),r.status||500))}).catch(i=>{e(new Ci(ei(i),i))}):e(new Ci(ei(r),r))}),Yu=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),t))};function Zr(r,e,t,n,i,s){return zt(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,Yu(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ju(l,a,n))})})}function Dn(r,e,t,n){return zt(this,void 0,void 0,function*(){return Zr(r,"GET",e,t,n)})}function bt(r,e,t,n,i){return zt(this,void 0,void 0,function*(){return Zr(r,"POST",e,n,i,t)})}function Ku(r,e,t,n,i){return zt(this,void 0,void 0,function*(){return Zr(r,"PUT",e,n,i,t)})}function Xu(r,e,t,n){return zt(this,void 0,void 0,function*(){return Zr(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function oa(r,e,t,n,i){return zt(this,void 0,void 0,function*(){return Zr(r,"DELETE",e,n,i,t)})}var Ce=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const Qu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ns={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zu{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=sa(i)}uploadOrUpdate(e,t,n,i){return Ce(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ns),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return Ce(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:Ns.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield bt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Qi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}copy(e,t,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield bt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return Ce(this,void 0,void 0,function*(){try{const i=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}download(e,t){return Ce(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Dn(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(e){return Ce(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Dn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Pi(n),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}exists(e){return Ce(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Xu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_e(n)&&n instanceof Ci){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Qu),t),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ec="2.7.1",tc={"X-Client-Info":`storage-js/${ec}`};var Qt=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class rc{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},tc),t),this.fetch=sa(n)}listBuckets(){return Qt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return Qt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Qt(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Qt(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Qt(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Qt(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}}class nc extends rc{constructor(e,t={},n){super(e,t,n)}from(e){return new Zu(this.url,this.headers,e,this.fetch)}}const ic="2.49.4";let Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";const sc={"X-Client-Info":`supabase-js-${Pr}/${ic}`},oc={headers:sc},ac={schema:"public"},lc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uc={};var cc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const dc=r=>{let e;return r?e=r:typeof fetch>"u"?e=Yo:e=fetch,(...t)=>e(...t)},hc=()=>typeof Headers>"u"?Ko:Headers,fc=(r,e,t)=>{const n=dc(t),i=hc();return(s,o)=>cc(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var vc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};function pc(r){return r.replace(/\/$/,"")}function gc(r,e){const{db:t,auth:n,realtime:i,global:s}=r,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>vc(this,void 0,void 0,function*(){return""})};return r.accessToken?c.accessToken=r.accessToken:delete c.accessToken,c}const aa="2.69.1",ir=30*1e3,Di=3,ti=Di*ir,_c="http://localhost:9999",mc="supabase.auth.token",yc={"X-Client-Info":`gotrue-js/${aa}`},ji="X-Supabase-Api-Version",la={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bc=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wc=6e5;class Zi extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function B(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Ec extends Zi{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Sc(r){return B(r)&&r.name==="AuthApiError"}class ua extends Zi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class jt extends Zi{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class _t extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kc(r){return B(r)&&r.name==="AuthSessionMissingError"}class ri extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class an extends jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ln extends jt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tc(r){return B(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ms extends jt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ii extends jt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ni(r){return B(r)&&r.name==="AuthRetryableFetchError"}class Us extends jt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Lr extends jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bs=` 	
\r=`.split(""),$c=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Bs.length;e+=1)r[Bs[e].charCodeAt(0)]=-2;for(let e=0;e<Fs.length;e+=1)r[Fs[e].charCodeAt(0)]=e;return r})();function ca(r,e,t){const n=$c[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function qs(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Ac(o,n,t)};for(let o=0;o<r.length;o+=1)ca(r.charCodeAt(o),i,s);return e.join("")}function Oc(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function xc(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Oc(n,e)}}function Ac(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Cc(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)ca(r.charCodeAt(i),t,n);return new Uint8Array(e)}function Pc(r){const e=[];return xc(r,t=>e.push(t)),new Uint8Array(e)}function Dc(r){return Math.round(Date.now()/1e3)+r}function jc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},Nr=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function Ic(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const da=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gr(async()=>{const{default:n}=await Promise.resolve().then(()=>kr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Rc=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ha=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},un=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},cn=async(r,e)=>{await r.removeItem(e)};class Jn{constructor(){this.promise=new Jn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Jn.promiseConstructor=Promise;function ii(r){const e=r.split(".");if(e.length!==3)throw new Lr("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!bc.test(e[n]))throw new Lr("JWT not in base64url format");return{header:JSON.parse(qs(e[0])),payload:JSON.parse(qs(e[1])),signature:Cc(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lc(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Nc(r,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await r(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Mc(r){return("0"+r.toString(16)).substr(-2)}function Uc(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Mc).join("")}async function Fc(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Bc(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Fc(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zt(r,e,t=!1){const n=Uc();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await ha(r,`${e}-code-verifier`,i);const s=await Bc(n);return[s,n===s?"plain":"s256"]}const qc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hc(r){const e=r.headers.get(ji);if(!e||!e.match(qc))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zc(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Wc(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Gc=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Mt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Vc=[502,503,504];async function Hs(r){var e;if(!Rc(r))throw new Ii(Mt(r),0);if(Vc.includes(r.status))throw new Ii(Mt(r),r.status);let t;try{t=await r.json()}catch(s){throw new ua(Mt(s),s)}let n;const i=Hc(r);if(i&&i.getTime()>=la["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Us(Mt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _t}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Us(Mt(t),r.status,t.weak_password.reasons);throw new Ec(Mt(t),r.status||500,n)}const Jc=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function z(r,e,t,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[ji]||(s[ji]=la["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Yc(r,e,t+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Yc(r,e,t,n,i,s){const o=Jc(e,n,i,s);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Ii(Mt(l),0)}if(a.ok||await Hs(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Hs(l)}}function mt(r){var e;let t=null;Zc(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Dc(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function zs(r){const e=mt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function St(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Kc(r){return{data:r,error:null}}function Xc(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s}=r,o=Gc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Qc(r){return r}function Zc(r){return r.access_token&&r.refresh_token&&r.expires_in}var ed=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};class td{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=da(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:St})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=ed(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Xc,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(B(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:St})}catch(t){if(B(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Qc});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:St})}catch(t){if(B(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:St})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:St})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(B(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(B(t))return{data:null,error:t};throw t}}}const rd={getItem:r=>Nr()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Nr()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Nr()&&globalThis.localStorage.removeItem(r)}};function Ws(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function nd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const er={debug:!!(globalThis&&Nr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class id extends fa{}async function sd(r,e,t){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new id(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(er.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}nd();const od={url:_c,storageKey:mc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gs(r,e,t){return await t()}class Vr{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vr.nextInstanceID,Vr.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},od),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new td({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=da(i.fetch),this.lock=i.lock||Gs,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:et()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=sd:this.lock=Gs,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Nr()?this.storage=rd:(this.memoryStorage={},this.storage=Ws(this.memoryStorage)):(this.memoryStorage={},this.storage=Ws(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Ic(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Tc(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return B(t)?{error:t}:{error:new ua("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Zt(this.storage,this.storageKey)),s=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:mt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;s=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:mt})}else throw new an("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zs})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zs})}else throw new an("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ri}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await un(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:s,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mt});if(await cn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ri}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(B(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:mt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ri}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Zt(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new an("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Zt(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Kc})}catch(s){if(B(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new _t;const{error:i}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await z(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await z(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new an("You must provide either an email or phone number and a type")}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ti:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:St}):await this._useSession(async t=>{var n,i,s;const{data:o,error:a}=t;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:St})})}catch(t){if(B(t))return kc(t)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new _t;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zt(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:St});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:o}=ii(e.access_token);if(o.exp&&(n=o.exp,i=n<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(B(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new ln("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ln(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ms("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ln("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ms("No code detected.");const{data:_,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new ln("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sc(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=jc(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Zt(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(B(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(B(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return et()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(B(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Nc(async i=>(i>0&&await Lc(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ni(s)&&Date.now()+o-n<ir})}catch(n){if(this._debug(t,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),et()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await un(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ti;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${ti}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),ni(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jn;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new _t;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),B(s)){const o={session:null,error:s};return ni(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ha(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await cn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ir}ms, refresh threshold is ${Di} ticks`),i<=Di&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Zt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(B(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(B(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(B(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(B(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ii(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+wc>Date.now()))return n;const{data:i,error:s}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Lr("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===e),!n)throw new Lr("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};n=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=ii(n);if(zc(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=Wc(i.alg),c=await this.fetchJwk(i.kid,t),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Pc(`${a}.${l}`)))throw new Lr("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}Vr.nextInstanceID=0;const ad=Vr;class ld extends ad{constructor(e){super(e)}}var ud=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class cd{constructor(e,t,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=pc(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ac,realtime:uc,auth:Object.assign(Object.assign({},lc),{storageKey:l}),global:oc},c=gc(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=fc(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new xu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new pu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return ud(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ld({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Hu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dd=(r,e,t)=>new cd(r,e,t),dn=dd("https://ptmcrrrrdsjgzfdawzkg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWNycnJyZHNqZ3pmZGF3emtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMDI4MzYsImV4cCI6MjA2MDU3ODgzNn0.E_jnXoiniR8-X_VBw3BebpeuBCSTGtZb5qgzMONcvDI");var hd=ve('<div class="fixed z-50 px-2 py-1.5 text-xs rounded-md bg-githubTooltipBgColor text-githubTooltipTextColor whitespace-nowrap"> </div>');function fd(r,e){let t=X(e,"text",8),n=X(e,"top",8,0),i=X(e,"left",8,0),s=X(e,"align",8,"center");var o=hd(),a=I(o);Ie(()=>{Ho(o,`top: ${n()??""}px; left: ${i()??""}px; transform: translateX(${s()==="center"?"-50%":s()==="right"?"-100%":"0%"});`),Se(a,t())}),q(r,o)}function si(r,{text:e,align:t="center"}){let n;function i(){const o=r.getBoundingClientRect(),a=o.bottom+window.scrollY+4;let l;t==="left"?l=o.left+window.scrollX:t==="right"?l=o.right+window.scrollX:l=o.left+window.scrollX+o.width/2,n=Uo(fd,{target:document.body,props:{text:e,top:a,left:l,align:t},intro:!0})}function s(){n&&(Ul(n),n=null)}return r.addEventListener("mouseenter",i),r.addEventListener("mouseleave",s),{destroy(){r.removeEventListener("mouseenter",i),r.removeEventListener("mouseleave",s),r.addEventListener("click",s),s()}}}/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const vd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var pd=Nl("<svg><!><!></svg>");function He(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]),n=xe(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Pt(e,!1);let i=X(e,"name",8,void 0),s=X(e,"color",8,"currentColor"),o=X(e,"size",8,24),a=X(e,"strokeWidth",8,2),l=X(e,"absoluteStrokeWidth",8,!1),u=X(e,"iconNode",24,()=>[]);const c=(...p)=>p.filter((g,E,_)=>!!g&&_.indexOf(g)===E).join(" ");Ht();var d=pd();let h;var f=I(d);Fo(f,1,u,Fl,(p,g)=>{let E=()=>P(g)[0],_=()=>P(g)[1];var m=Ae(),y=he(m);Wl(y,E,!0,(w,C)=>{let T;Ie(()=>T=gs(w,T,{..._()}))}),q(p,m)});var v=G(f);Le(v,e,"default",{}),Ie((p,g)=>h=gs(d,h,{...vd,...n,width:o(),height:o(),stroke:s(),"stroke-width":p,class:g}),[()=>l()?Number(a())*24/Number(o()):a(),()=>c("lucide-icon","lucide",i()?`lucide-${i()}`:"",t.class)],Te),q(r,d),Dt()}function gd(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"archive"},()=>t,{iconNode:[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function va(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"book"},()=>t,{iconNode:[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function _d(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function md(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"chevron-right"},()=>t,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function yd(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"code"},()=>t,{iconNode:[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function Vs(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"github"},()=>t,{iconNode:[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["path",{d:"M9 18c-4.51 2-5-2-7-2"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function bd(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"globe"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function wd(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"loader"},()=>t,{iconNode:[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function Ed(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"lock"},()=>t,{iconNode:[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function Sd(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"log-out"},()=>t,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function kd(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"panels-top-left"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M9 21V9"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function Td(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}function pa(r,e){const t=xe(e,["children","$$slots","$$events","$$legacy"]);He(r,qe({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(i,s)=>{var o=Ae(),a=he(o);Le(a,e,"default",{}),q(i,o)},$$slots:{default:!0}}))}const $d="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='26.6'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20308'%3e%3cpath%20fill='%23FF3E00'%20d='M239.682%2040.707C211.113-.182%20154.69-12.301%20113.895%2013.69L42.247%2059.356a82.198%2082.198%200%200%200-37.135%2055.056a86.566%2086.566%200%200%200%208.536%2055.576a82.425%2082.425%200%200%200-12.296%2030.719a87.596%2087.596%200%200%200%2014.964%2066.244c28.574%2040.893%2084.997%2053.007%20125.787%2027.016l71.648-45.664a82.182%2082.182%200%200%200%2037.135-55.057a86.601%2086.601%200%200%200-8.53-55.577a82.409%2082.409%200%200%200%2012.29-30.718a87.573%2087.573%200%200%200-14.963-66.244'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.889%20270.841c-23.102%206.007-47.497-3.036-61.103-22.648a52.685%2052.685%200%200%201-9.003-39.85a49.978%2049.978%200%200%201%201.713-6.693l1.35-4.115l3.671%202.697a92.447%2092.447%200%200%200%2028.036%2014.007l2.663.808l-.245%202.659a16.067%2016.067%200%200%200%202.89%2010.656a17.143%2017.143%200%200%200%2018.397%206.828a15.786%2015.786%200%200%200%204.403-1.935l71.67-45.672a14.922%2014.922%200%200%200%206.734-9.977a15.923%2015.923%200%200%200-2.713-12.011a17.156%2017.156%200%200%200-18.404-6.832a15.78%2015.78%200%200%200-4.396%201.933l-27.35%2017.434a52.298%2052.298%200%200%201-14.553%206.391c-23.101%206.007-47.497-3.036-61.101-22.649a52.681%2052.681%200%200%201-9.004-39.849a49.428%2049.428%200%200%201%2022.34-33.114l71.664-45.677a52.218%2052.218%200%200%201%2014.563-6.398c23.101-6.007%2047.497%203.036%2061.101%2022.648a52.685%2052.685%200%200%201%209.004%2039.85a50.559%2050.559%200%200%201-1.713%206.692l-1.35%204.116l-3.67-2.693a92.373%2092.373%200%200%200-28.037-14.013l-2.664-.809l.246-2.658a16.099%2016.099%200%200%200-2.89-10.656a17.143%2017.143%200%200%200-18.398-6.828a15.786%2015.786%200%200%200-4.402%201.935l-71.67%2045.674a14.898%2014.898%200%200%200-6.73%209.975a15.9%2015.9%200%200%200%202.709%2012.012a17.156%2017.156%200%200%200%2018.404%206.832a15.841%2015.841%200%200%200%204.402-1.935l27.345-17.427a52.147%2052.147%200%200%201%2014.552-6.397c23.101-6.006%2047.497%203.037%2061.102%2022.65a52.681%2052.681%200%200%201%209.003%2039.848a49.453%2049.453%200%200%201-22.34%2033.12l-71.664%2045.673a52.218%2052.218%200%200%201-14.563%206.398'%3e%3c/path%3e%3c/svg%3e";function lr(r,e){const t=n=>{n.key==="Escape"&&e(n)};return window.addEventListener("keydown",t),{destroy(){window.removeEventListener("keydown",t)}}}function ur(r){const e=document.body.style.overflow;return document.body.style.overflow="hidden",{destroy(){document.body.style.overflow=e}}}const Od=r=>r;function xd(r){const e=r-1;return e*e*e+1}function Js(r,{delay:e=0,duration:t=400,easing:n=Od}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*i}`}}function Ad(r,{delay:e=0,duration:t=400,easing:n=xd,axis:i="y"}={}){const s=getComputedStyle(r),o=+s.opacity,a=i==="y"?"height":"width",l=parseFloat(s[a]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(E=>`${E[0].toUpperCase()}${E.slice(1)}`),d=parseFloat(s[`padding${c[0]}`]),h=parseFloat(s[`padding${c[1]}`]),f=parseFloat(s[`margin${c[0]}`]),v=parseFloat(s[`margin${c[1]}`]),p=parseFloat(s[`border${c[0]}Width`]),g=parseFloat(s[`border${c[1]}Width`]);return{delay:e,duration:t,easing:n,css:E=>`overflow: hidden;opacity: ${Math.min(E*20,1)*o};${a}: ${E*l}px;padding-${u[0]}: ${E*d}px;padding-${u[1]}: ${E*h}px;margin-${u[0]}: ${E*f}px;margin-${u[1]}: ${E*v}px;border-${u[0]}-width: ${E*p}px;border-${u[1]}-width: ${E*g}px;min-${a}: 0`}}var Cd=ve("<div></div>");function ga(r,e){let t=X(e,"topClass",8,"top-0"),n=X(e,"onClick",8,()=>{});var i=Cd();Ie(()=>qo(i,1,`fixed left-0 right-0 bottom-0 z-40 bg-black bg-opacity-30 ${t()}`)),rt("click",i,function(...s){var o;(o=n())==null||o.apply(this,s)}),Ti(1,i,()=>Js,()=>({duration:150})),Ti(2,i,()=>Js,()=>({duration:0})),q(r,i)}var Pd=ve('<!> <div class="_slide-in-container top-0 w-80 p-4"><div class="flex items-center justify-between mb-4 relative"><div class="flex items-center gap-2"><img alt="Avatar" class="w-9 h-9 rounded-full border border-githubBorderColor"> <div class="flex flex-col text-sm leading-tight"><span class="font-bold text-githubPrimaryTextColor"> </span> <span class="text-githubSecondaryTextColor"> </span></div></div> <button aria-label="Close menu" class="text-githubSecondaryTextColor hover:bg-githubButtonHoverBgColor p-2.5 rounded-lg absolute top-0 right-0"><!></button></div> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link p-2 gap-2 mb-1"><!> Docs</a> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link p-2 gap-2 mb-1"><!> Code</a> <hr class="border-t border-1 border-githubDividerColor mt-2 mb-2"> <button class="_box-link p-2 gap-2 w-full hover:text-githubRedColor hover:bg-githubRedHoverBgColor"><!> Log out</button></div>',1);function Dd(r,e){Pt(e,!1);let t=X(e,"ghUsername",8),n=X(e,"ghFullName",8),i=X(e,"ghAvatarUrl",8),s=X(e,"onLogout",8),o=X(e,"onClose",8);`${t()}`,Ht();var a=Pd(),l=he(a);ga(l,{get onClick(){return o()}});var u=G(l,2),c=I(u),d=I(c),h=I(d),f=G(h,2),v=I(f),p=I(v),g=G(v,2),E=I(g),_=G(d,2),m=I(_);pa(m,{class:"_icon"});var y=G(c,2),w=I(y);va(w,{class:"_icon"});var C=G(y,2),T=I(C);yd(T,{class:"_icon"});var R=G(C,4),D=I(R);Sd(D,{class:"_icon"}),pr(u,(j,O)=>lr==null?void 0:lr(j,O),o),pr(u,j=>ur==null?void 0:ur()),Ie(()=>{ut(h,"src",i()),Se(p,t()),Se(E,n())}),rt("click",_,function(...j){var O;(O=o())==null||O.apply(this,j)}),rt("click",y,function(...j){var O;(O=o())==null||O.apply(this,j)}),rt("click",C,function(...j){var O;(O=o())==null||O.apply(this,j)}),rt("click",R,()=>{o()(),s()()}),q(r,a),Dt()}var jd=ve('<div class="flex items-center gap-3"><div class="flex items-center text gap-1"><a href="https://github.com" target="_blank" class="_box-link "><!>GitHub</a>/ <a target="_blank" class="_box-link "><!> </a>/ <a target="_blank" class="_box-link "><!>Projects</a></div> <button><img alt="Avatar" class="w-9 h-9 rounded-full border border-githubBorderColor"></button> <!></div>'),Id=ve('<nav class="text-githubPrimaryTextColor font-semibold flex gap-2"><a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link font-semibold"><!>Docs</a> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link font-semibold"><!>GitHub</a></nav>'),Rd=ve('<header class="h-16 flex items-center justify-between px-4 bg-githubBgColor border-b border-githubBorderColor"><div class="text-xl font-semibold flex items-center gap-2"><img alt="Logo" class="w-8 h-8"> GitHub Projects Dashboard</div> <!></header>');function Ld(r,e){Pt(e,!1);const t=je(),n=je(),i=je(),s=je(),o=je(),a=je();let l=X(e,"session",8),u=X(e,"onLogout",8),c=je(!1);const d=()=>{ee(c,!1)};Nt(()=>Vn(l()),()=>{var _;ee(t,((_=l())==null?void 0:_.user)??null)}),Nt(()=>P(t),()=>{var _,m;ee(n,(m=(_=P(t))==null?void 0:_.user_metadata)==null?void 0:m.user_name)}),Nt(()=>P(t),()=>{var _,m;ee(i,(m=(_=P(t))==null?void 0:_.user_metadata)==null?void 0:m.full_name)}),Nt(()=>P(t),()=>{var _,m;ee(s,(m=(_=P(t))==null?void 0:_.user_metadata)==null?void 0:m.avatar_url)}),Nt(()=>P(n),()=>{ee(o,`https://github.com/${P(n)}`)}),Nt(()=>P(o),()=>{ee(a,`${P(o)}?tab=projects`)}),To(),Ht();var h=Rd(),f=I(h),v=I(f);ut(v,"src",$d);var p=G(f,2);{var g=_=>{var m=jd(),y=I(m),w=I(y),C=I(w);Vs(C,{class:"_icon"});var T=G(w,2),R=I(T);Td(R,{class:"_icon"});var D=G(R,1,!0),j=G(T,2),O=I(j);kd(O,{class:"_icon"});var re=G(y,2),se=I(re),x=G(re,2);{var S=b=>{Dd(b,{get ghUsername(){return P(n)},get ghFullName(){return P(i)},get ghAvatarUrl(){return P(s)},get onLogout(){return u()},onClose:d})};Qe(x,b=>{P(c)&&b(S)})}Ie(()=>{ut(T,"href",P(o)),Se(D,P(n)),ut(j,"href",P(a)),ut(se,"src",P(s))}),rt("click",re,()=>ee(c,!P(c))),q(_,m)},E=_=>{var m=Id(),y=I(m),w=I(y);va(w,{class:"_icon"});var C=G(y,2),T=I(C);Vs(T,{class:"_icon"}),q(_,m)};Qe(p,_=>{l()?_(g):_(E,!1)})}q(r,h),Dt()}var mn={exports:{}},Nd=mn.exports,Ys;function Md(){return Ys||(Ys=1,function(r,e){(function(t,n){r.exports=n()})(Nd,function(){var t=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",v="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var S=["th","st","nd","rd"],b=x%100;return"["+x+(S[(b-20)%10]||S[b]||S[0])+"]"}},m=function(x,S,b){var A=String(x);return!A||A.length>=S?x:""+Array(S+1-A.length).join(b)+x},y={s:m,z:function(x){var S=-x.utcOffset(),b=Math.abs(S),A=Math.floor(b/60),$=b%60;return(S<=0?"+":"-")+m(A,2,"0")+":"+m($,2,"0")},m:function x(S,b){if(S.date()<b.date())return-x(b,S);var A=12*(b.year()-S.year())+(b.month()-S.month()),$=S.clone().add(A,d),L=b-$<0,U=S.clone().add(A+(L?-1:1),d);return+(-(A+(b-$)/(L?$-U:U-$))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:d,y:f,w:c,d:u,D:v,h:l,m:a,s:o,ms:s,Q:h}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},w="en",C={};C[w]=_;var T="$isDayjsObject",R=function(x){return x instanceof re||!(!x||!x[T])},D=function x(S,b,A){var $;if(!S)return w;if(typeof S=="string"){var L=S.toLowerCase();C[L]&&($=L),b&&(C[L]=b,$=L);var U=S.split("-");if(!$&&U.length>1)return x(U[0])}else{var V=S.name;C[V]=S,$=V}return!A&&$&&(w=$),$||!A&&w},j=function(x,S){if(R(x))return x.clone();var b=typeof S=="object"?S:{};return b.date=x,b.args=arguments,new re(b)},O=y;O.l=D,O.i=R,O.w=function(x,S){return j(x,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var re=function(){function x(b){this.$L=D(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[T]=!0}var S=x.prototype;return S.parse=function(b){this.$d=function(A){var $=A.date,L=A.utc;if($===null)return new Date(NaN);if(O.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var U=$.match(g);if(U){var V=U[2]-1||0,Z=(U[7]||"0").substring(0,3);return L?new Date(Date.UTC(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,Z)):new Date(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,Z)}}return new Date($)}(b),this.init()},S.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},S.$utils=function(){return O},S.isValid=function(){return this.$d.toString()!==p},S.isSame=function(b,A){var $=j(b);return this.startOf(A)<=$&&$<=this.endOf(A)},S.isAfter=function(b,A){return j(b)<this.startOf(A)},S.isBefore=function(b,A){return this.endOf(A)<j(b)},S.$g=function(b,A,$){return O.u(b)?this[A]:this.set($,b)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(b,A){var $=this,L=!!O.u(A)||A,U=O.p(b),V=function(we,pe){var ze=O.w($.$u?Date.UTC($.$y,pe,we):new Date($.$y,pe,we),$);return L?ze:ze.endOf(u)},Z=function(we,pe){return O.w($.toDate()[we].apply($.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(pe)),$)},ne=this.$W,ue=this.$M,ye=this.$D,Q="set"+(this.$u?"UTC":"");switch(U){case f:return L?V(1,0):V(31,11);case d:return L?V(1,ue):V(0,ue+1);case c:var Y=this.$locale().weekStart||0,fe=(ne<Y?ne+7:ne)-Y;return V(L?ye-fe:ye+(6-fe),ue);case u:case v:return Z(Q+"Hours",0);case l:return Z(Q+"Minutes",1);case a:return Z(Q+"Seconds",2);case o:return Z(Q+"Milliseconds",3);default:return this.clone()}},S.endOf=function(b){return this.startOf(b,!1)},S.$set=function(b,A){var $,L=O.p(b),U="set"+(this.$u?"UTC":""),V=($={},$[u]=U+"Date",$[v]=U+"Date",$[d]=U+"Month",$[f]=U+"FullYear",$[l]=U+"Hours",$[a]=U+"Minutes",$[o]=U+"Seconds",$[s]=U+"Milliseconds",$)[L],Z=L===u?this.$D+(A-this.$W):A;if(L===d||L===f){var ne=this.clone().set(v,1);ne.$d[V](Z),ne.init(),this.$d=ne.set(v,Math.min(this.$D,ne.daysInMonth())).$d}else V&&this.$d[V](Z);return this.init(),this},S.set=function(b,A){return this.clone().$set(b,A)},S.get=function(b){return this[O.p(b)]()},S.add=function(b,A){var $,L=this;b=Number(b);var U=O.p(A),V=function(ue){var ye=j(L);return O.w(ye.date(ye.date()+Math.round(ue*b)),L)};if(U===d)return this.set(d,this.$M+b);if(U===f)return this.set(f,this.$y+b);if(U===u)return V(1);if(U===c)return V(7);var Z=($={},$[a]=n,$[l]=i,$[o]=t,$)[U]||1,ne=this.$d.getTime()+b*Z;return O.w(ne,this)},S.subtract=function(b,A){return this.add(-1*b,A)},S.format=function(b){var A=this,$=this.$locale();if(!this.isValid())return $.invalidDate||p;var L=b||"YYYY-MM-DDTHH:mm:ssZ",U=O.z(this),V=this.$H,Z=this.$m,ne=this.$M,ue=$.weekdays,ye=$.months,Q=$.meridiem,Y=function(pe,ze,Tr,rn){return pe&&(pe[ze]||pe(A,L))||Tr[ze].slice(0,rn)},fe=function(pe){return O.s(V%12||12,pe,"0")},we=Q||function(pe,ze,Tr){var rn=pe<12?"AM":"PM";return Tr?rn.toLowerCase():rn};return L.replace(E,function(pe,ze){return ze||function(Tr){switch(Tr){case"YY":return String(A.$y).slice(-2);case"YYYY":return O.s(A.$y,4,"0");case"M":return ne+1;case"MM":return O.s(ne+1,2,"0");case"MMM":return Y($.monthsShort,ne,ye,3);case"MMMM":return Y(ye,ne);case"D":return A.$D;case"DD":return O.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return Y($.weekdaysMin,A.$W,ue,2);case"ddd":return Y($.weekdaysShort,A.$W,ue,3);case"dddd":return ue[A.$W];case"H":return String(V);case"HH":return O.s(V,2,"0");case"h":return fe(1);case"hh":return fe(2);case"a":return we(V,Z,!0);case"A":return we(V,Z,!1);case"m":return String(Z);case"mm":return O.s(Z,2,"0");case"s":return String(A.$s);case"ss":return O.s(A.$s,2,"0");case"SSS":return O.s(A.$ms,3,"0");case"Z":return U}return null}(pe)||U.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(b,A,$){var L,U=this,V=O.p(A),Z=j(b),ne=(Z.utcOffset()-this.utcOffset())*n,ue=this-Z,ye=function(){return O.m(U,Z)};switch(V){case f:L=ye()/12;break;case d:L=ye();break;case h:L=ye()/3;break;case c:L=(ue-ne)/6048e5;break;case u:L=(ue-ne)/864e5;break;case l:L=ue/i;break;case a:L=ue/n;break;case o:L=ue/t;break;default:L=ue}return $?L:O.a(L)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return C[this.$L]},S.locale=function(b,A){if(!b)return this.$L;var $=this.clone(),L=D(b,A,!0);return L&&($.$L=L),$},S.clone=function(){return O.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},x}(),se=re.prototype;return j.prototype=se,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",v]].forEach(function(x){se[x[1]]=function(S){return this.$g(S,x[0],x[1])}}),j.extend=function(x,S){return x.$i||(x(S,re,j),x.$i=!0),j},j.locale=D,j.isDayjs=R,j.unix=function(x){return j(1e3*x)},j.en=C[w],j.Ls=C,j.p={},j})}(mn)),mn.exports}var Ud=Md();const oi=Yi(Ud);var yn={exports:{}},Fd=yn.exports,Ks;function Bd(){return Ks||(Ks=1,function(r,e){(function(t,n){r.exports=n()})(Fd,function(){return function(t,n,i){t=t||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,d,h){return s.fromToBase(u,c,d,h)}i.en.relativeTime=o,s.fromToBase=function(u,c,d,h,f){for(var v,p,g,E=d.$locale().relativeTime||o,_=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=_.length,y=0;y<m;y+=1){var w=_[y];w.d&&(v=h?i(u).diff(d,w.d,!0):d.diff(u,w.d,!0));var C=(t.rounding||Math.round)(Math.abs(v));if(g=v>0,C<=w.r||!w.r){C<=1&&y>0&&(w=_[y-1]);var T=E[w.l];f&&(C=f(""+C)),p=typeof T=="string"?T.replace("%d",C):T(C,c,w.l,g);break}}if(c)return p;var R=g?E.future:E.past;return typeof R=="function"?R(p):R.replace("%s",p)},s.to=function(u,c){return a(u,c,this,!0)},s.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})}(yn)),yn.exports}var qd=Bd();const Hd=Yi(qd);var zd=ve("<div><span>Closed:</span> <span> </span></div>"),Wd=ve("<div><span>Updated:</span> <span> </span></div>"),Gd=ve('<div class="text-center italic my-1"><blockquote class="text-githubSecondaryTextColor"> </blockquote></div>'),Vd=ve("<!> Public",1),Jd=ve("<!> Private",1),Yd=ve('<div class="mt-2 text-xs space-y-1 bg-githubBgColor rounded border border-githubBordercolor p-2"><div><a target="_blank" class="_classic-link"><span> </span></a></div> <!> <div><span>Created:</span> <span> </span></div> <!> <div><span class="inline-flex items-center gap-0.5 border border-githubBorderColor text-xs text-githubSecondaryTextColor px-1 py-0.5 rounded-full"><!></span></div></div>'),Kd=ve('<div class="p-2 bg-white text-left rounded border shadow-sm cursor-grab"><div><span class="text-githubSecondaryTextColor font-semibold"> </span> <a target="_blank" class="_classic-link font-semibold"> </a></div> <div class="text-sm text-githubSecondaryTextColor mt-0.5"><!></div> <button class="_button gap-0.5 text-sm mt-1 px-1 py-0.5"><!> Details</button> <!></div>');function Xd(r,e){Pt(e,!1);let t=X(e,"project",8);oi.extend(Hd);let n=je(!1);const i=()=>{ee(n,!P(n))},s=T=>T?oi(T).format("D MMM YYYY HH:mm"):"–",o=T=>T?oi(T).fromNow():"";Ht();var a=Kd(),l=I(a),u=I(l),c=I(u),d=G(u,2),h=I(d),f=G(l,2),v=I(f);{var p=T=>{var R=ds();Ie(D=>Se(R,`Closed ${D??""}`),[()=>o(t().closedAt)],Te),q(T,R)},g=T=>{var R=ds();Ie(D=>Se(R,`Updated ${D??""}`),[()=>o(t().updatedAt)],Te),q(T,R)};Qe(v,T=>{t().closed?T(p):T(g,!1)})}var E=G(f,2),_=I(E);{var m=T=>{_d(T,{class:"_icon"})},y=T=>{md(T,{class:"_icon"})};Qe(_,T=>{P(n)?T(m):T(y,!1)})}var w=G(E,2);{var C=T=>{var R=Yd(),D=I(R),j=I(D),O=I(j),re=I(O),se=G(D,2);{var x=Q=>{var Y=zd(),fe=G(I(Y),2),we=I(fe);Ie((pe,ze)=>Se(we,`${pe??""} (${ze??""})`),[()=>s(t().closedAt),()=>o(t().closedAt)],Te),q(Q,Y)},S=Q=>{var Y=Wd(),fe=G(I(Y),2),we=I(fe);Ie((pe,ze)=>Se(we,`${pe??""} (${ze??""})`),[()=>s(t().updatedAt),()=>o(t().updatedAt)],Te),q(Q,Y)};Qe(se,Q=>{t().closed?Q(x):Q(S,!1)})}var b=G(se,2),A=G(I(b),2),$=I(A),L=G(b,2);{var U=Q=>{var Y=Gd(),fe=I(Y),we=I(fe);Ie(()=>Se(we,`“${t().shortDescription??""}”`)),q(Q,Y)};Qe(L,Q=>{t().shortDescription&&Q(U)})}var V=G(L,2),Z=I(V),ne=I(Z);{var ue=Q=>{var Y=Vd(),fe=he(Y);bd(fe,{class:"w-3 h-3"}),q(Q,Y)},ye=Q=>{var Y=Jd(),fe=he(Y);Ed(fe,{class:"w-3 h-3"}),q(Q,Y)};Qe(ne,Q=>{t().public?Q(ue):Q(ye,!1)})}Ie((Q,Y)=>{ut(j,"href",t().url),Se(re,`${t().items.totalCount??""} ${t().items.totalCount===1?"item":"items"}`),Se($,`${Q??""} (${Y??""})`)},[()=>s(t().createdAt),()=>o(t().createdAt)],Te),Ti(3,R,()=>Ad),q(T,R)};Qe(w,T=>{P(n)&&T(C)})}Ie(()=>{Se(c,`#${t().number??""}`),ut(d,"href",t().url),Se(h,t().title)}),rt("click",E,i),q(r,a),Dt()}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Xs(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ot(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xs(Object(t),!0).forEach(function(n){Qd(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xs(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function bn(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bn=function(e){return typeof e}:bn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(r)}function Qd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ft(){return ft=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ft.apply(this,arguments)}function Zd(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function eh(r,e){if(r==null)return{};var t=Zd(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var th="1.15.6";function dt(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var pt=dt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),en=dt(/Edge/i),Qs=dt(/firefox/i),Mr=dt(/safari/i)&&!dt(/chrome/i)&&!dt(/android/i),es=dt(/iP(ad|od|hone)/i),_a=dt(/chrome/i)&&dt(/android/i),ma={capture:!1,passive:!1};function W(r,e,t){r.addEventListener(e,t,!pt&&ma)}function H(r,e,t){r.removeEventListener(e,t,!pt&&ma)}function jn(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function ya(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function Xe(r,e,t,n){if(r){t=t||document;do{if(e!=null&&(e[0]===">"?r.parentNode===t&&jn(r,e):jn(r,e))||n&&r===t)return r;if(r===t)break}while(r=ya(r))}return null}var Zs=/\s+/g;function Ne(r,e,t){if(r&&e)if(r.classList)r.classList[t?"add":"remove"](e);else{var n=(" "+r.className+" ").replace(Zs," ").replace(" "+e+" "," ");r.className=(n+(t?" "+e:"")).replace(Zs," ")}}function N(r,e,t){var n=r&&r.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(t=r.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function cr(r,e){var t="";if(typeof r=="string")t=r;else do{var n=N(r,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(r=r.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function ba(r,e,t){if(r){var n=r.getElementsByTagName(e),i=0,s=n.length;if(t)for(;i<s;i++)t(n[i],i);return n}return[]}function nt(){var r=document.scrollingElement;return r||document.documentElement}function de(r,e,t,n,i){if(!(!r.getBoundingClientRect&&r!==window)){var s,o,a,l,u,c,d;if(r!==window&&r.parentNode&&r!==nt()?(s=r.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||t)&&r!==window&&(i=i||r.parentNode,!pt))do if(i&&i.getBoundingClientRect&&(N(i,"transform")!=="none"||t&&N(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(N(i,"border-top-width")),a-=h.left+parseInt(N(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(n&&r!==window){var f=cr(i||r),v=f&&f.a,p=f&&f.d;f&&(o/=p,a/=v,d/=v,c/=p,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function eo(r,e,t){for(var n=$t(r,!0),i=de(r)[e];n;){var s=de(n)[t],o=void 0;if(o=i>=s,!o)return n;if(n===nt())break;n=$t(n,!1)}return!1}function mr(r,e,t,n){for(var i=0,s=0,o=r.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==M.ghost&&(n||o[s]!==M.dragged)&&Xe(o[s],t.draggable,r,!1)){if(i===e)return o[s];i++}s++}return null}function ts(r,e){for(var t=r.lastElementChild;t&&(t===M.ghost||N(t,"display")==="none"||e&&!jn(t,e));)t=t.previousElementSibling;return t||null}function Ge(r,e){var t=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==M.clone&&(!e||jn(r,e))&&t++;return t}function to(r){var e=0,t=0,n=nt();if(r)do{var i=cr(r),s=i.a,o=i.d;e+=r.scrollLeft*s,t+=r.scrollTop*o}while(r!==n&&(r=r.parentNode));return[e,t]}function rh(r,e){for(var t in r)if(r.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===r[t][n])return Number(t)}return-1}function $t(r,e){if(!r||!r.getBoundingClientRect)return nt();var t=r,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=N(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return nt();if(n||e)return t;n=!0}}while(t=t.parentNode);return nt()}function nh(r,e){if(r&&e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function ai(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Ur;function wa(r,e){return function(){if(!Ur){var t=arguments,n=this;t.length===1?r.call(n,t[0]):r.apply(n,t),Ur=setTimeout(function(){Ur=void 0},e)}}}function ih(){clearTimeout(Ur),Ur=void 0}function Ea(r,e,t){r.scrollLeft+=e,r.scrollTop+=t}function Sa(r){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):t?t(r).clone(!0)[0]:r.cloneNode(!0)}function ka(r,e,t){var n={};return Array.from(r.children).forEach(function(i){var s,o,a,l;if(!(!Xe(i,e.draggable,r,!1)||i.animated||i===t)){var u=de(i);n.left=Math.min((s=n.left)!==null&&s!==void 0?s:1/0,u.left),n.top=Math.min((o=n.top)!==null&&o!==void 0?o:1/0,u.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,u.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Re="Sortable"+new Date().getTime();function sh(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(N(i,"display")==="none"||i===M.ghost)){r.push({target:i,rect:de(i)});var s=ot({},r[r.length-1].rect);if(i.thisAnimationDuration){var o=cr(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(rh(r,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var s=!1,o=0;r.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=de(u),h=u.prevFromRect,f=u.prevToRect,v=a.rect,p=cr(u,!0);p&&(d.top-=p.f,d.left-=p.e),u.toRect=d,u.thisAnimationDuration&&ai(h,d)&&!ai(c,d)&&(v.top-d.top)/(v.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=ah(v,h,f,i.options)),ai(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,v,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),r=[]},animate:function(n,i,s,o){if(o){N(n,"transition",""),N(n,"transform","");var a=cr(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);n.animatingX=!!c,n.animatingY=!!d,N(n,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=oh(n),N(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),N(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){N(n,"transition",""),N(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function oh(r){return r.offsetWidth}function ah(r,e,t,n){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var tr=[],li={initializeByDefault:!0},tn={mount:function(e){for(var t in li)li.hasOwnProperty(t)&&!(t in e)&&(e[t]=li[t]);tr.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),tr.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var s=e+"Global";tr.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][s]&&t[o.pluginName][s](ot({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](ot({sortable:t},n)))})},initializePlugins:function(e,t,n,i){tr.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,ft(n,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,t){var n={};return tr.forEach(function(i){typeof i.eventProperties=="function"&&ft(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return tr.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(i=s.optionListeners[t].call(e[s.pluginName],n))}),i}};function lh(r){var e=r.sortable,t=r.rootEl,n=r.name,i=r.targetEl,s=r.cloneEl,o=r.toEl,a=r.fromEl,l=r.oldIndex,u=r.newIndex,c=r.oldDraggableIndex,d=r.newDraggableIndex,h=r.originalEvent,f=r.putSortable,v=r.extraEventProperties;if(e=e||t&&t[Re],!!e){var p,g=e.options,E="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!pt&&!en?p=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(n,!0,!0)),p.to=o||t,p.from=a||t,p.item=i||t,p.clone=s,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=d,p.originalEvent=h,p.pullMode=f?f.lastPutMode:void 0;var _=ot(ot({},v),tn.getEventProperties(n,e));for(var m in _)p[m]=_[m];t&&t.dispatchEvent(p),g[E]&&g[E].call(e,p)}}var uh=["evt"],Pe=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,s=eh(n,uh);tn.pluginEvent.bind(M)(e,t,ot({dragEl:k,parentEl:le,ghostEl:F,rootEl:oe,nextEl:Ut,lastDownEl:wn,cloneEl:ae,cloneHidden:kt,dragStarted:Dr,putSortable:me,activeSortable:M.active,originalEvent:i,oldIndex:or,oldDraggableIndex:Fr,newIndex:Fe,newDraggableIndex:wt,hideGhostForTarget:xa,unhideGhostForTarget:Aa,cloneNowHidden:function(){kt=!0},cloneNowShown:function(){kt=!1},dispatchSortableEvent:function(a){Ee({sortable:t,name:a,originalEvent:i})}},s))};function Ee(r){lh(ot({putSortable:me,cloneEl:ae,targetEl:k,rootEl:oe,oldIndex:or,oldDraggableIndex:Fr,newIndex:Fe,newDraggableIndex:wt},r))}var k,le,F,oe,Ut,wn,ae,kt,or,Fe,Fr,wt,hn,me,sr=!1,In=!1,Rn=[],Rt,Ye,ui,ci,ro,no,Dr,rr,Br,qr=!1,fn=!1,En,be,di=[],Ri=!1,Ln=[],Yn=typeof document<"u",vn=es,io=en||pt?"cssFloat":"float",ch=Yn&&!_a&&!es&&"draggable"in document.createElement("div"),Ta=function(){if(Yn){if(pt)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),$a=function(e,t){var n=N(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=mr(e,0,t),o=mr(e,1,t),a=s&&N(s),l=o&&N(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+de(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+de(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&n[io]==="none"||o&&n[io]==="none"&&u+c>i)?"vertical":"horizontal"},dh=function(e,t,n){var i=n?e.left:e.top,s=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,u=n?t.width:t.height;return i===a||s===l||i+o/2===a+u/2},hh=function(e,t){var n;return Rn.some(function(i){var s=i[Re].options.emptyInsertThreshold;if(!(!s||ts(i))){var o=de(i),a=e>=o.left-s&&e<=o.right+s,l=t>=o.top-s&&t<=o.bottom+s;if(a&&l)return n=i}}),n},Oa=function(e){function t(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return t(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var n={},i=e.group;(!i||bn(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},xa=function(){!Ta&&F&&N(F,"display","none")},Aa=function(){!Ta&&F&&N(F,"display","")};Yn&&!_a&&document.addEventListener("click",function(r){if(In)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),In=!1,!1},!0);var Lt=function(e){if(k){e=e.touches?e.touches[0]:e;var t=hh(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Re]._onDragOver(n)}}},fh=function(e){k&&k.parentNode[Re]._isOutsideThisEl(e.target)};function M(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=ft({},e),r[Re]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $a(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:M.supportPointer!==!1&&"PointerEvent"in window&&(!Mr||es),emptyInsertThreshold:5};tn.initializePlugins(this,r,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Oa(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:ch,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?W(r,"pointerdown",this._onTapStart):(W(r,"mousedown",this._onTapStart),W(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(W(r,"dragover",this),W(r,"dragenter",this)),Rn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ft(this,sh())}M.prototype={constructor:M,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(rr=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,k):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(wh(n),!k&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Mr&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Xe(l,i.draggable,n,!1),!(l&&l.animated)&&wn!==l)){if(or=Ge(l),Fr=Ge(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Ee({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),Pe("filter",t,{evt:e}),s&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Xe(u,d.trim(),n,!1),d)return Ee({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:n,toEl:n}),Pe("filter",t,{evt:e}),!0}),c)){s&&e.preventDefault();return}i.handle&&!Xe(u,i.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(n&&!k&&n.parentNode===s){var u=de(n);if(oe=s,k=n,le=k.parentNode,Ut=k.nextSibling,wn=n,hn=o.group,M.dragged=k,Rt={target:k,clientX:(t||e).clientX,clientY:(t||e).clientY},ro=Rt.clientX-u.left,no=Rt.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,k.style["will-change"]="all",l=function(){if(Pe("delayEnded",i,{evt:e}),M.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Qs&&i.nativeDraggable&&(k.draggable=!0),i._triggerDragStart(e,t),Ee({sortable:i,name:"choose",originalEvent:e}),Ne(k,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){ba(k,c.trim(),hi)}),W(a,"dragover",Lt),W(a,"mousemove",Lt),W(a,"touchmove",Lt),o.supportPointer?(W(a,"pointerup",i._onDrop),!this.nativeDraggable&&W(a,"pointercancel",i._onDrop)):(W(a,"mouseup",i._onDrop),W(a,"touchend",i._onDrop),W(a,"touchcancel",i._onDrop)),Qs&&this.nativeDraggable&&(this.options.touchStartThreshold=4,k.draggable=!0),Pe("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(en||pt))){if(M.eventCanceled){this._onDrop();return}o.supportPointer?(W(a,"pointerup",i._disableDelayedDrag),W(a,"pointercancel",i._disableDelayedDrag)):(W(a,"mouseup",i._disableDelayedDrag),W(a,"touchend",i._disableDelayedDrag),W(a,"touchcancel",i._disableDelayedDrag)),W(a,"mousemove",i._delayedDragTouchMoveHandler),W(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&W(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){k&&hi(k),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;H(e,"mouseup",this._disableDelayedDrag),H(e,"touchend",this._disableDelayedDrag),H(e,"touchcancel",this._disableDelayedDrag),H(e,"pointerup",this._disableDelayedDrag),H(e,"pointercancel",this._disableDelayedDrag),H(e,"mousemove",this._delayedDragTouchMoveHandler),H(e,"touchmove",this._delayedDragTouchMoveHandler),H(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?W(document,"pointermove",this._onTouchMove):t?W(document,"touchmove",this._onTouchMove):W(document,"mousemove",this._onTouchMove):(W(k,"dragend",this),W(oe,"dragstart",this._onDragStart));try{document.selection?Sn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(sr=!1,oe&&k){Pe("dragStarted",this,{evt:t}),this.nativeDraggable&&W(document,"dragover",fh);var n=this.options;!e&&Ne(k,n.dragClass,!1),Ne(k,n.ghostClass,!0),M.active=this,e&&this._appendGhost(),Ee({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ye){this._lastX=Ye.clientX,this._lastY=Ye.clientY,xa();for(var e=document.elementFromPoint(Ye.clientX,Ye.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ye.clientX,Ye.clientY),e!==t);)t=e;if(k.parentNode[Re]._isOutsideThisEl(e),t)do{if(t[Re]){var n=void 0;if(n=t[Re]._onDragOver({clientX:Ye.clientX,clientY:Ye.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=ya(t));Aa()}},_onTouchMove:function(e){if(Rt){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=F&&cr(F,!0),a=F&&o&&o.a,l=F&&o&&o.d,u=vn&&be&&to(be),c=(s.clientX-Rt.clientX+i.x)/(a||1)+(u?u[0]-di[0]:0)/(a||1),d=(s.clientY-Rt.clientY+i.y)/(l||1)+(u?u[1]-di[1]:0)/(l||1);if(!M.active&&!sr){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(F){o?(o.e+=c-(ui||0),o.f+=d-(ci||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");N(F,"webkitTransform",h),N(F,"mozTransform",h),N(F,"msTransform",h),N(F,"transform",h),ui=c,ci=d,Ye=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!F){var e=this.options.fallbackOnBody?document.body:oe,t=de(k,!0,vn,!0,e),n=this.options;if(vn){for(be=e;N(be,"position")==="static"&&N(be,"transform")==="none"&&be!==document;)be=be.parentNode;be!==document.body&&be!==document.documentElement?(be===document&&(be=nt()),t.top+=be.scrollTop,t.left+=be.scrollLeft):be=nt(),di=to(be)}F=k.cloneNode(!0),Ne(F,n.ghostClass,!1),Ne(F,n.fallbackClass,!0),Ne(F,n.dragClass,!0),N(F,"transition",""),N(F,"transform",""),N(F,"box-sizing","border-box"),N(F,"margin",0),N(F,"top",t.top),N(F,"left",t.left),N(F,"width",t.width),N(F,"height",t.height),N(F,"opacity","0.8"),N(F,"position",vn?"absolute":"fixed"),N(F,"zIndex","100000"),N(F,"pointerEvents","none"),M.ghost=F,e.appendChild(F),N(F,"transform-origin",ro/parseInt(F.style.width)*100+"% "+no/parseInt(F.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,s=n.options;if(Pe("dragStart",this,{evt:e}),M.eventCanceled){this._onDrop();return}Pe("setupClone",this),M.eventCanceled||(ae=Sa(k),ae.removeAttribute("id"),ae.draggable=!1,ae.style["will-change"]="",this._hideClone(),Ne(ae,this.options.chosenClass,!1),M.clone=ae),n.cloneId=Sn(function(){Pe("clone",n),!M.eventCanceled&&(n.options.removeCloneOnHide||oe.insertBefore(ae,k),n._hideClone(),Ee({sortable:n,name:"clone"}))}),!t&&Ne(k,s.dragClass,!0),t?(In=!0,n._loopId=setInterval(n._emulateDragOver,50)):(H(document,"mouseup",n._onDrop),H(document,"touchend",n._onDrop),H(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,k)),W(document,"drop",n),N(k,"transform","translateZ(0)")),sr=!0,n._dragStartId=Sn(n._dragStarted.bind(n,t,e)),W(document,"selectstart",n),Dr=!0,window.getSelection().removeAllRanges(),Mr&&N(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,s,o,a=this.options,l=a.group,u=M.active,c=hn===l,d=a.sort,h=me||u,f,v=this,p=!1;if(Ri)return;function g($,L){Pe($,v,ot({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:n,completed:_,onMove:function(V,Z){return pn(oe,t,k,i,V,de(V),e,Z)},changed:m},L))}function E(){g("dragOverAnimationCapture"),v.captureAnimationState(),v!==h&&h.captureAnimationState()}function _($){return g("dragOverCompleted",{insertion:$}),$&&(c?u._hideClone():u._showClone(v),v!==h&&(Ne(k,me?me.options.ghostClass:u.options.ghostClass,!1),Ne(k,a.ghostClass,!0)),me!==v&&v!==M.active?me=v:v===M.active&&me&&(me=null),h===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){g("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===k&&!k.animated||n===t&&!n.animated)&&(rr=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(k.parentNode[Re]._isOutsideThisEl(e.target),!$&&Lt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function m(){Fe=Ge(k),wt=Ge(k,a.draggable),Ee({sortable:v,name:"change",toEl:t,newIndex:Fe,newDraggableIndex:wt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Xe(n,a.draggable,t,!0),g("dragOver"),M.eventCanceled)return p;if(k.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return _(!1);if(In=!1,u&&!a.disabled&&(c?d||(o=le!==oe):me===this||(this.lastPutMode=hn.checkPull(this,u,k,e))&&l.checkPut(this,u,k,e))){if(f=this._getDirection(e,n)==="vertical",i=de(k),g("dragOverValid"),M.eventCanceled)return p;if(o)return le=oe,E(),this._hideClone(),g("revert"),M.eventCanceled||(Ut?oe.insertBefore(k,Ut):oe.appendChild(k)),_(!0);var y=ts(t,a.draggable);if(!y||_h(e,f,this)&&!y.animated){if(y===k)return _(!1);if(y&&t===e.target&&(n=y),n&&(s=de(n)),pn(oe,t,k,i,n,s,e,!!n)!==!1)return E(),y&&y.nextSibling?t.insertBefore(k,y.nextSibling):t.appendChild(k),le=t,m(),_(!0)}else if(y&&gh(e,f,this)){var w=mr(t,0,a,!0);if(w===k)return _(!1);if(n=w,s=de(n),pn(oe,t,k,i,n,s,e,!1)!==!1)return E(),t.insertBefore(k,w),le=t,m(),_(!0)}else if(n.parentNode===t){s=de(n);var C=0,T,R=k.parentNode!==t,D=!dh(k.animated&&k.toRect||i,n.animated&&n.toRect||s,f),j=f?"top":"left",O=eo(n,"top","top")||eo(k,"top","top"),re=O?O.scrollTop:void 0;rr!==n&&(T=s[j],qr=!1,fn=!D&&a.invertSwap||R),C=mh(e,n,s,f,D?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,fn,rr===n);var se;if(C!==0){var x=Ge(k);do x-=C,se=le.children[x];while(se&&(N(se,"display")==="none"||se===F))}if(C===0||se===n)return _(!1);rr=n,Br=C;var S=n.nextElementSibling,b=!1;b=C===1;var A=pn(oe,t,k,i,n,s,e,b);if(A!==!1)return(A===1||A===-1)&&(b=A===1),Ri=!0,setTimeout(ph,30),E(),b&&!S?t.appendChild(k):n.parentNode.insertBefore(k,b?S:n),O&&Ea(O,0,re-O.scrollTop),le=k.parentNode,T!==void 0&&!fn&&(En=Math.abs(T-de(n)[j])),m(),_(!0)}if(t.contains(k))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){H(document,"mousemove",this._onTouchMove),H(document,"touchmove",this._onTouchMove),H(document,"pointermove",this._onTouchMove),H(document,"dragover",Lt),H(document,"mousemove",Lt),H(document,"touchmove",Lt)},_offUpEvents:function(){var e=this.el.ownerDocument;H(e,"mouseup",this._onDrop),H(e,"touchend",this._onDrop),H(e,"pointerup",this._onDrop),H(e,"pointercancel",this._onDrop),H(e,"touchcancel",this._onDrop),H(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Fe=Ge(k),wt=Ge(k,n.draggable),Pe("drop",this,{evt:e}),le=k&&k.parentNode,Fe=Ge(k),wt=Ge(k,n.draggable),M.eventCanceled){this._nulling();return}sr=!1,fn=!1,qr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Li(this.cloneId),Li(this._dragStartId),this.nativeDraggable&&(H(document,"drop",this),H(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Mr&&N(document.body,"user-select",""),N(k,"transform",""),e&&(Dr&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),F&&F.parentNode&&F.parentNode.removeChild(F),(oe===le||me&&me.lastPutMode!=="clone")&&ae&&ae.parentNode&&ae.parentNode.removeChild(ae),k&&(this.nativeDraggable&&H(k,"dragend",this),hi(k),k.style["will-change"]="",Dr&&!sr&&Ne(k,me?me.options.ghostClass:this.options.ghostClass,!1),Ne(k,this.options.chosenClass,!1),Ee({sortable:this,name:"unchoose",toEl:le,newIndex:null,newDraggableIndex:null,originalEvent:e}),oe!==le?(Fe>=0&&(Ee({rootEl:le,name:"add",toEl:le,fromEl:oe,originalEvent:e}),Ee({sortable:this,name:"remove",toEl:le,originalEvent:e}),Ee({rootEl:le,name:"sort",toEl:le,fromEl:oe,originalEvent:e}),Ee({sortable:this,name:"sort",toEl:le,originalEvent:e})),me&&me.save()):Fe!==or&&Fe>=0&&(Ee({sortable:this,name:"update",toEl:le,originalEvent:e}),Ee({sortable:this,name:"sort",toEl:le,originalEvent:e})),M.active&&((Fe==null||Fe===-1)&&(Fe=or,wt=Fr),Ee({sortable:this,name:"end",toEl:le,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Pe("nulling",this),oe=k=le=F=Ut=ae=wn=kt=Rt=Ye=Dr=Fe=wt=or=Fr=rr=Br=me=hn=M.dragged=M.ghost=M.clone=M.active=null,Ln.forEach(function(e){e.checked=!0}),Ln.length=ui=ci=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":k&&(this._onDragOver(e),vh(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,s=n.length,o=this.options;i<s;i++)t=n[i],Xe(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||bh(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Xe(a,this.options.draggable,i,!1)&&(n[s]=a)},this),t&&this.captureAnimationState(),e.forEach(function(s){n[s]&&(i.removeChild(n[s]),i.appendChild(n[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Xe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=tn.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&Oa(n)},destroy:function(){Pe("destroy",this);var e=this.el;e[Re]=null,H(e,"mousedown",this._onTapStart),H(e,"touchstart",this._onTapStart),H(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(e,"dragover",this),H(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Rn.splice(Rn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!kt){if(Pe("hideClone",this),M.eventCanceled)return;N(ae,"display","none"),this.options.removeCloneOnHide&&ae.parentNode&&ae.parentNode.removeChild(ae),kt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(kt){if(Pe("showClone",this),M.eventCanceled)return;k.parentNode==oe&&!this.options.group.revertClone?oe.insertBefore(ae,k):Ut?oe.insertBefore(ae,Ut):oe.appendChild(ae),this.options.group.revertClone&&this.animate(k,ae),N(ae,"display",""),kt=!1}}};function vh(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function pn(r,e,t,n,i,s,o,a){var l,u=r[Re],c=u.options.onMove,d;return window.CustomEvent&&!pt&&!en?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=r,l.dragged=t,l.draggedRect=n,l.related=i||e,l.relatedRect=s||de(e),l.willInsertAfter=a,l.originalEvent=o,r.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function hi(r){r.draggable=!1}function ph(){Ri=!1}function gh(r,e,t){var n=de(mr(t.el,0,t.options,!0)),i=ka(t.el,t.options,F),s=10;return e?r.clientX<i.left-s||r.clientY<n.top&&r.clientX<n.right:r.clientY<i.top-s||r.clientY<n.bottom&&r.clientX<n.left}function _h(r,e,t){var n=de(ts(t.el,t.options.draggable)),i=ka(t.el,t.options,F),s=10;return e?r.clientX>i.right+s||r.clientY>n.bottom&&r.clientX>n.left:r.clientY>i.bottom+s||r.clientX>n.right&&r.clientY>n.top}function mh(r,e,t,n,i,s,o,a){var l=n?r.clientY:r.clientX,u=n?t.height:t.width,c=n?t.top:t.left,d=n?t.bottom:t.right,h=!1;if(!o){if(a&&En<u*i){if(!qr&&(Br===1?l>c+u*s/2:l<d-u*s/2)&&(qr=!0),qr)h=!0;else if(Br===1?l<c+En:l>d-En)return-Br}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return yh(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function yh(r){return Ge(k)<Ge(r)?1:-1}function bh(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function wh(r){Ln.length=0;for(var e=r.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Ln.push(n)}}function Sn(r){return setTimeout(r,0)}function Li(r){return clearTimeout(r)}Yn&&W(document,"touchmove",function(r){(M.active||sr)&&r.cancelable&&r.preventDefault()});M.utils={on:W,off:H,css:N,find:ba,is:function(e,t){return!!Xe(e,t,e,!1)},extend:nh,throttle:wa,closest:Xe,toggleClass:Ne,clone:Sa,index:Ge,nextTick:Sn,cancelNextTick:Li,detectDirection:$a,getChild:mr,expando:Re};M.get=function(r){return r[Re]};M.mount=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(M.utils=ot(ot({},M.utils),n.utils)),tn.mount(n)})};M.create=function(r,e){return new M(r,e)};M.version=th;var ce=[],jr,Ni,Mi=!1,fi,vi,Nn,Ir;function Eh(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?W(document,"dragover",this._handleAutoScroll):this.options.supportPointer?W(document,"pointermove",this._handleFallbackAutoScroll):n.touches?W(document,"touchmove",this._handleFallbackAutoScroll):W(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?H(document,"dragover",this._handleAutoScroll):(H(document,"pointermove",this._handleFallbackAutoScroll),H(document,"touchmove",this._handleFallbackAutoScroll),H(document,"mousemove",this._handleFallbackAutoScroll)),so(),kn(),ih()},nulling:function(){Nn=Ni=jr=Mi=Ir=fi=vi=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(s,o);if(Nn=t,n||this.options.forceAutoScrollFallback||en||pt||Mr){pi(t,this.options,a,n);var l=$t(a,!0);Mi&&(!Ir||s!==fi||o!==vi)&&(Ir&&so(),Ir=setInterval(function(){var u=$t(document.elementFromPoint(s,o),!0);u!==l&&(l=u,kn()),pi(t,i.options,u,n)},10),fi=s,vi=o)}else{if(!this.options.bubbleScroll||$t(a,!0)===nt()){kn();return}pi(t,this.options,$t(a,!1),!1)}}},ft(r,{pluginName:"scroll",initializeByDefault:!0})}function kn(){ce.forEach(function(r){clearInterval(r.pid)}),ce=[]}function so(){clearInterval(Ir)}var pi=wa(function(r,e,t,n){if(e.scroll){var i=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=nt(),u=!1,c;Ni!==t&&(Ni=t,kn(),jr=e.scroll,c=e.scrollFn,jr===!0&&(jr=$t(t,!0)));var d=0,h=jr;do{var f=h,v=de(f),p=v.top,g=v.bottom,E=v.left,_=v.right,m=v.width,y=v.height,w=void 0,C=void 0,T=f.scrollWidth,R=f.scrollHeight,D=N(f),j=f.scrollLeft,O=f.scrollTop;f===l?(w=m<T&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),C=y<R&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(w=m<T&&(D.overflowX==="auto"||D.overflowX==="scroll"),C=y<R&&(D.overflowY==="auto"||D.overflowY==="scroll"));var re=w&&(Math.abs(_-i)<=o&&j+m<T)-(Math.abs(E-i)<=o&&!!j),se=C&&(Math.abs(g-s)<=o&&O+y<R)-(Math.abs(p-s)<=o&&!!O);if(!ce[d])for(var x=0;x<=d;x++)ce[x]||(ce[x]={});(ce[d].vx!=re||ce[d].vy!=se||ce[d].el!==f)&&(ce[d].el=f,ce[d].vx=re,ce[d].vy=se,clearInterval(ce[d].pid),(re!=0||se!=0)&&(u=!0,ce[d].pid=setInterval((function(){n&&this.layer===0&&M.active._onTouchMove(Nn);var S=ce[this.layer].vy?ce[this.layer].vy*a:0,b=ce[this.layer].vx?ce[this.layer].vx*a:0;typeof c=="function"&&c.call(M.dragged.parentNode[Re],b,S,r,Nn,ce[this.layer].el)!=="continue"||Ea(ce[this.layer].el,b,S)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=$t(h,!1)));Mi=u}},30),Ca=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var u=n||s;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function rs(){}rs.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=mr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Ca};ft(rs,{pluginName:"revertOnSpill"});function ns(){}ns.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Ca};ft(ns,{pluginName:"removeOnSpill"});M.mount(new Eh);M.mount(ns,rs);function gi(r,{group:e="columns",chosenClass:t="_sortable-chosen",ghostClass:n="",disabled:i=!1,onDrop:s=()=>{}}={}){if(!r||i)return;const o=M.create(r,{group:e,animation:150,swapThreshold:.5,chosenClass:t,ghostClass:n,forceFallback:!0,fallbackOnBody:!0,onStart:()=>{document.body.classList.add("_disable-pointer-events"),document.body.classList.add("cursor-grabbing"),document.body.classList.add("_cursor-grab-to-grabbing")},onEnd:a=>{document.body.classList.remove("_disable-pointer-events"),document.body.classList.remove("cursor-grabbing"),document.body.classList.remove("_cursor-grab-to-grabbing"),s(a)}});return{destroy(){o.destroy()}}}var Sh=ve('<div class="bg-githubBgColor border border-githubBorderColor p-3 rounded flex flex-col"><h2 class="text-lg text-left font-semibold mb-2 capitalize"> <span class="text-githubSecondaryTextColor text-sm"> </span></h2> <div class="space-y-2 min-h-[50px]"></div></div>');function Ui(r,e){Pt(e,!1);let t=X(e,"title",8),n=X(e,"projects",24,()=>[]),i=X(e,"bindRef",8,null),s=X(e,"dndIsClosedColumn",8,!1),o=X(e,"dndOnDrop",8,()=>{}),a=je();Nt(()=>(Vn(i()),P(a)),()=>{i()&&i().set(P(a))}),To(),Ht();var l=Sh(),u=I(l),c=I(u),d=G(c),h=I(d),f=G(u,2);Fo(f,5,n,v=>v.id,(v,p)=>{Xd(v,{get project(){return P(p)}})}),pr(f,(v,p)=>gi==null?void 0:gi(v,p),()=>({group:s()?"closed-column":"normal-columns",dndOnDrop:o()})),tu(f,v=>ee(a,v),()=>P(a)),Ie(()=>{Se(c,`${t()??""} `),Se(h,`(${n().length??""})`)}),q(r,l),Dt()}var kh=ve('<!> <div class="_slide-in-container top-16 w-1/2 h-[calc(100vh-4rem)] flex flex-col pt-4 pb-2 pl-4 pr-2"><div class="flex h-full items-start gap-2"><div class="flex-1 w-full h-full grid grid-cols-1 sm:grid-cols-1"><!></div> <button class="top-2 right-2 text-githubSecondaryTextColor hover:bg-githubButtonHoverBgColor p-2.5 rounded-lg" aria-label="Close"><!></button></div></div>',1);function Th(r,e){Pt(e,!1);let t=X(e,"projects",24,()=>[]),n=X(e,"onClose",8),i=X(e,"dndOnDrop",8,()=>{});Ht();var s=kh(),o=he(s);ga(o,{topClass:"top-16",get onClick(){return n()}});var a=G(o,2),l=I(a),u=I(l),c=I(u);const d=Te(()=>i()("closed"));Ui(c,{title:"closed",get projects(){return t()},isClosedColum:!0,get dndOnDrop(){return P(d)}});var h=G(u,2),f=I(h);pa(f,{class:"w-4 h-4"}),pr(a,(v,p)=>lr==null?void 0:lr(v,p),n),pr(a,v=>ur==null?void 0:ur()),rt("click",h,function(...v){var p;(p=n())==null||p.apply(this,v)}),q(r,s),Dt()}var $h=ve('<button class="_button text-githubPrimaryTextColor px-4 py-2">Log in with GitHub</button>'),Oh=ve('<div class="flex flex-col items-center"><!> <p class="text-lg font-semibold text-githubSecondaryTextColor animate-pulse duration-100">Loading projects</p></div>'),xh=ve('<div class="flex-1 grid grid-cols-1 sm:grid-cols-2 w-full pt-4 pb-2 px-4 gap-4"><!> <!></div> <button class="_button p-2 absolute right-0 top-16 mt-4 z-30" aria-label="Toggle closed pane"><!></button> <!>',1),Ah=ve('<main class="flex flex-col min-h-screen"><!> <div class="flex-1 flex flex-col items-center justify-center"><!></div></main>');function Ch(r,e){Pt(e,!1);let t=je(null),n=null,i=je([]),s={};const o=["todo","doing","done"];let a=ws(null),l=ws(null),u=je(!1);const c="https://api.github.com/graphql",d=async()=>{await dn.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin+window.location.pathname,scopes:"repo read:user read:project"}})},h=async()=>{await dn.auth.signOut(),ee(t,null),n=null},f=async()=>{const O=await(await fetch(c,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({query:`{
      viewer {
        projectsV2(first: 50) {
          nodes {
            id
            number
            title
            url
            closed
            createdAt
            updatedAt
            closedAt
            public
            shortDescription
            items {
              totalCount
            }
          }
        }
      }
    }`})})).json();console.log("GitHub response:",O),ee(i,O.data.viewer.projectsV2.nodes),v()},v=()=>{const D=localStorage.getItem("projectStatuses");D&&(s=JSON.parse(D))},p=()=>{localStorage.setItem("projectStatuses",JSON.stringify(s))};function g(D){return j=>{var re,se;const O=(se=(re=j.item)==null?void 0:re.dataset)==null?void 0:se.id;O&&(s[O]=D,p())}}su(async()=>{const{data:D}=await dn.auth.getSession();ee(t,D.session),dn.auth.onAuthStateChange((j,O)=>{ee(t,O),n=O==null?void 0:O.provider_token,n&&f()}),P(t)&&(n=P(t).provider_token,console.log("session:",P(t)),await f())});const E=D=>P(i).filter(j=>(s[j.id]||"todo")===D),_=()=>P(i).filter(D=>D.closed||s[D.id]==="done");Ht();var m=Ah(),y=I(m);Ld(y,{get session(){return P(t)},onLogout:h});var w=G(y,2),C=I(w);{var T=D=>{var j=$h();rt("click",j,d),q(D,j)},R=D=>{var j=Ae(),O=he(j);{var re=x=>{var S=Oh(),b=I(S);wd(b,{class:"w-8 h-8 animate-spin mb-2"}),q(x,S)},se=x=>{var S=xh(),b=he(S),A=I(b);const $=Te(()=>E(o[0])),L=Te(()=>g(o[0]));Ui(A,{get title(){return o[0]},get projects(){return P($)},bindRef:a,get dndOnDrop(){return P(L)}});var U=G(A,2);const V=Te(()=>E(o[1])),Z=Te(()=>g(o[1]));Ui(U,{get title(){return o[1]},get projects(){return P(V)},bindRef:l,get dndOnDrop(){return P(Z)}});var ne=G(b,2),ue=I(ne);gd(ue,{class:"_icon"}),pr(ne,(Y,fe)=>si==null?void 0:si(Y,fe),()=>({text:"Closed projects",align:"right"})),Er(()=>rt("click",ne,()=>ee(u,!P(u))));var ye=G(ne,2);{var Q=Y=>{const fe=Te(_),we=Te(()=>g(o[2]));Th(Y,{onClose:()=>ee(u,!1),get projects(){return P(fe)},get dndOnDrop(){return P(we)}})};Qe(ye,Y=>{P(u)&&Y(Q)})}q(x,S)};Qe(O,x=>{P(i).length===0?x(re):x(se,!1)})}q(D,j)};Qe(C,D=>{P(t)?D(R,!1):D(T)})}q(r,m),Dt()}Uo(Ch,{target:document.getElementById("app")});export{Yi as g};
