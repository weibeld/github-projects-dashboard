(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const es=!1;var Li=Array.isArray,ya=Array.prototype.indexOf,Ni=Array.from,ba=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,to=Object.getOwnPropertyDescriptors,wa=Object.prototype,Ea=Array.prototype,Mi=Object.getPrototypeOf,ts=Object.isExtensible;function Qt(r){return typeof r=="function"}const ot=()=>{};function Sa(r){return r()}function gi(r){for(var e=0;e<r.length;e++)r[e]()}const Je=2,ro=4,Rn=8,Ln=16,ft=32,fr=64,En=128,je=256,Sn=512,we=1024,tt=2048,Pt=4096,lt=8192,Nn=16384,no=32768,Hr=65536,ka=1<<17,Ta=1<<19,io=1<<20,_i=1<<21,At=Symbol("$state"),so=Symbol("legacy props"),$a=Symbol("");function oo(r){return r===this.v}function Ui(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function Fi(r){return!Ui(r,this.v)}function Oa(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Aa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Pa(r){throw new Error("https://svelte.dev/e/effect_orphan")}function xa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ca(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function Da(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ja(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ia(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let pr=!1,Ra=!1;function La(){pr=!0}const Bi=1,qi=2,ao=4,Na=8,Ma=16,Ua=1,Fa=2,lo=4,Ba=8,qa=16,Ha=4,za=1,Ga=2,Te=Symbol(),Wa="http://www.w3.org/1999/xhtml",Ja="http://www.w3.org/2000/svg";function Va(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let te=null;function rs(r){te=r}function vr(r,e=!1,t){var n=te={p:te,c:null,d:!1,e:null,m:!1,s:r,x:null,l:null};pr&&!e&&(te.l={s:null,u:null,r1:[],r2:or(!1)}),mo(()=>{n.d=!0})}function gr(r){const e=te;if(e!==null){const o=e.e;if(o!==null){var t=V,n=W;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];rt(s.effect),Be(s.reaction),Gr(s.fn)}}finally{rt(t),Be(n)}}te=e.p,e.m=!0}return{}}function Mn(){return!pr||te!==null&&te.l===null}function Lt(r){if(typeof r!="object"||r===null||At in r)return r;const e=Mi(r);if(e!==wa&&e!==Ea)return r;var t=new Map,n=Li(r),i=_t(0),s=W,o=a=>{var l=W;Be(s);var u=a();return Be(l),u};return n&&t.set("length",_t(r.length)),new Proxy(r,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Da();var c=t.get(l);return c===void 0?(c=o(()=>_t(u.value)),t.set(l,c)):K(c,o(()=>Lt(u.value))),!0},deleteProperty(a,l){var u=t.get(l);if(u===void 0)l in a&&(t.set(l,o(()=>_t(Te))),Jn(i));else{if(n&&typeof l=="string"){var c=t.get("length"),h=Number(l);Number.isInteger(h)&&h<c.v&&K(c,h)}K(u,Te),Jn(i)}return!0},get(a,l,u){var f;if(l===At)return r;var c=t.get(l),h=l in a;if(c===void 0&&(!h||(f=Ot(a,l))!=null&&f.writable)&&(c=o(()=>_t(Lt(h?a[l]:Te))),t.set(l,c)),c!==void 0){var d=j(c);return d===Te?void 0:d}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=t.get(l);c&&(u.value=j(c))}else if(u===void 0){var h=t.get(l),d=h==null?void 0:h.v;if(h!==void 0&&d!==Te)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(a,l){var d;if(l===At)return!0;var u=t.get(l),c=u!==void 0&&u.v!==Te||Reflect.has(a,l);if(u!==void 0||V!==null&&(!c||(d=Ot(a,l))!=null&&d.writable)){u===void 0&&(u=o(()=>_t(c?Lt(a[l]):Te)),t.set(l,u));var h=j(u);if(h===Te)return!1}return c},set(a,l,u,c){var m;var h=t.get(l),d=l in a;if(n&&l==="length")for(var f=u;f<h.v;f+=1){var p=t.get(f+"");p!==void 0?K(p,Te):f in a&&(p=o(()=>_t(Te)),t.set(f+"",p))}h===void 0?(!d||(m=Ot(a,l))!=null&&m.writable)&&(h=o(()=>_t(void 0)),K(h,o(()=>Lt(u))),t.set(l,h)):(d=h.v!==Te,K(h,o(()=>Lt(u))));var v=Reflect.getOwnPropertyDescriptor(a,l);if(v!=null&&v.set&&v.set.call(c,u),!d){if(n&&typeof l=="string"){var g=t.get("length"),_=Number(l);Number.isInteger(_)&&_>=g.v&&K(g,_+1)}Jn(i)}return!0},ownKeys(a){j(i);var l=Reflect.ownKeys(a).filter(h=>{var d=t.get(h);return d===void 0||d.v!==Te});for(var[u,c]of t)c.v!==Te&&!(u in a)&&l.push(u);return l},setPrototypeOf(){ja()}})}function Jn(r,e=1){K(r,r.v+e)}function Mr(r){var e=Je|tt,t=W!==null&&(W.f&Je)!==0?W:null;return V===null||t!==null&&(t.f&je)!==0?e|=je:V.f|=io,{ctx:te,deps:null,effects:null,equals:oo,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??V}}function We(r){const e=Mr(r);return e.equals=Fi,e}function uo(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)ct(e[t])}}function Ya(r){for(var e=r.parent;e!==null;){if((e.f&Je)===0)return e;e=e.parent}return null}function co(r){var e,t=V;rt(Ya(r));try{uo(r),e=Ao(r)}finally{rt(t)}return e}function ho(r){var e=co(r),t=(Tt||(r.f&je)!==0)&&r.deps!==null?Pt:we;qe(r,t),r.equals(e)||(r.v=e,r.wv=$o())}const Ur=new Map;function or(r,e){var t={f:0,v:r,reactions:null,equals:oo,rv:0,wv:0};return t}function _t(r,e){const t=or(r);return sl(t),t}function Fe(r,e=!1){var n;const t=or(r);return e||(t.equals=Fi),pr&&te!==null&&te.l!==null&&((n=te.l).s??(n.s=[])).push(t),t}function K(r,e,t=!1){W!==null&&!Ze&&Mn()&&(W.f&(Je|Ln))!==0&&!(be!=null&&be.includes(r))&&Ia();let n=t?Lt(e):e;return mi(r,n)}function mi(r,e){if(!r.equals(e)){var t=r.v;Vr?Ur.set(r,e):Ur.set(r,t),r.v=e,(r.f&Je)!==0&&((r.f&tt)!==0&&co(r),qe(r,(r.f&je)===0?we:Pt)),r.wv=$o(),fo(r,tt),Mn()&&V!==null&&(V.f&we)!==0&&(V.f&(ft|fr))===0&&(Le===null?ol([r]):Le.push(r))}return e}function ns(r,e=1){var t=j(r),n=e===1?t++:t--;return K(r,t),n}function fo(r,e){var t=r.reactions;if(t!==null)for(var n=Mn(),i=t.length,s=0;s<i;s++){var o=t[s],a=o.f;(a&tt)===0&&(!n&&o===V||(qe(o,e),(a&(we|je))!==0&&((a&Je)!==0?fo(o,Pt):Hn(o))))}}let Ka=!1;var is,po,vo,go;function Xa(){if(is===void 0){is=window,po=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;vo=Ot(e,"firstChild").get,go=Ot(e,"nextSibling").get,ts(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),ts(t)&&(t.__t=void 0)}}function zr(r=""){return document.createTextNode(r)}function ar(r){return vo.call(r)}function Un(r){return go.call(r)}function B(r,e){return ar(r)}function Ie(r,e){{var t=ar(r);return t instanceof Comment&&t.data===""?Un(t):t}}function Z(r,e=1,t=!1){let n=r;for(;e--;)n=Un(n);return n}function Qa(r){r.textContent=""}function _o(r){V===null&&W===null&&Pa(),W!==null&&(W.f&je)!==0&&V===null&&Aa(),Vr&&Oa()}function Za(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function _r(r,e,t,n=!0){var i=V,s={ctx:te,deps:null,nodes_start:null,nodes_end:null,f:r|tt,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{qn(s),s.f|=no}catch(l){throw ct(s),l}else e!==null&&Hn(s);var o=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(io|En))===0;if(!o&&n&&(i!==null&&Za(s,i),W!==null&&(W.f&Je)!==0)){var a=W;(a.effects??(a.effects=[])).push(s)}return s}function mo(r){const e=_r(Rn,null,!1);return qe(e,we),e.teardown=r,e}function yi(r){_o();var e=V!==null&&(V.f&ft)!==0&&te!==null&&!te.m;if(e){var t=te;(t.e??(t.e=[])).push({fn:r,effect:V,reaction:W})}else{var n=Gr(r);return n}}function el(r){return _o(),Wr(r)}function tl(r){const e=_r(fr,r,!0);return(t={})=>new Promise(n=>{t.outro?Fr(e,()=>{ct(e),n(void 0)}):(ct(e),n(void 0))})}function Gr(r){return _r(ro,r,!1)}function Zt(r,e){var t=te,n={effect:null,ran:!1};t.l.r1.push(n),n.effect=Wr(()=>{r(),!n.ran&&(n.ran=!0,K(t.l.r2,!0),ht(e))})}function yo(){var r=te;Wr(()=>{if(j(r.l.r2)){for(var e of r.l.r1){var t=e.effect;(t.f&we)!==0&&qe(t,Pt),mr(t)&&qn(t),e.ran=!1}r.l.r2.v=!1}})}function Wr(r){return _r(Rn,r,!0)}function Ue(r,e=[],t=Mr){const n=e.map(t);return Fn(()=>r(...n.map(j)))}function Fn(r,e=0){return _r(Rn|Ln|e,r,!0)}function lr(r,e=!0){return _r(Rn|ft,r,!0,e)}function bo(r){var e=r.teardown;if(e!==null){const t=Vr,n=W;ss(!0),Be(null);try{e.call(null)}finally{ss(t),Be(n)}}}function wo(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;(t.f&fr)!==0?t.parent=null:ct(t,e),t=n}}function rl(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&ft)===0&&ct(e),e=t}}function ct(r,e=!0){var t=!1;(e||(r.f&Ta)!==0)&&r.nodes_start!==null&&(nl(r.nodes_start,r.nodes_end),t=!0),wo(r,e&&!t),On(r,0),qe(r,Nn);var n=r.transitions;if(n!==null)for(const s of n)s.stop();bo(r);var i=r.parent;i!==null&&i.first!==null&&Eo(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function nl(r,e){for(;r!==null;){var t=r===e?null:Un(r);r.remove(),r=t}}function Eo(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function Fr(r,e){var t=[];Hi(r,t,!0),So(t,()=>{ct(r),e&&e()})}function So(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var i of r)i.out(n)}else e()}function Hi(r,e,t){if((r.f&lt)===0){if(r.f^=lt,r.transitions!==null)for(const o of r.transitions)(o.is_global||t)&&e.push(o);for(var n=r.first;n!==null;){var i=n.next,s=(n.f&Hr)!==0||(n.f&ft)!==0;Hi(n,e,s?t:!1),n=i}}}function Br(r){ko(r,!0)}function ko(r,e){if((r.f&lt)!==0){r.f^=lt,(r.f&we)===0&&(r.f^=we),mr(r)&&(qe(r,tt),Hn(r));for(var t=r.first;t!==null;){var n=t.next,i=(t.f&Hr)!==0||(t.f&ft)!==0;ko(t,i?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let kn=[];function il(){var r=kn;kn=[],gi(r)}function Jr(r){kn.length===0&&queueMicrotask(il),kn.push(r)}let fn=!1,bi=!1,Tn=null,Mt=!1,Vr=!1;function ss(r){Vr=r}let pn=[];let W=null,Ze=!1;function Be(r){W=r}let V=null;function rt(r){V=r}let be=null;function sl(r){W!==null&&W.f&_i&&(be===null?be=[r]:be.push(r))}let ye=null,Pe=0,Le=null;function ol(r){Le=r}let To=1,$n=0,Tt=!1;function $o(){return++To}function mr(r){var h;var e=r.f;if((e&tt)!==0)return!0;if((e&Pt)!==0){var t=r.deps,n=(e&je)!==0;if(t!==null){var i,s,o=(e&Sn)!==0,a=n&&V!==null&&!Tt,l=t.length;if(o||a){var u=r,c=u.parent;for(i=0;i<l;i++)s=t[i],(o||!((h=s==null?void 0:s.reactions)!=null&&h.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);o&&(u.f^=Sn),a&&c!==null&&(c.f&je)===0&&(u.f^=je)}for(i=0;i<l;i++)if(s=t[i],mr(s)&&ho(s),s.wv>r.wv)return!0}(!n||V!==null&&!Tt)&&qe(r,we)}return!1}function al(r,e){for(var t=e;t!==null;){if((t.f&En)!==0)try{t.fn(r);return}catch{t.f^=En}t=t.parent}throw fn=!1,r}function os(r){return(r.f&Nn)===0&&(r.parent===null||(r.parent.f&En)===0)}function Bn(r,e,t,n){if(fn){if(t===null&&(fn=!1),os(e))throw r;return}if(t!==null&&(fn=!0),al(r,e),os(e))throw r}function Oo(r,e,t=!0){var n=r.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];be!=null&&be.includes(r)||((s.f&Je)!==0?Oo(s,e,!1):e===s&&(t?qe(s,tt):(s.f&we)!==0&&qe(s,Pt),Hn(s)))}}function Ao(r){var f;var e=ye,t=Pe,n=Le,i=W,s=Tt,o=be,a=te,l=Ze,u=r.f;ye=null,Pe=0,Le=null,Tt=(u&je)!==0&&(Ze||!Mt||W===null),W=(u&(ft|fr))===0?r:null,be=null,rs(r.ctx),Ze=!1,$n++,r.f|=_i;try{var c=(0,r.fn)(),h=r.deps;if(ye!==null){var d;if(On(r,Pe),h!==null&&Pe>0)for(h.length=Pe+ye.length,d=0;d<ye.length;d++)h[Pe+d]=ye[d];else r.deps=h=ye;if(!Tt)for(d=Pe;d<h.length;d++)((f=h[d]).reactions??(f.reactions=[])).push(r)}else h!==null&&Pe<h.length&&(On(r,Pe),h.length=Pe);if(Mn()&&Le!==null&&!Ze&&h!==null&&(r.f&(Je|Pt|tt))===0)for(d=0;d<Le.length;d++)Oo(Le[d],r);return i!==null&&i!==r&&($n++,Le!==null&&(n===null?n=Le:n.push(...Le))),c}finally{ye=e,Pe=t,Le=n,W=i,Tt=s,be=o,rs(a),Ze=l,r.f^=_i}}function ll(r,e){let t=e.reactions;if(t!==null){var n=ya.call(t,r);if(n!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[n]=t[i],t.pop())}}t===null&&(e.f&Je)!==0&&(ye===null||!ye.includes(e))&&(qe(e,Pt),(e.f&(je|Sn))===0&&(e.f^=Sn),uo(e),On(e,0))}function On(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)ll(r,t[n])}function qn(r){var e=r.f;if((e&Nn)===0){qe(r,we);var t=V,n=te,i=Mt;V=r,Mt=!0;try{(e&Ln)!==0?rl(r):wo(r),bo(r);var s=Ao(r);r.teardown=typeof s=="function"?s:null,r.wv=To;var o=r.deps,a;es&&Ra&&r.f&tt}catch(l){Bn(l,r,t,n||r.ctx)}finally{Mt=i,V=t}}}function ul(){try{xa()}catch(r){if(Tn!==null)Bn(r,Tn,null);else throw r}}function cl(){var r=Mt;try{var e=0;for(Mt=!0;pn.length>0;){e++>1e3&&ul();var t=pn,n=t.length;pn=[];for(var i=0;i<n;i++){var s=dl(t[i]);hl(s)}Ur.clear()}}finally{bi=!1,Mt=r,Tn=null}}function hl(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(Nn|lt))===0)try{mr(n)&&(qn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Eo(n):n.fn=null))}catch(i){Bn(i,n,null,n.ctx)}}}function Hn(r){bi||(bi=!0,queueMicrotask(cl));for(var e=Tn=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(fr|ft))!==0){if((t&we)===0)return;e.f^=we}}pn.push(e)}function dl(r){for(var e=[],t=r;t!==null;){var n=t.f,i=(n&(ft|fr))!==0,s=i&&(n&we)!==0;if(!s&&(n&lt)===0){if((n&ro)!==0)e.push(t);else if(i)t.f^=we;else{var o=W;try{W=t,mr(t)&&qn(t)}catch(u){Bn(u,t,null,t.ctx)}finally{W=o}}var a=t.first;if(a!==null){t=a;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}return e}function j(r){var e=r.f,t=(e&Je)!==0;if(W!==null&&!Ze){if(!(be!=null&&be.includes(r))){var n=W.deps;r.rv<$n&&(r.rv=$n,ye===null&&n!==null&&n[Pe]===r?Pe++:ye===null?ye=[r]:(!Tt||!ye.includes(r))&&ye.push(r))}}else if(t&&r.deps===null&&r.effects===null){var i=r,s=i.parent;s!==null&&(s.f&je)===0&&(i.f^=je)}return t&&(i=r,mr(i)&&ho(i)),Vr&&Ur.has(r)?Ur.get(r):r.v}function ht(r){var e=Ze;try{return Ze=!0,r()}finally{Ze=e}}const fl=-7169;function qe(r,e){r.f=r.f&fl|e}function zn(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(At in r)wi(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&At in t&&wi(t)}}}function wi(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{wi(r[n],e)}catch{}const t=Mi(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=to(t);for(let i in n){const s=n[i].get;if(s)try{s.call(r)}catch{}}}}}function pl(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const vl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function gl(r){return vl.includes(r)}const _l={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ml(r){return r=r.toLowerCase(),_l[r]??r}const yl=["touchstart","touchmove"];function bl(r){return yl.includes(r)}function wl(r,e){if(e){const t=document.body;r.autofocus=!0,Jr(()=>{document.activeElement===t&&r.focus()})}}function Po(r){var e=W,t=V;Be(null),rt(null);try{return r()}finally{Be(e),rt(t)}}const xo=new Set,Ei=new Set;function Co(r,e,t,n={}){function i(s){if(n.capture||Tr.call(e,s),!s.cancelBubble)return Po(()=>t==null?void 0:t.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Jr(()=>{e.addEventListener(r,i,n)}):e.addEventListener(r,i,n),i}function rr(r,e,t,n,i){var s={capture:n,passive:i},o=Co(r,e,t,s);(e===document.body||e===window||e===document)&&mo(()=>{e.removeEventListener(r,o,s)})}function El(r){for(var e=0;e<r.length;e++)xo.add(r[e]);for(var t of Ei)t(r)}function Tr(r){var m;var e=this,t=e.ownerDocument,n=r.type,i=((m=r.composedPath)==null?void 0:m.call(r))||[],s=i[0]||r.target,o=0,a=r.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||r.target,s!==e){ba(r,"currentTarget",{configurable:!0,get(){return s||t}});var c=W,h=V;Be(null),rt(null);try{for(var d,f=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+n];if(v!=null&&(!s.disabled||r.target===s))if(Li(v)){var[g,..._]=v;g.apply(s,[r,..._])}else v.call(s,r)}catch(E){d?f.push(E):d=E}if(r.cancelBubble||p===e||p===null)break;s=p}if(d){for(let E of f)queueMicrotask(()=>{throw E});throw d}}finally{r.__root=e,delete r.currentTarget,Be(c),rt(h)}}}function Do(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function ur(r,e){var t=V;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function ge(r,e){var t=(e&za)!==0,n=(e&Ga)!==0,i,s=!r.startsWith("<!>");return()=>{i===void 0&&(i=Do(s?r:"<!>"+r),t||(i=ar(i)));var o=n||po?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=ar(o),l=o.lastChild;ur(a,l)}else ur(o,o);return o}}function Sl(r,e,t="svg"){var n=!r.startsWith("<!>"),i=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var o=Do(i),a=ar(o);s=ar(a)}var l=s.cloneNode(!0);return ur(l,l),l}}function as(r=""){{var e=zr(r+"");return ur(e,e),e}}function Ye(){var r=document.createDocumentFragment(),e=document.createComment(""),t=zr();return r.append(e,t),ur(e,t),r}function J(r,e){r!==null&&r.before(e)}let An=!0;function ls(r){An=r}function Ne(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t+"")}function kl(r,e){return Tl(r,e)}const Ft=new Map;function Tl(r,{target:e,anchor:t,props:n={},events:i,context:s,intro:o=!0}){Xa();var a=new Set,l=h=>{for(var d=0;d<h.length;d++){var f=h[d];if(!a.has(f)){a.add(f);var p=bl(f);e.addEventListener(f,Tr,{passive:p});var v=Ft.get(f);v===void 0?(document.addEventListener(f,Tr,{passive:p}),Ft.set(f,1)):Ft.set(f,v+1)}}};l(Ni(xo)),Ei.add(l);var u=void 0,c=tl(()=>{var h=t??e.appendChild(zr());return lr(()=>{if(s){vr({});var d=te;d.c=s}i&&(n.$$events=i),An=o,u=r(h,n)||{},An=!0,s&&gr()}),()=>{var p;for(var d of a){e.removeEventListener(d,Tr);var f=Ft.get(d);--f===0?(document.removeEventListener(d,Tr),Ft.delete(d)):Ft.set(d,f)}Ei.delete(l),h!==t&&((p=h.parentNode)==null||p.removeChild(h))}});return $l.set(u,c),u}let $l=new WeakMap;function Xe(r,e,[t,n]=[0,0]){var i=r,s=null,o=null,a=Te,l=t>0?Hr:0,u=!1;const c=(d,f=!0)=>{u=!0,h(f,d)},h=(d,f)=>{a!==(a=d)&&(a?(s?Br(s):f&&(s=lr(()=>f(i))),o&&Fr(o,()=>{o=null})):(o?Br(o):f&&(o=lr(()=>f(i,[t+1,n]))),s&&Fr(s,()=>{s=null})))};Fn(()=>{u=!1,e(c),u||h(null,null)},l)}function Ol(r,e){return e}function Al(r,e,t,n){for(var i=[],s=e.length,o=0;o<s;o++)Hi(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;Qa(l),l.append(t),n.clear(),bt(r,e[0].prev,e[s-1].next)}So(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(n.delete(c.k),bt(r,c.prev,c.next)),ct(c.e,!a)}})}function jo(r,e,t,n,i,s=null){var o=r,a={flags:e,items:new Map,first:null},l=(e&ao)!==0;if(l){var u=r;o=u.appendChild(zr())}var c=null,h=!1,d=We(()=>{var f=t();return Li(f)?f:f==null?[]:Ni(f)});Fn(()=>{var f=j(d),p=f.length;h&&p===0||(h=p===0,Pl(f,a,o,i,e,n,t),s!==null&&(p===0?c?Br(c):c=lr(()=>s(o)):c!==null&&Fr(c,()=>{c=null})),j(d))})}function Pl(r,e,t,n,i,s,o){var A,S,b,O;var a=(i&Na)!==0,l=(i&(Bi|qi))!==0,u=r.length,c=e.items,h=e.first,d=h,f,p=null,v,g=[],_=[],m,E,y,w;if(a)for(w=0;w<u;w+=1)m=r[w],E=s(m,w),y=c.get(E),y!==void 0&&((A=y.a)==null||A.measure(),(v??(v=new Set)).add(y));for(w=0;w<u;w+=1){if(m=r[w],E=s(m,w),y=c.get(E),y===void 0){var x=d?d.e.nodes_start:t;p=Cl(x,e,p,p===null?e.first:p.next,m,E,w,n,i,o),c.set(E,p),g=[],_=[],d=p.next;continue}if(l&&xl(y,m,w,i),(y.e.f&lt)!==0&&(Br(y.e),a&&((S=y.a)==null||S.unfix(),(v??(v=new Set)).delete(y))),y!==d){if(f!==void 0&&f.has(y)){if(g.length<_.length){var $=_[0],P;p=$.prev;var C=g[0],N=g[g.length-1];for(P=0;P<g.length;P+=1)us(g[P],$,t);for(P=0;P<_.length;P+=1)f.delete(_[P]);bt(e,C.prev,N.next),bt(e,p,C),bt(e,N,$),d=$,p=N,w-=1,g=[],_=[]}else f.delete(y),us(y,d,t),bt(e,y.prev,y.next),bt(e,y,p===null?e.first:p.next),bt(e,p,y),p=y;continue}for(g=[],_=[];d!==null&&d.k!==E;)(d.e.f&lt)===0&&(f??(f=new Set)).add(d),_.push(d),d=d.next;if(d===null)continue;y=d}g.push(y),p=y,d=y.next}if(d!==null||f!==void 0){for(var D=f===void 0?[]:Ni(f);d!==null;)(d.e.f&lt)===0&&D.push(d),d=d.next;var ie=D.length;if(ie>0){var Y=(i&ao)!==0&&u===0?t:null;if(a){for(w=0;w<ie;w+=1)(b=D[w].a)==null||b.measure();for(w=0;w<ie;w+=1)(O=D[w].a)==null||O.fix()}Al(e,D,Y,c)}}a&&Jr(()=>{var k;if(v!==void 0)for(y of v)(k=y.a)==null||k.apply()}),V.first=e.first&&e.first.e,V.last=p&&p.e}function xl(r,e,t,n){(n&Bi)!==0&&mi(r.v,e),(n&qi)!==0?mi(r.i,t):r.i=t}function Cl(r,e,t,n,i,s,o,a,l,u){var c=(l&Bi)!==0,h=(l&Ma)===0,d=c?h?Fe(i):or(i):i,f=(l&qi)===0?o:or(o),p={i:f,v:d,k:s,a:null,e:null,prev:t,next:n};try{return p.e=lr(()=>a(r,d,f,u),Ka),p.e.prev=t&&t.e,p.e.next=n&&n.e,t===null?e.first=p:(t.next=p,t.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function us(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var o=Un(s);i.before(s),s=o}}function bt(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function it(r,e,t,n,i){var a;var s=(a=e.$$slots)==null?void 0:a[t],o=!1;s===!0&&(s=e.children,o=!0),s===void 0||s(r,o?()=>n:n)}function Dl(r,e,t,n,i,s){var o,a,l=null,u=r,c;Fn(()=>{const h=e()||null;var d=Ja;h!==o&&(c&&(h===null?Fr(c,()=>{c=null,a=null}):h===a?Br(c):(ct(c),ls(!1))),h&&h!==a&&(c=lr(()=>{if(l=document.createElementNS(d,h),ur(l,l),n){var f=l.appendChild(zr());n(l,f)}V.nodes_end=l,u.before(l)})),o=h,o&&(a=o),ls(!0))},Hr)}function jl(r,e,t){Gr(()=>{var n=ht(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var i=!1,s={};Wr(()=>{var o=t();zn(o),i&&Ui(s,o)&&(s=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Io(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Io(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Il(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Io(r))&&(n&&(n+=" "),n+=e);return n}function Rl(r){return typeof r=="object"?Il(r):r??""}const cs=[...` 	
\r\fÂ \v\uFEFF`];function Ll(r,e,t){var n=r==null?"":""+r;if(t){for(var i in t)if(t[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var a=o+s;(o===0||cs.includes(n[o-1]))&&(a===n.length||cs.includes(n[a]))?n=(o===0?"":n.substring(0,o))+n.substring(a+1):o=a}}return n===""?null:n}function hs(r,e=!1){var t=e?" !important;":";",n="";for(var i in r){var s=r[i];s!=null&&s!==""&&(n+=" "+i+": "+s+t)}return n}function Vn(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Nl(r,e){if(e){var t="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(Vn)),i&&l.push(...Object.keys(i).map(Vn));var u=0,c=-1;const v=r.length;for(var h=0;h<v;h++){var d=r[h];if(a?d==="/"&&r[h-1]==="*"&&(a=!1):s?s===d&&(s=!1):d==="/"&&r[h+1]==="*"?a=!0:d==='"'||d==="'"?s=d:d==="("?o++:d===")"&&o--,!a&&s===!1&&o===0){if(d===":"&&c===-1)c=h;else if(d===";"||h===v-1){if(c!==-1){var f=Vn(r.substring(u,c).trim());if(!l.includes(f)){d!==";"&&h++;var p=r.substring(u,h).trim();t+=" "+p+";"}}u=h+1,c=-1}}}}return n&&(t+=hs(n)),i&&(t+=hs(i,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function Ml(r,e,t,n,i,s){var o=r.__className;if(o!==t||o===void 0){var a=Ll(t,n,s);a==null?r.removeAttribute("class"):e?r.className=a:r.setAttribute("class",a),r.__className=t}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&r.classList.toggle(l,u)}return s}function Yn(r,e={},t,n){for(var i in t){var s=t[i];e[i]!==s&&(t[i]==null?r.style.removeProperty(i):r.style.setProperty(i,s,n))}}function Ul(r,e,t,n){var i=r.__style;if(i!==e){var s=Nl(e,n);s==null?r.removeAttribute("style"):r.style.cssText=s,r.__style=e}else n&&(Array.isArray(n)?(Yn(r,t==null?void 0:t[0],n[0]),Yn(r,t==null?void 0:t[1],n[1],"important")):Yn(r,t,n));return n}const wr=Symbol("class"),Er=Symbol("style"),Ro=Symbol("is custom element"),Lo=Symbol("is html");function Fl(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function Qe(r,e,t,n){var i=No(r);i[e]!==(i[e]=t)&&(e==="loading"&&(r[$a]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Mo(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function ds(r,e,t,n,i=!1){var s=No(r),o=s[Ro],a=!s[Lo],l=e||{},u=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class?t.class=Rl(t.class):t[wr]&&(t.class=null),t[Er]&&(t.style??(t.style=null));var h=Mo(r);for(const m in t){let E=t[m];if(u&&m==="value"&&E==null){r.value=r.__value="",l[m]=E;continue}if(m==="class"){var d=r.namespaceURI==="http://www.w3.org/1999/xhtml";Ml(r,d,E,n,e==null?void 0:e[wr],t[wr]),l[m]=E,l[wr]=t[wr];continue}if(m==="style"){Ul(r,E,e==null?void 0:e[Er],t[Er]),l[m]=E,l[Er]=t[Er];continue}var f=l[m];if(E!==f){l[m]=E;var p=m[0]+m[1];if(p!=="$$")if(p==="on"){const y={},w="$$"+m;let x=m.slice(2);var v=gl(x);if(pl(x)&&(x=x.slice(0,-7),y.capture=!0),!v&&f){if(E!=null)continue;r.removeEventListener(x,l[w],y),l[w]=null}if(E!=null)if(v)r[`__${x}`]=E,El([x]);else{let $=function(P){l[m].call(this,P)};l[w]=Co(x,r,$,y)}else v&&(r[`__${x}`]=void 0)}else if(m==="style")Qe(r,m,E);else if(m==="autofocus")wl(r,!!E);else if(!o&&(m==="__value"||m==="value"&&E!=null))r.value=r.__value=E;else if(m==="selected"&&u)Fl(r,E);else{var g=m;a||(g=ml(g));var _=g==="defaultValue"||g==="defaultChecked";if(E==null&&!o&&!_)if(s[m]=null,g==="value"||g==="checked"){let y=r;const w=e===void 0;if(g==="value"){let x=y.defaultValue;y.removeAttribute(g),y.defaultValue=x,y.value=y.__value=w?x:null}else{let x=y.defaultChecked;y.removeAttribute(g),y.defaultChecked=x,y.checked=w?x:!1}}else r.removeAttribute(m);else _||h.includes(g)&&(o||typeof E!="string")?r[g]=E:typeof E!="function"&&Qe(r,g,E)}}}return l}function No(r){return r.__attributes??(r.__attributes={[Ro]:r.nodeName.includes("-"),[Lo]:r.namespaceURI===Wa})}var fs=new Map;function Mo(r){var e=fs.get(r.nodeName);if(e)return e;fs.set(r.nodeName,e=[]);for(var t,n=r,i=Element.prototype;i!==n;){t=to(n);for(var s in t)t[s].set&&e.push(s);n=Mi(n)}return e}const Bl=()=>performance.now(),at={tick:r=>requestAnimationFrame(r),now:()=>Bl(),tasks:new Set};function Uo(){const r=at.now();at.tasks.forEach(e=>{e.c(r)||(at.tasks.delete(e),e.f())}),at.tasks.size!==0&&at.tick(Uo)}function ql(r){let e;return at.tasks.size===0&&at.tick(Uo),{promise:new Promise(t=>{at.tasks.add(e={c:r,f:t})}),abort(){at.tasks.delete(e)}}}function en(r,e){Po(()=>{r.dispatchEvent(new CustomEvent(e))})}function Hl(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ps(r){const e={},t=r.split(";");for(const n of t){const[i,s]=n.split(":");if(!i||s===void 0)break;const o=Hl(i.trim());e[o]=s.trim()}return e}const zl=r=>r;function Gl(r,e,t,n){var i=(r&Ha)!==0,s="both",o,a=e.inert,l=e.style.overflow,u,c;function h(){var g=W,_=V;Be(null),rt(null);try{return o??(o=t()(e,(n==null?void 0:n())??{},{direction:s}))}finally{Be(g),rt(_)}}var d={is_global:i,in(){e.inert=a,en(e,"introstart"),u=Si(e,h(),c,1,()=>{en(e,"introend"),u==null||u.abort(),u=o=void 0,e.style.overflow=l})},out(g){e.inert=!0,en(e,"outrostart"),c=Si(e,h(),u,0,()=>{en(e,"outroend"),g==null||g()})},stop:()=>{u==null||u.abort(),c==null||c.abort()}},f=V;if((f.transitions??(f.transitions=[])).push(d),An){var p=i;if(!p){for(var v=f.parent;v&&(v.f&Hr)!==0;)for(;(v=v.parent)&&(v.f&Ln)===0;);p=!v||(v.f&no)!==0}p&&Gr(()=>{ht(()=>d.in())})}}function Si(r,e,t,n,i){var s=n===1;if(Qt(e)){var o,a=!1;return Jr(()=>{if(!a){var g=e({direction:s?"in":"out"});o=Si(r,g,t,n,i)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:ot,deactivate:ot,reset:ot,t:()=>n};const{delay:l=0,css:u,tick:c,easing:h=zl}=e;var d=[];if(s&&t===void 0&&(c&&c(0,1),u)){var f=ps(u(0,1));d.push(f,f)}var p=()=>1-n,v=r.animate(d,{duration:l});return v.onfinish=()=>{var g=(t==null?void 0:t.t())??1-n;t==null||t.abort();var _=n-g,m=e.duration*Math.abs(_),E=[];if(m>0){var y=!1;if(u)for(var w=Math.ceil(m/16.666666666666668),x=0;x<=w;x+=1){var $=g+_*h(x/w),P=ps(u($,1-$));E.push(P),y||(y=P.overflow==="hidden")}y&&(r.style.overflow="hidden"),p=()=>{var C=v.currentTime;return g+_*h(C/m)},c&&ql(()=>{if(v.playState!=="running")return!1;var C=p();return c(C,1-C),!0})}v=r.animate(E,{duration:m,fill:"forwards"}),v.onfinish=()=>{p=()=>n,c==null||c(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=ot)},deactivate:()=>{i=ot},reset:()=>{n===0&&(c==null||c(1,0))},t:()=>p()}}function vs(r,e){return r===e||(r==null?void 0:r[At])===e}function Wl(r={},e,t,n){return Gr(()=>{var i,s;return Wr(()=>{i=s,s=[],ht(()=>{r!==t(...s)&&(e(r,...s),i&&vs(t(...i),r)&&e(null,...i))})}),()=>{Jr(()=>{s&&vs(t(...s),r)&&e(null,...s)})}}),r}function Yr(r=!1){const e=te,t=e.l.u;if(!t)return;let n=()=>zn(e.s);if(r){let i=0,s={};const o=Mr(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],a=!0);return a&&i++,i});n=()=>j(o)}t.b.length&&el(()=>{gs(e,n),gi(t.b)}),yi(()=>{const i=ht(()=>t.m.map(Sa));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&yi(()=>{gs(e,n),gi(t.a)})}function gs(r,e){if(r.l.s)for(const t of r.l.s)j(t);e()}function Jl(r,e,t){if(r==null)return e(void 0),ot;const n=ht(()=>r.subscribe(e,t));return n.unsubscribe?()=>n.unsubscribe():n}const Bt=[];function Kn(r,e=ot){let t=null;const n=new Set;function i(a){if(Ui(r,a)&&(r=a,t)){const l=!Bt.length;for(const u of n)u[1](),Bt.push(u,r);if(l){for(let u=0;u<Bt.length;u+=2)Bt[u][0](Bt[u+1]);Bt.length=0}}}function s(a){i(a(r))}function o(a,l=ot){const u=[a,l];return n.add(u),n.size===1&&(t=e(i,s)||ot),a(r),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}function Xn(r){let e;return Jl(r,t=>e=t)(),e}let tn=!1;function Vl(r){var e=tn;try{return tn=!1,[r(),tn]}finally{tn=e}}const Yl={get(r,e){if(!r.exclude.includes(e))return j(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=De({get[e](){return r.props[e]}},e,lo)),r.special[e](t),ns(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),ns(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ve(r,e){return new Proxy({props:r,exclude:e,special:{},version:or(0)},Yl)}const Kl={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(Qt(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let i=r.props[n];Qt(i)&&(i=i());const s=Ot(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(Qt(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const i=Ot(n,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(r,e){if(e===At||e===so)return!1;for(let t of r.props)if(Qt(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){Qt(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function pt(...r){return new Proxy({props:r},Kl)}function _s(r){var e;return((e=r.ctx)==null?void 0:e.d)??!1}function De(r,e,t,n){var x;var i=(t&Ua)!==0,s=!pr||(t&Fa)!==0,o=(t&Ba)!==0,a=(t&qa)!==0,l=!1,u;o?[u,l]=Vl(()=>r[e]):u=r[e];var c=At in r||so in r,h=o&&(((x=Ot(r,e))==null?void 0:x.set)??(c&&e in r&&($=>r[e]=$)))||void 0,d=n,f=!0,p=!1,v=()=>(p=!0,f&&(f=!1,a?d=ht(n):d=n),d);u===void 0&&n!==void 0&&(h&&s&&Ca(),u=v(),h&&h(u));var g;if(s)g=()=>{var $=r[e];return $===void 0?v():(f=!0,p=!1,$)};else{var _=(i?Mr:We)(()=>r[e]);_.f|=ka,g=()=>{var $=j(_);return $!==void 0&&(d=void 0),$===void 0?d:$}}if((t&lo)===0)return g;if(h){var m=r.$$legacy;return function($,P){return arguments.length>0?((!s||!P||m||l)&&h(P?g():$),$):g()}}var E=!1,y=Fe(u),w=Mr(()=>{var $=g(),P=j(y);return E?(E=!1,P):y.v=$});return o&&j(w),i||(w.equals=Fi),function($,P){if(arguments.length>0){const C=P?j(w):s&&o?Lt($):$;if(!w.equals(C)){if(E=!0,K(y,C),p&&d!==void 0&&(d=C),_s(w))return $;ht(()=>j(w))}return $}return _s(w)?w.v:j(w)}}function Xl(r){te===null&&Va(),pr&&te.l!==null?Ql(te).m.push(r):yi(()=>{const e=ht(r);if(typeof e=="function")return e})}function Ql(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const Zl="5";var eo;typeof window<"u"&&((eo=window.__svelte??(window.__svelte={})).v??(eo.v=new Set)).add(Zl);La();/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ms(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function nt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ms(Object(t),!0).forEach(function(n){eu(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ms(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vn(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vn=function(e){return typeof e}:vn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(r)}function eu(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dt(){return dt=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dt.apply(this,arguments)}function tu(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function ru(r,e){if(r==null)return{};var t=tu(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var nu="1.15.6";function ut(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var vt=ut(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Kr=ut(/Edge/i),ys=ut(/firefox/i),xr=ut(/safari/i)&&!ut(/chrome/i)&&!ut(/android/i),zi=ut(/iP(ad|od|hone)/i),Fo=ut(/chrome/i)&&ut(/android/i),Bo={capture:!1,passive:!1};function z(r,e,t){r.addEventListener(e,t,!vt&&Bo)}function q(r,e,t){r.removeEventListener(e,t,!vt&&Bo)}function Pn(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function qo(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function ze(r,e,t,n){if(r){t=t||document;do{if(e!=null&&(e[0]===">"?r.parentNode===t&&Pn(r,e):Pn(r,e))||n&&r===t)return r;if(r===t)break}while(r=qo(r))}return null}var bs=/\s+/g;function Ae(r,e,t){if(r&&e)if(r.classList)r.classList[t?"add":"remove"](e);else{var n=(" "+r.className+" ").replace(bs," ").replace(" "+e+" "," ");r.className=(n+(t?" "+e:"")).replace(bs," ")}}function R(r,e,t){var n=r&&r.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(t=r.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function ir(r,e){var t="";if(typeof r=="string")t=r;else do{var n=R(r,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(r=r.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Ho(r,e,t){if(r){var n=r.getElementsByTagName(e),i=0,s=n.length;if(t)for(;i<s;i++)t(n[i],i);return n}return[]}function et(){var r=document.scrollingElement;return r||document.documentElement}function ue(r,e,t,n,i){if(!(!r.getBoundingClientRect&&r!==window)){var s,o,a,l,u,c,h;if(r!==window&&r.parentNode&&r!==et()?(s=r.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,h=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||t)&&r!==window&&(i=i||r.parentNode,!vt))do if(i&&i.getBoundingClientRect&&(R(i,"transform")!=="none"||t&&R(i,"position")!=="static")){var d=i.getBoundingClientRect();o-=d.top+parseInt(R(i,"border-top-width")),a-=d.left+parseInt(R(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(n&&r!==window){var f=ir(i||r),p=f&&f.a,v=f&&f.d;f&&(o/=v,a/=p,h/=p,c/=v,l=o+c,u=a+h)}return{top:o,left:a,bottom:l,right:u,width:h,height:c}}}function ws(r,e,t){for(var n=$t(r,!0),i=ue(r)[e];n;){var s=ue(n)[t],o=void 0;if(o=i>=s,!o)return n;if(n===et())break;n=$t(n,!1)}return!1}function cr(r,e,t,n){for(var i=0,s=0,o=r.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==L.ghost&&(n||o[s]!==L.dragged)&&ze(o[s],t.draggable,r,!1)){if(i===e)return o[s];i++}s++}return null}function Gi(r,e){for(var t=r.lastElementChild;t&&(t===L.ghost||R(t,"display")==="none"||e&&!Pn(t,e));)t=t.previousElementSibling;return t||null}function Me(r,e){var t=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==L.clone&&(!e||Pn(r,e))&&t++;return t}function Es(r){var e=0,t=0,n=et();if(r)do{var i=ir(r),s=i.a,o=i.d;e+=r.scrollLeft*s,t+=r.scrollTop*o}while(r!==n&&(r=r.parentNode));return[e,t]}function iu(r,e){for(var t in r)if(r.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===r[t][n])return Number(t)}return-1}function $t(r,e){if(!r||!r.getBoundingClientRect)return et();var t=r,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=R(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return et();if(n||e)return t;n=!0}}while(t=t.parentNode);return et()}function su(r,e){if(r&&e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function Qn(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Cr;function zo(r,e){return function(){if(!Cr){var t=arguments,n=this;t.length===1?r.call(n,t[0]):r.apply(n,t),Cr=setTimeout(function(){Cr=void 0},e)}}}function ou(){clearTimeout(Cr),Cr=void 0}function Go(r,e,t){r.scrollLeft+=e,r.scrollTop+=t}function Wo(r){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):t?t(r).clone(!0)[0]:r.cloneNode(!0)}function Jo(r,e,t){var n={};return Array.from(r.children).forEach(function(i){var s,o,a,l;if(!(!ze(i,e.draggable,r,!1)||i.animated||i===t)){var u=ue(i);n.left=Math.min((s=n.left)!==null&&s!==void 0?s:1/0,u.left),n.top=Math.min((o=n.top)!==null&&o!==void 0?o:1/0,u.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,u.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var $e="Sortable"+new Date().getTime();function au(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(R(i,"display")==="none"||i===L.ghost)){r.push({target:i,rect:ue(i)});var s=nt({},r[r.length-1].rect);if(i.thisAnimationDuration){var o=ir(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(iu(r,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var s=!1,o=0;r.forEach(function(a){var l=0,u=a.target,c=u.fromRect,h=ue(u),d=u.prevFromRect,f=u.prevToRect,p=a.rect,v=ir(u,!0);v&&(h.top-=v.f,h.left-=v.e),u.toRect=h,u.thisAnimationDuration&&Qn(d,h)&&!Qn(c,h)&&(p.top-h.top)/(p.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(l=uu(p,d,f,i.options)),Qn(h,c)||(u.prevFromRect=c,u.prevToRect=h,l||(l=i.options.animation),i.animate(u,p,h,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),r=[]},animate:function(n,i,s,o){if(o){R(n,"transition",""),R(n,"transform","");var a=ir(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),h=(i.top-s.top)/(u||1);n.animatingX=!!c,n.animatingY=!!h,R(n,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=lu(n),R(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),R(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){R(n,"transition",""),R(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function lu(r){return r.offsetWidth}function uu(r,e,t,n){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var qt=[],Zn={initializeByDefault:!0},Xr={mount:function(e){for(var t in Zn)Zn.hasOwnProperty(t)&&!(t in e)&&(e[t]=Zn[t]);qt.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),qt.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var s=e+"Global";qt.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][s]&&t[o.pluginName][s](nt({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](nt({sortable:t},n)))})},initializePlugins:function(e,t,n,i){qt.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,dt(n,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,t){var n={};return qt.forEach(function(i){typeof i.eventProperties=="function"&&dt(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return qt.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(i=s.optionListeners[t].call(e[s.pluginName],n))}),i}};function cu(r){var e=r.sortable,t=r.rootEl,n=r.name,i=r.targetEl,s=r.cloneEl,o=r.toEl,a=r.fromEl,l=r.oldIndex,u=r.newIndex,c=r.oldDraggableIndex,h=r.newDraggableIndex,d=r.originalEvent,f=r.putSortable,p=r.extraEventProperties;if(e=e||t&&t[$e],!!e){var v,g=e.options,_="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!vt&&!Kr?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=o||t,v.from=a||t,v.item=i||t,v.clone=s,v.oldIndex=l,v.newIndex=u,v.oldDraggableIndex=c,v.newDraggableIndex=h,v.originalEvent=d,v.pullMode=f?f.lastPutMode:void 0;var m=nt(nt({},p),Xr.getEventProperties(n,e));for(var E in m)v[E]=m[E];t&&t.dispatchEvent(v),g[_]&&g[_].call(e,v)}}var hu=["evt"],Se=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,s=ru(n,hu);Xr.pluginEvent.bind(L)(e,t,nt({dragEl:T,parentEl:oe,ghostEl:U,rootEl:ne,nextEl:It,lastDownEl:gn,cloneEl:se,cloneHidden:St,dragStarted:$r,putSortable:pe,activeSortable:L.active,originalEvent:i,oldIndex:nr,oldDraggableIndex:Dr,newIndex:xe,newDraggableIndex:wt,hideGhostForTarget:Xo,unhideGhostForTarget:Qo,cloneNowHidden:function(){St=!0},cloneNowShown:function(){St=!1},dispatchSortableEvent:function(a){me({sortable:t,name:a,originalEvent:i})}},s))};function me(r){cu(nt({putSortable:pe,cloneEl:se,targetEl:T,rootEl:ne,oldIndex:nr,oldDraggableIndex:Dr,newIndex:xe,newDraggableIndex:wt},r))}var T,oe,U,ne,It,gn,se,St,nr,xe,Dr,wt,rn,pe,er=!1,xn=!1,Cn=[],Ct,He,ei,ti,Ss,ks,$r,Ht,jr,Ir=!1,nn=!1,_n,ve,ri=[],ki=!1,Dn=[],Gn=typeof document<"u",sn=zi,Ts=Kr||vt?"cssFloat":"float",du=Gn&&!Fo&&!zi&&"draggable"in document.createElement("div"),Vo=function(){if(Gn){if(vt)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),Yo=function(e,t){var n=R(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=cr(e,0,t),o=cr(e,1,t),a=s&&R(s),l=o&&R(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ue(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ue(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&n[Ts]==="none"||o&&n[Ts]==="none"&&u+c>i)?"vertical":"horizontal"},fu=function(e,t,n){var i=n?e.left:e.top,s=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,u=n?t.width:t.height;return i===a||s===l||i+o/2===a+u/2},pu=function(e,t){var n;return Cn.some(function(i){var s=i[$e].options.emptyInsertThreshold;if(!(!s||Gi(i))){var o=ue(i),a=e>=o.left-s&&e<=o.right+s,l=t>=o.top-s&&t<=o.bottom+s;if(a&&l)return n=i}}),n},Ko=function(e){function t(s,o){return function(a,l,u,c){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||h))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return t(s(a,l,u,c),o)(a,l,u,c);var d=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===d||s.join&&s.indexOf(d)>-1}}var n={},i=e.group;(!i||vn(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Xo=function(){!Vo&&U&&R(U,"display","none")},Qo=function(){!Vo&&U&&R(U,"display","")};Gn&&!Fo&&document.addEventListener("click",function(r){if(xn)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),xn=!1,!1},!0);var Dt=function(e){if(T){e=e.touches?e.touches[0]:e;var t=pu(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[$e]._onDragOver(n)}}},vu=function(e){T&&T.parentNode[$e]._isOutsideThisEl(e.target)};function L(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=dt({},e),r[$e]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yo(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:L.supportPointer!==!1&&"PointerEvent"in window&&(!xr||zi),emptyInsertThreshold:5};Xr.initializePlugins(this,r,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Ko(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:du,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?z(r,"pointerdown",this._onTapStart):(z(r,"mousedown",this._onTapStart),z(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(z(r,"dragover",this),z(r,"dragenter",this)),Cn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),dt(this,au())}L.prototype={constructor:L,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ht=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,T):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(Su(n),!T&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&xr&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ze(l,i.draggable,n,!1),!(l&&l.animated)&&gn!==l)){if(nr=Me(l),Dr=Me(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){me({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),Se("filter",t,{evt:e}),s&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=ze(u,h.trim(),n,!1),h)return me({sortable:t,rootEl:h,name:"filter",targetEl:l,fromEl:n,toEl:n}),Se("filter",t,{evt:e}),!0}),c)){s&&e.preventDefault();return}i.handle&&!ze(u,i.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(n&&!T&&n.parentNode===s){var u=ue(n);if(ne=s,T=n,oe=T.parentNode,It=T.nextSibling,gn=n,rn=o.group,L.dragged=T,Ct={target:T,clientX:(t||e).clientX,clientY:(t||e).clientY},Ss=Ct.clientX-u.left,ks=Ct.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,T.style["will-change"]="all",l=function(){if(Se("delayEnded",i,{evt:e}),L.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!ys&&i.nativeDraggable&&(T.draggable=!0),i._triggerDragStart(e,t),me({sortable:i,name:"choose",originalEvent:e}),Ae(T,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){Ho(T,c.trim(),ni)}),z(a,"dragover",Dt),z(a,"mousemove",Dt),z(a,"touchmove",Dt),o.supportPointer?(z(a,"pointerup",i._onDrop),!this.nativeDraggable&&z(a,"pointercancel",i._onDrop)):(z(a,"mouseup",i._onDrop),z(a,"touchend",i._onDrop),z(a,"touchcancel",i._onDrop)),ys&&this.nativeDraggable&&(this.options.touchStartThreshold=4,T.draggable=!0),Se("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Kr||vt))){if(L.eventCanceled){this._onDrop();return}o.supportPointer?(z(a,"pointerup",i._disableDelayedDrag),z(a,"pointercancel",i._disableDelayedDrag)):(z(a,"mouseup",i._disableDelayedDrag),z(a,"touchend",i._disableDelayedDrag),z(a,"touchcancel",i._disableDelayedDrag)),z(a,"mousemove",i._delayedDragTouchMoveHandler),z(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&z(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){T&&ni(T),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;q(e,"mouseup",this._disableDelayedDrag),q(e,"touchend",this._disableDelayedDrag),q(e,"touchcancel",this._disableDelayedDrag),q(e,"pointerup",this._disableDelayedDrag),q(e,"pointercancel",this._disableDelayedDrag),q(e,"mousemove",this._delayedDragTouchMoveHandler),q(e,"touchmove",this._delayedDragTouchMoveHandler),q(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?z(document,"pointermove",this._onTouchMove):t?z(document,"touchmove",this._onTouchMove):z(document,"mousemove",this._onTouchMove):(z(T,"dragend",this),z(ne,"dragstart",this._onDragStart));try{document.selection?mn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(er=!1,ne&&T){Se("dragStarted",this,{evt:t}),this.nativeDraggable&&z(document,"dragover",vu);var n=this.options;!e&&Ae(T,n.dragClass,!1),Ae(T,n.ghostClass,!0),L.active=this,e&&this._appendGhost(),me({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(He){this._lastX=He.clientX,this._lastY=He.clientY,Xo();for(var e=document.elementFromPoint(He.clientX,He.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(He.clientX,He.clientY),e!==t);)t=e;if(T.parentNode[$e]._isOutsideThisEl(e),t)do{if(t[$e]){var n=void 0;if(n=t[$e]._onDragOver({clientX:He.clientX,clientY:He.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=qo(t));Qo()}},_onTouchMove:function(e){if(Ct){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=U&&ir(U,!0),a=U&&o&&o.a,l=U&&o&&o.d,u=sn&&ve&&Es(ve),c=(s.clientX-Ct.clientX+i.x)/(a||1)+(u?u[0]-ri[0]:0)/(a||1),h=(s.clientY-Ct.clientY+i.y)/(l||1)+(u?u[1]-ri[1]:0)/(l||1);if(!L.active&&!er){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(U){o?(o.e+=c-(ei||0),o.f+=h-(ti||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");R(U,"webkitTransform",d),R(U,"mozTransform",d),R(U,"msTransform",d),R(U,"transform",d),ei=c,ti=h,He=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!U){var e=this.options.fallbackOnBody?document.body:ne,t=ue(T,!0,sn,!0,e),n=this.options;if(sn){for(ve=e;R(ve,"position")==="static"&&R(ve,"transform")==="none"&&ve!==document;)ve=ve.parentNode;ve!==document.body&&ve!==document.documentElement?(ve===document&&(ve=et()),t.top+=ve.scrollTop,t.left+=ve.scrollLeft):ve=et(),ri=Es(ve)}U=T.cloneNode(!0),Ae(U,n.ghostClass,!1),Ae(U,n.fallbackClass,!0),Ae(U,n.dragClass,!0),R(U,"transition",""),R(U,"transform",""),R(U,"box-sizing","border-box"),R(U,"margin",0),R(U,"top",t.top),R(U,"left",t.left),R(U,"width",t.width),R(U,"height",t.height),R(U,"opacity","0.8"),R(U,"position",sn?"absolute":"fixed"),R(U,"zIndex","100000"),R(U,"pointerEvents","none"),L.ghost=U,e.appendChild(U),R(U,"transform-origin",Ss/parseInt(U.style.width)*100+"% "+ks/parseInt(U.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,s=n.options;if(Se("dragStart",this,{evt:e}),L.eventCanceled){this._onDrop();return}Se("setupClone",this),L.eventCanceled||(se=Wo(T),se.removeAttribute("id"),se.draggable=!1,se.style["will-change"]="",this._hideClone(),Ae(se,this.options.chosenClass,!1),L.clone=se),n.cloneId=mn(function(){Se("clone",n),!L.eventCanceled&&(n.options.removeCloneOnHide||ne.insertBefore(se,T),n._hideClone(),me({sortable:n,name:"clone"}))}),!t&&Ae(T,s.dragClass,!0),t?(xn=!0,n._loopId=setInterval(n._emulateDragOver,50)):(q(document,"mouseup",n._onDrop),q(document,"touchend",n._onDrop),q(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,T)),z(document,"drop",n),R(T,"transform","translateZ(0)")),er=!0,n._dragStartId=mn(n._dragStarted.bind(n,t,e)),z(document,"selectstart",n),$r=!0,window.getSelection().removeAllRanges(),xr&&R(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,s,o,a=this.options,l=a.group,u=L.active,c=rn===l,h=a.sort,d=pe||u,f,p=this,v=!1;if(ki)return;function g(k,I){Se(k,p,nt({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:h,fromSortable:d,target:n,completed:m,onMove:function(G,ee){return on(ne,t,T,i,G,ue(G),e,ee)},changed:E},I))}function _(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function m(k){return g("dragOverCompleted",{insertion:k}),k&&(c?u._hideClone():u._showClone(p),p!==d&&(Ae(T,pe?pe.options.ghostClass:u.options.ghostClass,!1),Ae(T,a.ghostClass,!0)),pe!==p&&p!==L.active?pe=p:p===L.active&&pe&&(pe=null),d===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===T&&!T.animated||n===t&&!n.animated)&&(Ht=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(T.parentNode[$e]._isOutsideThisEl(e.target),!k&&Dt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function E(){xe=Me(T),wt=Me(T,a.draggable),me({sortable:p,name:"change",toEl:t,newIndex:xe,newDraggableIndex:wt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ze(n,a.draggable,t,!0),g("dragOver"),L.eventCanceled)return v;if(T.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return m(!1);if(xn=!1,u&&!a.disabled&&(c?h||(o=oe!==ne):pe===this||(this.lastPutMode=rn.checkPull(this,u,T,e))&&l.checkPut(this,u,T,e))){if(f=this._getDirection(e,n)==="vertical",i=ue(T),g("dragOverValid"),L.eventCanceled)return v;if(o)return oe=ne,_(),this._hideClone(),g("revert"),L.eventCanceled||(It?ne.insertBefore(T,It):ne.appendChild(T)),m(!0);var y=Gi(t,a.draggable);if(!y||yu(e,f,this)&&!y.animated){if(y===T)return m(!1);if(y&&t===e.target&&(n=y),n&&(s=ue(n)),on(ne,t,T,i,n,s,e,!!n)!==!1)return _(),y&&y.nextSibling?t.insertBefore(T,y.nextSibling):t.appendChild(T),oe=t,E(),m(!0)}else if(y&&mu(e,f,this)){var w=cr(t,0,a,!0);if(w===T)return m(!1);if(n=w,s=ue(n),on(ne,t,T,i,n,s,e,!1)!==!1)return _(),t.insertBefore(T,w),oe=t,E(),m(!0)}else if(n.parentNode===t){s=ue(n);var x=0,$,P=T.parentNode!==t,C=!fu(T.animated&&T.toRect||i,n.animated&&n.toRect||s,f),N=f?"top":"left",D=ws(n,"top","top")||ws(T,"top","top"),ie=D?D.scrollTop:void 0;Ht!==n&&($=s[N],Ir=!1,nn=!C&&a.invertSwap||P),x=bu(e,n,s,f,C?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,nn,Ht===n);var Y;if(x!==0){var A=Me(T);do A-=x,Y=oe.children[A];while(Y&&(R(Y,"display")==="none"||Y===U))}if(x===0||Y===n)return m(!1);Ht=n,jr=x;var S=n.nextElementSibling,b=!1;b=x===1;var O=on(ne,t,T,i,n,s,e,b);if(O!==!1)return(O===1||O===-1)&&(b=O===1),ki=!0,setTimeout(_u,30),_(),b&&!S?t.appendChild(T):n.parentNode.insertBefore(T,b?S:n),D&&Go(D,0,ie-D.scrollTop),oe=T.parentNode,$!==void 0&&!nn&&(_n=Math.abs($-ue(n)[N])),E(),m(!0)}if(t.contains(T))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){q(document,"mousemove",this._onTouchMove),q(document,"touchmove",this._onTouchMove),q(document,"pointermove",this._onTouchMove),q(document,"dragover",Dt),q(document,"mousemove",Dt),q(document,"touchmove",Dt)},_offUpEvents:function(){var e=this.el.ownerDocument;q(e,"mouseup",this._onDrop),q(e,"touchend",this._onDrop),q(e,"pointerup",this._onDrop),q(e,"pointercancel",this._onDrop),q(e,"touchcancel",this._onDrop),q(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(xe=Me(T),wt=Me(T,n.draggable),Se("drop",this,{evt:e}),oe=T&&T.parentNode,xe=Me(T),wt=Me(T,n.draggable),L.eventCanceled){this._nulling();return}er=!1,nn=!1,Ir=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ti(this.cloneId),Ti(this._dragStartId),this.nativeDraggable&&(q(document,"drop",this),q(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),xr&&R(document.body,"user-select",""),R(T,"transform",""),e&&($r&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),U&&U.parentNode&&U.parentNode.removeChild(U),(ne===oe||pe&&pe.lastPutMode!=="clone")&&se&&se.parentNode&&se.parentNode.removeChild(se),T&&(this.nativeDraggable&&q(T,"dragend",this),ni(T),T.style["will-change"]="",$r&&!er&&Ae(T,pe?pe.options.ghostClass:this.options.ghostClass,!1),Ae(T,this.options.chosenClass,!1),me({sortable:this,name:"unchoose",toEl:oe,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==oe?(xe>=0&&(me({rootEl:oe,name:"add",toEl:oe,fromEl:ne,originalEvent:e}),me({sortable:this,name:"remove",toEl:oe,originalEvent:e}),me({rootEl:oe,name:"sort",toEl:oe,fromEl:ne,originalEvent:e}),me({sortable:this,name:"sort",toEl:oe,originalEvent:e})),pe&&pe.save()):xe!==nr&&xe>=0&&(me({sortable:this,name:"update",toEl:oe,originalEvent:e}),me({sortable:this,name:"sort",toEl:oe,originalEvent:e})),L.active&&((xe==null||xe===-1)&&(xe=nr,wt=Dr),me({sortable:this,name:"end",toEl:oe,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Se("nulling",this),ne=T=oe=U=It=se=gn=St=Ct=He=$r=xe=wt=nr=Dr=Ht=jr=pe=rn=L.dragged=L.ghost=L.clone=L.active=null,Dn.forEach(function(e){e.checked=!0}),Dn.length=ei=ti=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":T&&(this._onDragOver(e),gu(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,s=n.length,o=this.options;i<s;i++)t=n[i],ze(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Eu(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];ze(a,this.options.draggable,i,!1)&&(n[s]=a)},this),t&&this.captureAnimationState(),e.forEach(function(s){n[s]&&(i.removeChild(n[s]),i.appendChild(n[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ze(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=Xr.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&Ko(n)},destroy:function(){Se("destroy",this);var e=this.el;e[$e]=null,q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart),q(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Cn.splice(Cn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!St){if(Se("hideClone",this),L.eventCanceled)return;R(se,"display","none"),this.options.removeCloneOnHide&&se.parentNode&&se.parentNode.removeChild(se),St=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(St){if(Se("showClone",this),L.eventCanceled)return;T.parentNode==ne&&!this.options.group.revertClone?ne.insertBefore(se,T):It?ne.insertBefore(se,It):ne.appendChild(se),this.options.group.revertClone&&this.animate(T,se),R(se,"display",""),St=!1}}};function gu(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function on(r,e,t,n,i,s,o,a){var l,u=r[$e],c=u.options.onMove,h;return window.CustomEvent&&!vt&&!Kr?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=r,l.dragged=t,l.draggedRect=n,l.related=i||e,l.relatedRect=s||ue(e),l.willInsertAfter=a,l.originalEvent=o,r.dispatchEvent(l),c&&(h=c.call(u,l,o)),h}function ni(r){r.draggable=!1}function _u(){ki=!1}function mu(r,e,t){var n=ue(cr(t.el,0,t.options,!0)),i=Jo(t.el,t.options,U),s=10;return e?r.clientX<i.left-s||r.clientY<n.top&&r.clientX<n.right:r.clientY<i.top-s||r.clientY<n.bottom&&r.clientX<n.left}function yu(r,e,t){var n=ue(Gi(t.el,t.options.draggable)),i=Jo(t.el,t.options,U),s=10;return e?r.clientX>i.right+s||r.clientY>n.bottom&&r.clientX>n.left:r.clientY>i.bottom+s||r.clientX>n.right&&r.clientY>n.top}function bu(r,e,t,n,i,s,o,a){var l=n?r.clientY:r.clientX,u=n?t.height:t.width,c=n?t.top:t.left,h=n?t.bottom:t.right,d=!1;if(!o){if(a&&_n<u*i){if(!Ir&&(jr===1?l>c+u*s/2:l<h-u*s/2)&&(Ir=!0),Ir)d=!0;else if(jr===1?l<c+_n:l>h-_n)return-jr}else if(l>c+u*(1-i)/2&&l<h-u*(1-i)/2)return wu(e)}return d=d||o,d&&(l<c+u*s/2||l>h-u*s/2)?l>c+u/2?1:-1:0}function wu(r){return Me(T)<Me(r)?1:-1}function Eu(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Su(r){Dn.length=0;for(var e=r.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Dn.push(n)}}function mn(r){return setTimeout(r,0)}function Ti(r){return clearTimeout(r)}Gn&&z(document,"touchmove",function(r){(L.active||er)&&r.cancelable&&r.preventDefault()});L.utils={on:z,off:q,css:R,find:Ho,is:function(e,t){return!!ze(e,t,e,!1)},extend:su,throttle:zo,closest:ze,toggleClass:Ae,clone:Wo,index:Me,nextTick:mn,cancelNextTick:Ti,detectDirection:Yo,getChild:cr,expando:$e};L.get=function(r){return r[$e]};L.mount=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(L.utils=nt(nt({},L.utils),n.utils)),Xr.mount(n)})};L.create=function(r,e){return new L(r,e)};L.version=nu;var le=[],Or,$i,Oi=!1,ii,si,jn,Ar;function ku(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?z(document,"dragover",this._handleAutoScroll):this.options.supportPointer?z(document,"pointermove",this._handleFallbackAutoScroll):n.touches?z(document,"touchmove",this._handleFallbackAutoScroll):z(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):(q(document,"pointermove",this._handleFallbackAutoScroll),q(document,"touchmove",this._handleFallbackAutoScroll),q(document,"mousemove",this._handleFallbackAutoScroll)),$s(),yn(),ou()},nulling:function(){jn=$i=Or=Oi=Ar=ii=si=null,le.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(s,o);if(jn=t,n||this.options.forceAutoScrollFallback||Kr||vt||xr){oi(t,this.options,a,n);var l=$t(a,!0);Oi&&(!Ar||s!==ii||o!==si)&&(Ar&&$s(),Ar=setInterval(function(){var u=$t(document.elementFromPoint(s,o),!0);u!==l&&(l=u,yn()),oi(t,i.options,u,n)},10),ii=s,si=o)}else{if(!this.options.bubbleScroll||$t(a,!0)===et()){yn();return}oi(t,this.options,$t(a,!1),!1)}}},dt(r,{pluginName:"scroll",initializeByDefault:!0})}function yn(){le.forEach(function(r){clearInterval(r.pid)}),le=[]}function $s(){clearInterval(Ar)}var oi=zo(function(r,e,t,n){if(e.scroll){var i=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=et(),u=!1,c;$i!==t&&($i=t,yn(),Or=e.scroll,c=e.scrollFn,Or===!0&&(Or=$t(t,!0)));var h=0,d=Or;do{var f=d,p=ue(f),v=p.top,g=p.bottom,_=p.left,m=p.right,E=p.width,y=p.height,w=void 0,x=void 0,$=f.scrollWidth,P=f.scrollHeight,C=R(f),N=f.scrollLeft,D=f.scrollTop;f===l?(w=E<$&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),x=y<P&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(w=E<$&&(C.overflowX==="auto"||C.overflowX==="scroll"),x=y<P&&(C.overflowY==="auto"||C.overflowY==="scroll"));var ie=w&&(Math.abs(m-i)<=o&&N+E<$)-(Math.abs(_-i)<=o&&!!N),Y=x&&(Math.abs(g-s)<=o&&D+y<P)-(Math.abs(v-s)<=o&&!!D);if(!le[h])for(var A=0;A<=h;A++)le[A]||(le[A]={});(le[h].vx!=ie||le[h].vy!=Y||le[h].el!==f)&&(le[h].el=f,le[h].vx=ie,le[h].vy=Y,clearInterval(le[h].pid),(ie!=0||Y!=0)&&(u=!0,le[h].pid=setInterval((function(){n&&this.layer===0&&L.active._onTouchMove(jn);var S=le[this.layer].vy?le[this.layer].vy*a:0,b=le[this.layer].vx?le[this.layer].vx*a:0;typeof c=="function"&&c.call(L.dragged.parentNode[$e],b,S,r,jn,le[this.layer].el)!=="continue"||Go(le[this.layer].el,b,S)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==l&&(d=$t(d,!1)));Oi=u}},30),Zo=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var u=n||s;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Wi(){}Wi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=cr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Zo};dt(Wi,{pluginName:"revertOnSpill"});function Ji(){}Ji.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Zo};dt(Ji,{pluginName:"removeOnSpill"});L.mount(new ku);L.mount(Ji,Wi);const Tu="modulepreload",$u=function(r){return"/github-projects-dashboard/"+r},Os={},hr=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(u=>{if(u=$u(u),u in Os)return;Os[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Tu,c||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Ou=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>hr(async()=>{const{default:n}=await Promise.resolve().then(()=>yr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Vi extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Au extends Vi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pu extends Vi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xu extends Vi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ai;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ai||(Ai={}));var Cu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class Du{constructor(e,{headers:t={},customFetch:n,region:i=Ai.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Ou(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Cu(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(p=>{throw new Au(p)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Pu(c);if(!c.ok)throw new xu(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield c.json():d==="application/octet-stream"?f=yield c.blob():d==="text/event-stream"?f=c:d==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function Yi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ju(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var de={},zt={},Gt={},Wt={},Jt={},Vt={},Iu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dr=Iu();const Ru=dr.fetch,ea=dr.fetch.bind(dr),ta=dr.Headers,Lu=dr.Request,Nu=dr.Response,yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ta,Request:Lu,Response:Nu,default:ea,fetch:Ru},Symbol.toStringTag,{value:"Module"})),Mu=ju(yr);var an={},As;function ra(){if(As)return an;As=1,Object.defineProperty(an,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return an.default=r,an}var Ps;function na(){if(Ps)return Vt;Ps=1;var r=Vt&&Vt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vt,"__esModule",{value:!0});const e=r(Mu),t=r(ra());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d;let f=null,p=null,v=null,g=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const w=await u.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=w:p=JSON.parse(w))}const E=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),y=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&y&&y.length>1&&(v=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,g=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const E=await u.text();try{f=JSON.parse(E),Array.isArray(f)&&u.status===404&&(p=[],f=null,g=200,_="OK")}catch{u.status===404&&E===""?(g=204,_="No Content"):f={message:E}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,g=200,_="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:p,count:v,status:g,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Vt.default=n,Vt}var xs;function ia(){if(xs)return Jt;xs=1;var r=Jt&&Jt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jt,"__esModule",{value:!0});const e=r(na());class t extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jt.default=t,Jt}var Cs;function Ki(){if(Cs)return Wt;Cs=1;var r=Wt&&Wt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wt,"__esModule",{value:!0});const e=r(ia());class t extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Wt.default=t,Wt}var Ds;function sa(){if(Ds)return Gt;Ds=1;var r=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gt,"__esModule",{value:!0});const e=r(Ki());class t{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=t,Gt}var Sr={},kr={},js;function Uu(){return js||(js=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.version=void 0,kr.version="0.0.0-automated"),kr}var Is;function Fu(){if(Is)return Sr;Is=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.DEFAULT_HEADERS=void 0;const r=Uu();return Sr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Sr}var Rs;function Bu(){if(Rs)return zt;Rs=1;var r=zt&&zt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zt,"__esModule",{value:!0});const e=r(sa()),t=r(Ki()),n=Fu();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let f;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([v,g])=>g!==void 0).map(([v,g])=>[v,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([v,g])=>{d.searchParams.append(v,g)})):(h="POST",f=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new t.default({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return zt.default=i,zt}var Ls;function qu(){if(Ls)return de;Ls=1;var r=de&&de.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(de,"__esModule",{value:!0}),de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;const e=r(Bu());de.PostgrestClient=e.default;const t=r(sa());de.PostgrestQueryBuilder=t.default;const n=r(Ki());de.PostgrestFilterBuilder=n.default;const i=r(ia());de.PostgrestTransformBuilder=i.default;const s=r(na());de.PostgrestBuilder=s.default;const o=r(ra());return de.PostgrestError=o.default,de.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},de}var Hu=qu();const zu=Yi(Hu),{PostgrestClient:Gu,PostgrestQueryBuilder:pd,PostgrestFilterBuilder:vd,PostgrestTransformBuilder:gd,PostgrestBuilder:_d,PostgrestError:md}=zu,Wu="2.11.2",Ju={"X-Client-Info":`realtime-js/${Wu}`},Vu="1.0.0",oa=1e4,Yu=1e3;var sr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(sr||(sr={}));var Ce;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ce||(Ce={}));var Ge;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ge||(Ge={}));var Pi;(function(r){r.websocket="websocket"})(Pi||(Pi={}));var Nt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Nt||(Nt={}));class Ku{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class aa{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Q||(Q={}));const Ns=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=Xu(o,r,e,i),s),{})},Xu=(r,e,t,n)=>{const i=e.find(a=>a.name===r),s=i==null?void 0:i.type,o=t[r];return s&&!n.includes(s)?la(s,o):xi(o)},la=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return tc(e,t)}switch(r){case Q.bool:return Qu(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Zu(e);case Q.json:case Q.jsonb:return ec(e);case Q.timestamp:return rc(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return xi(e);default:return xi(e)}},xi=r=>r,Qu=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Zu=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ec=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},tc=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const o=r.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>la(e,a))}return r},rc=r=>typeof r=="string"?r.replace(" ","T"):r,ua=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ai{constructor(e,t,n={},i=oa){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ms;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ms||(Ms={}));class Rr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Rr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const d=c.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),p=c.filter(g=>f.indexOf(g.presence_ref)<0),v=h.filter(g=>d.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Us;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Us||(Us={}));var Fs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Fs||(Fs={}));var st;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class Xi{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ai(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new aa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Rr(this),this.broadcastEndpointURL=ua(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(st.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(st.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,p=[];for(let v=0;v<f;v++){const g=d[v],{filter:{event:_,schema:m,table:E,filter:y}}=g,w=c&&c[v];if(w&&w.event===_&&w.schema===m&&w.table===E&&w.filter===y)p.push(Object.assign(Object.assign({},g),{id:w.id}));else{this.unsubscribe(),e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(st.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ce.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new ai(this,Ge.leave,{},e);i.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ai(this,e,t,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ge;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,v,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(v=f.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,v,g,_,m,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const y=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return y&&((v=t.ids)===null||v===void 0?void 0:v.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const y=(m=(_=f==null?void 0:f.filter)===null||_===void 0?void 0:_.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return y==="*"||y===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:v,table:g,commit_timestamp:_,type:m,errors:E}=p;d=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:_,eventType:m,new:{},old:{},errors:E}),this._getPayloadRecords(p))}f.callback(d,n)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Xi.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ns(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ns(e.columns,e.old_record)),t}}const nc=()=>{},ic=typeof WebSocket<"u",sc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oc{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ju,this.params={},this.timeout=oa,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=nc,this.conn=null,this.sendBuffer=[],this.serializer=new Ku,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>hr(async()=>{const{default:l}=await Promise.resolve().then(()=>yr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Pi.websocket}`,this.httpEndpoint=ua(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ic){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ac(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),hr(async()=>{const{default:e}=await import("./browser-VJi4okOs.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vu}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sr.connecting:return Nt.Connecting;case sr.open:return Nt.Open;case sr.closing:return Nt.Closing;default:return Nt.Closed}}isConnected(){return this.connectionState()===Nt.Open}channel(e,t={config:{}}){const n=new Xi(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Ge.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Yu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:i,payload:s,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([sc],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class ac{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Qi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class lc extends Qi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ci extends Qi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var uc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const ca=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>hr(async()=>{const{default:n}=await Promise.resolve().then(()=>yr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},cc=()=>uc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hr(()=>Promise.resolve().then(()=>yr),void 0)).Response:Response}),Di=r=>{if(Array.isArray(r))return r.map(t=>Di(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Di(n)}),e};var Ut=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const li=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),hc=(r,e,t)=>Ut(void 0,void 0,void 0,function*(){const n=yield cc();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{e(new lc(li(i),r.status||500))}).catch(i=>{e(new Ci(li(i),i))}):e(new Ci(li(r),r))}),dc=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),t))};function Qr(r,e,t,n,i,s){return Ut(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,dc(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hc(l,a,n))})})}function In(r,e,t,n){return Ut(this,void 0,void 0,function*(){return Qr(r,"GET",e,t,n)})}function Et(r,e,t,n,i){return Ut(this,void 0,void 0,function*(){return Qr(r,"POST",e,n,i,t)})}function fc(r,e,t,n,i){return Ut(this,void 0,void 0,function*(){return Qr(r,"PUT",e,n,i,t)})}function pc(r,e,t,n){return Ut(this,void 0,void 0,function*(){return Qr(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function ha(r,e,t,n,i){return Ut(this,void 0,void 0,function*(){return Qr(r,"DELETE",e,n,i,t)})}var ke=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const vc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gc{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=ca(i)}uploadOrUpdate(e,t,n,i){return ke(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Bs),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}upload(e,t,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:Bs.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:s,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield Et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Qi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}update(e,t,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ke(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}copy(e,t,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Et(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return ke(this,void 0,void 0,function*(){try{const i=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}download(e,t){return ke(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield In(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(e){return ke(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield In(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Di(n),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield pc(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(fe(n)&&n instanceof Ci){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}list(e,t,n){return ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vc),t),{prefix:e||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const _c="2.7.1",mc={"X-Client-Info":`storage-js/${_c}`};var Yt=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class yc{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},mc),t),this.fetch=ca(n)}listBuckets(){return Yt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Yt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Yt(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}}class bc extends yc{constructor(e,t={},n){super(e,t,n)}from(e){return new gc(this.url,this.headers,e,this.fetch)}}const wc="2.49.4";let Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";const Ec={"X-Client-Info":`supabase-js-${Pr}/${wc}`},Sc={headers:Ec},kc={schema:"public"},Tc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$c={};var Oc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const Ac=r=>{let e;return r?e=r:typeof fetch>"u"?e=ea:e=fetch,(...t)=>e(...t)},Pc=()=>typeof Headers>"u"?ta:Headers,xc=(r,e,t)=>{const n=Ac(t),i=Pc();return(s,o)=>Oc(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var Cc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};function Dc(r){return r.replace(/\/$/,"")}function jc(r,e){const{db:t,auth:n,realtime:i,global:s}=r,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>Cc(this,void 0,void 0,function*(){return""})};return r.accessToken?c.accessToken=r.accessToken:delete c.accessToken,c}const da="2.69.1",tr=30*1e3,ji=3,ui=ji*tr,Ic="http://localhost:9999",Rc="supabase.auth.token",Lc={"X-Client-Info":`gotrue-js/${da}`},Ii="X-Supabase-Api-Version",fa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nc=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mc=6e5;class Zi extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function F(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Uc extends Zi{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Fc(r){return F(r)&&r.name==="AuthApiError"}class pa extends Zi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class xt extends Zi{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class mt extends xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bc(r){return F(r)&&r.name==="AuthSessionMissingError"}class ci extends xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ln extends xt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class un extends xt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qc(r){return F(r)&&r.name==="AuthImplicitGrantRedirectError"}class qs extends xt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ri extends xt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function hi(r){return F(r)&&r.name==="AuthRetryableFetchError"}class Hs extends xt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Lr extends xt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gs=` 	
\r=`.split(""),Hc=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Gs.length;e+=1)r[Gs[e].charCodeAt(0)]=-2;for(let e=0;e<zs.length;e+=1)r[zs[e].charCodeAt(0)]=e;return r})();function va(r,e,t){const n=Hc[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Ws(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Wc(o,n,t)};for(let o=0;o<r.length;o+=1)va(r.charCodeAt(o),i,s);return e.join("")}function zc(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Gc(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}zc(n,e)}}function Wc(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Jc(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)va(r.charCodeAt(i),t,n);return new Uint8Array(e)}function Vc(r){const e=[];return Gc(r,t=>e.push(t)),new Uint8Array(e)}function Yc(r){return Math.round(Date.now()/1e3)+r}function Kc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",jt={tested:!1,writable:!1},Nr=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jt.tested)return jt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),jt.tested=!0,jt.writable=!0}catch{jt.tested=!0,jt.writable=!1}return jt.writable};function Xc(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const ga=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>hr(async()=>{const{default:n}=await Promise.resolve().then(()=>yr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Qc=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",_a=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},cn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},hn=async(r,e)=>{await r.removeItem(e)};class Wn{constructor(){this.promise=new Wn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Wn.promiseConstructor=Promise;function di(r){const e=r.split(".");if(e.length!==3)throw new Lr("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Nc.test(e[n]))throw new Lr("JWT not in base64url format");return{header:JSON.parse(Ws(e[0])),payload:JSON.parse(Ws(e[1])),signature:Jc(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zc(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function eh(r,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await r(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function th(r){return("0"+r.toString(16)).substr(-2)}function rh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,th).join("")}async function nh(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ih(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await nh(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kt(r,e,t=!1){const n=rh();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await _a(r,`${e}-code-verifier`,i);const s=await ih(n);return[s,n===s?"plain":"s256"]}const sh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oh(r){const e=r.headers.get(Ii);if(!e||!e.match(sh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ah(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function lh(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var uh=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Rt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ch=[502,503,504];async function Js(r){var e;if(!Qc(r))throw new Ri(Rt(r),0);if(ch.includes(r.status))throw new Ri(Rt(r),r.status);let t;try{t=await r.json()}catch(s){throw new pa(Rt(s),s)}let n;const i=oh(r);if(i&&i.getTime()>=fa["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Hs(Rt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new mt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Hs(Rt(t),r.status,t.weak_password.reasons);throw new Uc(Rt(t),r.status||500,n)}const hh=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function H(r,e,t,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Ii]||(s[Ii]=fa["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dh(r,e,t+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function dh(r,e,t,n,i,s){const o=hh(e,n,i,s);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Ri(Rt(l),0)}if(a.ok||await Js(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Js(l)}}function yt(r){var e;let t=null;gh(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Yc(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Vs(r){const e=yt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function kt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function fh(r){return{data:r,error:null}}function ph(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s}=r,o=uh(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vh(r){return r}function gh(r){return r.access_token&&r.refresh_token&&r.expires_in}var _h=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};class mh{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=ga(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:kt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=_h(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ph,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(F(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vh});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=v}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:kt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:kt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(F(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}}}const yh={getItem:r=>Nr()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Nr()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Nr()&&globalThis.localStorage.removeItem(r)}};function Ys(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function bh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xt={debug:!!(globalThis&&Nr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ma extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wh extends ma{}async function Eh(r,e,t){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new wh(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Xt.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}bh();const Sh={url:Ic,storageKey:Rc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ks(r,e,t){return await t()}class qr{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qr.nextInstanceID,qr.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Sh),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mh({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ga(i.fetch),this.lock=i.lock||Ks,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ke()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Eh:this.lock=Ks,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Nr()?this.storage=yh:(this.memoryStorage={},this.storage=Ys(this.memoryStorage)):(this.memoryStorage={},this.storage=Ys(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${da}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Xc(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),qc(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return F(t)?{error:t}:{error:new pa("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:yt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Kt(this.storage,this.storageKey)),s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},xform:yt})}else if("phone"in e){const{phone:c,password:h,options:d}=e;s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:yt})}else throw new ln("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vs})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vs})}else throw new ln("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ci}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await cn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:s,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await hn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ci}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(F(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:yt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ci}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Kt(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ln("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:yt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Kt(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:fh})}catch(s){if(F(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new mt;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await H(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await H(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ln("You must provide either an email or phone number and a type")}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ui:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async t=>{var n,i,s;const{data:o,error:a}=t;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:kt})})}catch(t){if(F(t))return Bc(t)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new mt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Kt(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:o}=di(e.access_token);if(o.exp&&(n=o.exp,i=n<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(F(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ke())throw new un("No browser detected.");if(e.error||e.error_description||e.error_code)throw new un(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new qs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new un("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qs("No code detected.");const{data:m,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new un("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:v,error:g}=await this._getUser(s);if(g)throw g;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await cn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Fc(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Kc(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Kt(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(F(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:d}=s;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ke()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(F(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await eh(async i=>(i>0&&await Zc(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&hi(s)&&Date.now()+o-n<tr})}catch(n){if(this._debug(t,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ke()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await cn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ui;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${ui}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),hi(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wn;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new mt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),F(s)){const o={session:null,error:s};return hi(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _a(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await hn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${tr}ms, refresh threshold is ${ji} ticks`),i<=ji&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ma)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Kt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(F(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(F(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=di(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Mc>Date.now()))return n;const{data:i,error:s}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Lr("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===e),!n)throw new Lr("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=di(n);if(ah(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=lh(i.alg),c=await this.fetchJwk(i.kid,t),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Vc(`${a}.${l}`)))throw new Lr("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}qr.nextInstanceID=0;const kh=qr;class Th extends kh{constructor(e){super(e)}}var $h=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class Oh{constructor(e,t,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=Dc(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:kc,realtime:$c,auth:Object.assign(Object.assign({},Tc),{storageKey:l}),global:Sc},c=jc(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=xc(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Gu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Du(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return $h(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Th({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new oc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ah=(r,e,t)=>new Oh(r,e,t),dn=Ah("https://ptmcrrrrdsjgzfdawzkg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWNycnJyZHNqZ3pmZGF3emtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMDI4MzYsImV4cCI6MjA2MDU3ODgzNn0.E_jnXoiniR8-X_VBw3BebpeuBCSTGtZb5qgzMONcvDI");/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Ph={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var xh=Sl("<svg><!><!></svg>");function gt(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]),n=Ve(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);vr(e,!1);let i=De(e,"name",8,void 0),s=De(e,"color",8,"currentColor"),o=De(e,"size",8,24),a=De(e,"strokeWidth",8,2),l=De(e,"absoluteStrokeWidth",8,!1),u=De(e,"iconNode",24,()=>[]);const c=(...v)=>v.filter((g,_,m)=>!!g&&m.indexOf(g)===_).join(" ");Yr();var h=xh();let d;var f=B(h);jo(f,1,u,Ol,(v,g)=>{let _=()=>j(g)[0],m=()=>j(g)[1];var E=Ye(),y=Ie(E);Dl(y,_,!0,(w,x)=>{let $;Ue(()=>$=ds(w,$,{...m()}))}),J(v,E)});var p=Z(f);it(p,e,"default",{}),Ue((v,g)=>d=ds(h,d,{...Ph,...n,width:o(),height:o(),stroke:s(),"stroke-width":v,class:g}),[()=>l()?Number(a())*24/Number(o()):a(),()=>c("lucide-icon","lucide",i()?`lucide-${i()}`:"",t.class)],We),J(r,h),gr()}function Ch(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"book"},()=>t,{iconNode:[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Dh(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function jh(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"chevron-right"},()=>t,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Xs(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"github"},()=>t,{iconNode:[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["path",{d:"M9 18c-4.51 2-5-2-7-2"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Ih(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"globe"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Rh(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"loader"},()=>t,{iconNode:[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Lh(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"lock"},()=>t,{iconNode:[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Nh(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"panels-top-left"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M9 21V9"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}function Mh(r,e){const t=Ve(e,["children","$$slots","$$events","$$legacy"]);gt(r,pt({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(i,s)=>{var o=Ye(),a=Ie(o);it(a,e,"default",{}),J(i,o)},$$slots:{default:!0}}))}const Uh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='26.6'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20308'%3e%3cpath%20fill='%23FF3E00'%20d='M239.682%2040.707C211.113-.182%20154.69-12.301%20113.895%2013.69L42.247%2059.356a82.198%2082.198%200%200%200-37.135%2055.056a86.566%2086.566%200%200%200%208.536%2055.576a82.425%2082.425%200%200%200-12.296%2030.719a87.596%2087.596%200%200%200%2014.964%2066.244c28.574%2040.893%2084.997%2053.007%20125.787%2027.016l71.648-45.664a82.182%2082.182%200%200%200%2037.135-55.057a86.601%2086.601%200%200%200-8.53-55.577a82.409%2082.409%200%200%200%2012.29-30.718a87.573%2087.573%200%200%200-14.963-66.244'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.889%20270.841c-23.102%206.007-47.497-3.036-61.103-22.648a52.685%2052.685%200%200%201-9.003-39.85a49.978%2049.978%200%200%201%201.713-6.693l1.35-4.115l3.671%202.697a92.447%2092.447%200%200%200%2028.036%2014.007l2.663.808l-.245%202.659a16.067%2016.067%200%200%200%202.89%2010.656a17.143%2017.143%200%200%200%2018.397%206.828a15.786%2015.786%200%200%200%204.403-1.935l71.67-45.672a14.922%2014.922%200%200%200%206.734-9.977a15.923%2015.923%200%200%200-2.713-12.011a17.156%2017.156%200%200%200-18.404-6.832a15.78%2015.78%200%200%200-4.396%201.933l-27.35%2017.434a52.298%2052.298%200%200%201-14.553%206.391c-23.101%206.007-47.497-3.036-61.101-22.649a52.681%2052.681%200%200%201-9.004-39.849a49.428%2049.428%200%200%201%2022.34-33.114l71.664-45.677a52.218%2052.218%200%200%201%2014.563-6.398c23.101-6.007%2047.497%203.036%2061.101%2022.648a52.685%2052.685%200%200%201%209.004%2039.85a50.559%2050.559%200%200%201-1.713%206.692l-1.35%204.116l-3.67-2.693a92.373%2092.373%200%200%200-28.037-14.013l-2.664-.809l.246-2.658a16.099%2016.099%200%200%200-2.89-10.656a17.143%2017.143%200%200%200-18.398-6.828a15.786%2015.786%200%200%200-4.402%201.935l-71.67%2045.674a14.898%2014.898%200%200%200-6.73%209.975a15.9%2015.9%200%200%200%202.709%2012.012a17.156%2017.156%200%200%200%2018.404%206.832a15.841%2015.841%200%200%200%204.402-1.935l27.345-17.427a52.147%2052.147%200%200%201%2014.552-6.397c23.101-6.006%2047.497%203.037%2061.102%2022.65a52.681%2052.681%200%200%201%209.003%2039.848a49.453%2049.453%200%200%201-22.34%2033.12l-71.664%2045.673a52.218%2052.218%200%200%201-14.563%206.398'%3e%3c/path%3e%3c/svg%3e";function fi(r,e){const t=n=>{r.contains(n.target)||e()};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}var Fh=ge('<div class="fixed top-0 right-0 mt-16 mr-4 w-60 bg-white rounded-md shadow-xl z-50 animate-slide-in"><a target="_blank" class="block px-4 py-2 hover:bg-githubButtonHoverBgColor">GitHub Profile</a> <a target="_blank" class="block px-4 py-2 hover:bg-githubButtonHoverBgColor">GitHub Projects</a> <button class="block w-full text-left px-4 py-2 hover:bg-githubRedHoverBgColor hover:text-githubRedColor">Logout</button></div>'),Bh=ge('<div class="flex items-center gap-3"><div class="flex items-center text gap-1"><a href="https://github.com" target="_blank" class="_box-link "><!>GitHub</a>/ <a target="_blank" class="_box-link "><!> </a>/ <a target="_blank" class="_box-link "><!>Projects</a></div> <button><img alt="Avatar" class="w-9 h-9 rounded-full border border-githubBorderColor"></button> <!></div>'),qh=ge('<nav class="text-githubPrimaryTextColor font-semibold flex gap-2"><a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link font-semibold"><!>Docs</a> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link font-semibold"><!>GitHub</a></nav>'),Hh=ge('<header class="h-16 flex items-center justify-between px-4 bg-githubBgColor border-b border-githubBorderColor"><div class="text-xl font-semibold flex items-center gap-2"><img alt="Logo" class="w-8 h-8"> GitHub Projects Dashboard</div> <!></header>');function zh(r,e){vr(e,!1);const t=Fe(),n=Fe(),i=Fe(),s=Fe(),o=Fe();let a=De(e,"session",8),l=De(e,"onLogout",8),u=Fe(!1);const c=()=>{console.log("Clicked outside"),K(u,!1)};Zt(()=>zn(a()),()=>{var _;K(t,((_=a())==null?void 0:_.user)??null)}),Zt(()=>j(t),()=>{var _,m;K(n,(m=(_=j(t))==null?void 0:_.user_metadata)==null?void 0:m.user_name)}),Zt(()=>j(t),()=>{var _,m;K(i,(m=(_=j(t))==null?void 0:_.user_metadata)==null?void 0:m.avatar_url)}),Zt(()=>j(n),()=>{K(s,`https://github.com/${j(n)}`)}),Zt(()=>j(s),()=>{K(o,`${j(s)}?tab=projects`)}),yo(),Yr();var h=Hh(),d=B(h),f=B(d);Qe(f,"src",Uh);var p=Z(d,2);{var v=_=>{var m=Bh(),E=B(m),y=B(E),w=B(y);Xs(w,{class:"_icon"});var x=Z(y,2),$=B(x);Mh($,{class:"_icon"});var P=Z($,1,!0),C=Z(x,2),N=B(C);Nh(N,{class:"_icon"});var D=Z(E,2),ie=B(D),Y=Z(D,2);{var A=S=>{var b=Fh(),O=B(b),k=Z(O,2),I=Z(k,2);Ue(()=>{Qe(O,"href",j(s)),Qe(k,"href",j(o))}),rr("click",O,()=>K(u,!1)),rr("click",k,()=>K(u,!1)),rr("click",I,()=>{K(u,!1),l()()}),J(S,b)};Xe(Y,S=>{j(u)&&S(A)})}jl(m,(S,b)=>fi==null?void 0:fi(S,b),()=>c),Ue(()=>{Qe(x,"href",j(s)),Ne(P,j(n)),Qe(C,"href",j(o)),Qe(ie,"src",j(i))}),rr("click",D,()=>K(u,!j(u))),J(_,m)},g=_=>{var m=qh(),E=B(m),y=B(E);Ch(y,{class:"_icon"});var w=Z(E,2),x=B(w);Xs(x,{class:"_icon"}),J(_,m)};Xe(p,_=>{a()?_(v):_(g,!1)})}J(r,h),gr()}function Gh(r){const e=r-1;return e*e*e+1}function Wh(r,{delay:e=0,duration:t=400,easing:n=Gh,axis:i="y"}={}){const s=getComputedStyle(r),o=+s.opacity,a=i==="y"?"height":"width",l=parseFloat(s[a]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),h=parseFloat(s[`padding${c[0]}`]),d=parseFloat(s[`padding${c[1]}`]),f=parseFloat(s[`margin${c[0]}`]),p=parseFloat(s[`margin${c[1]}`]),v=parseFloat(s[`border${c[0]}Width`]),g=parseFloat(s[`border${c[1]}Width`]);return{delay:e,duration:t,easing:n,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*o};${a}: ${_*l}px;padding-${u[0]}: ${_*h}px;padding-${u[1]}: ${_*d}px;margin-${u[0]}: ${_*f}px;margin-${u[1]}: ${_*p}px;border-${u[0]}-width: ${_*v}px;border-${u[1]}-width: ${_*g}px;min-${a}: 0`}}var bn={exports:{}},Jh=bn.exports,Qs;function Vh(){return Qs||(Qs=1,function(r,e){(function(t,n){r.exports=n()})(Jh,function(){var t=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",h="month",d="quarter",f="year",p="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var S=["th","st","nd","rd"],b=A%100;return"["+A+(S[(b-20)%10]||S[b]||S[0])+"]"}},E=function(A,S,b){var O=String(A);return!O||O.length>=S?A:""+Array(S+1-O.length).join(b)+A},y={s:E,z:function(A){var S=-A.utcOffset(),b=Math.abs(S),O=Math.floor(b/60),k=b%60;return(S<=0?"+":"-")+E(O,2,"0")+":"+E(k,2,"0")},m:function A(S,b){if(S.date()<b.date())return-A(b,S);var O=12*(b.year()-S.year())+(b.month()-S.month()),k=S.clone().add(O,h),I=b-k<0,M=S.clone().add(O+(I?-1:1),h);return+(-(O+(b-k)/(I?k-M:M-k))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:h,y:f,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:d}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},w="en",x={};x[w]=m;var $="$isDayjsObject",P=function(A){return A instanceof ie||!(!A||!A[$])},C=function A(S,b,O){var k;if(!S)return w;if(typeof S=="string"){var I=S.toLowerCase();x[I]&&(k=I),b&&(x[I]=b,k=I);var M=S.split("-");if(!k&&M.length>1)return A(M[0])}else{var G=S.name;x[G]=S,k=G}return!O&&k&&(w=k),k||!O&&w},N=function(A,S){if(P(A))return A.clone();var b=typeof S=="object"?S:{};return b.date=A,b.args=arguments,new ie(b)},D=y;D.l=C,D.i=P,D.w=function(A,S){return N(A,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var ie=function(){function A(b){this.$L=C(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[$]=!0}var S=A.prototype;return S.parse=function(b){this.$d=function(O){var k=O.date,I=O.utc;if(k===null)return new Date(NaN);if(D.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var M=k.match(g);if(M){var G=M[2]-1||0,ee=(M[7]||"0").substring(0,3);return I?new Date(Date.UTC(M[1],G,M[3]||1,M[4]||0,M[5]||0,M[6]||0,ee)):new Date(M[1],G,M[3]||1,M[4]||0,M[5]||0,M[6]||0,ee)}}return new Date(k)}(b),this.init()},S.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},S.$utils=function(){return D},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(b,O){var k=N(b);return this.startOf(O)<=k&&k<=this.endOf(O)},S.isAfter=function(b,O){return N(b)<this.startOf(O)},S.isBefore=function(b,O){return this.endOf(O)<N(b)},S.$g=function(b,O,k){return D.u(b)?this[O]:this.set(k,b)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(b,O){var k=this,I=!!D.u(O)||O,M=D.p(b),G=function(Oe,he){var Re=D.w(k.$u?Date.UTC(k.$y,he,Oe):new Date(k.$y,he,Oe),k);return I?Re:Re.endOf(u)},ee=function(Oe,he){return D.w(k.toDate()[Oe].apply(k.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(he)),k)},ae=this.$W,ce=this.$M,Ee=this.$D,X="set"+(this.$u?"UTC":"");switch(M){case f:return I?G(1,0):G(31,11);case h:return I?G(1,ce):G(0,ce+1);case c:var re=this.$locale().weekStart||0,_e=(ae<re?ae+7:ae)-re;return G(I?Ee-_e:Ee+(6-_e),ce);case u:case p:return ee(X+"Hours",0);case l:return ee(X+"Minutes",1);case a:return ee(X+"Seconds",2);case o:return ee(X+"Milliseconds",3);default:return this.clone()}},S.endOf=function(b){return this.startOf(b,!1)},S.$set=function(b,O){var k,I=D.p(b),M="set"+(this.$u?"UTC":""),G=(k={},k[u]=M+"Date",k[p]=M+"Date",k[h]=M+"Month",k[f]=M+"FullYear",k[l]=M+"Hours",k[a]=M+"Minutes",k[o]=M+"Seconds",k[s]=M+"Milliseconds",k)[I],ee=I===u?this.$D+(O-this.$W):O;if(I===h||I===f){var ae=this.clone().set(p,1);ae.$d[G](ee),ae.init(),this.$d=ae.set(p,Math.min(this.$D,ae.daysInMonth())).$d}else G&&this.$d[G](ee);return this.init(),this},S.set=function(b,O){return this.clone().$set(b,O)},S.get=function(b){return this[D.p(b)]()},S.add=function(b,O){var k,I=this;b=Number(b);var M=D.p(O),G=function(ce){var Ee=N(I);return D.w(Ee.date(Ee.date()+Math.round(ce*b)),I)};if(M===h)return this.set(h,this.$M+b);if(M===f)return this.set(f,this.$y+b);if(M===u)return G(1);if(M===c)return G(7);var ee=(k={},k[a]=n,k[l]=i,k[o]=t,k)[M]||1,ae=this.$d.getTime()+b*ee;return D.w(ae,this)},S.subtract=function(b,O){return this.add(-1*b,O)},S.format=function(b){var O=this,k=this.$locale();if(!this.isValid())return k.invalidDate||v;var I=b||"YYYY-MM-DDTHH:mm:ssZ",M=D.z(this),G=this.$H,ee=this.$m,ae=this.$M,ce=k.weekdays,Ee=k.months,X=k.meridiem,re=function(he,Re,br,Zr){return he&&(he[Re]||he(O,I))||br[Re].slice(0,Zr)},_e=function(he){return D.s(G%12||12,he,"0")},Oe=X||function(he,Re,br){var Zr=he<12?"AM":"PM";return br?Zr.toLowerCase():Zr};return I.replace(_,function(he,Re){return Re||function(br){switch(br){case"YY":return String(O.$y).slice(-2);case"YYYY":return D.s(O.$y,4,"0");case"M":return ae+1;case"MM":return D.s(ae+1,2,"0");case"MMM":return re(k.monthsShort,ae,Ee,3);case"MMMM":return re(Ee,ae);case"D":return O.$D;case"DD":return D.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return re(k.weekdaysMin,O.$W,ce,2);case"ddd":return re(k.weekdaysShort,O.$W,ce,3);case"dddd":return ce[O.$W];case"H":return String(G);case"HH":return D.s(G,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return Oe(G,ee,!0);case"A":return Oe(G,ee,!1);case"m":return String(ee);case"mm":return D.s(ee,2,"0");case"s":return String(O.$s);case"ss":return D.s(O.$s,2,"0");case"SSS":return D.s(O.$ms,3,"0");case"Z":return M}return null}(he)||M.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(b,O,k){var I,M=this,G=D.p(O),ee=N(b),ae=(ee.utcOffset()-this.utcOffset())*n,ce=this-ee,Ee=function(){return D.m(M,ee)};switch(G){case f:I=Ee()/12;break;case h:I=Ee();break;case d:I=Ee()/3;break;case c:I=(ce-ae)/6048e5;break;case u:I=(ce-ae)/864e5;break;case l:I=ce/i;break;case a:I=ce/n;break;case o:I=ce/t;break;default:I=ce}return k?I:D.a(I)},S.daysInMonth=function(){return this.endOf(h).$D},S.$locale=function(){return x[this.$L]},S.locale=function(b,O){if(!b)return this.$L;var k=this.clone(),I=C(b,O,!0);return I&&(k.$L=I),k},S.clone=function(){return D.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},A}(),Y=ie.prototype;return N.prototype=Y,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",h],["$y",f],["$D",p]].forEach(function(A){Y[A[1]]=function(S){return this.$g(S,A[0],A[1])}}),N.extend=function(A,S){return A.$i||(A(S,ie,N),A.$i=!0),N},N.locale=C,N.isDayjs=P,N.unix=function(A){return N(1e3*A)},N.en=x[w],N.Ls=x,N.p={},N})}(bn)),bn.exports}var Yh=Vh();const pi=Yi(Yh);var wn={exports:{}},Kh=wn.exports,Zs;function Xh(){return Zs||(Zs=1,function(r,e){(function(t,n){r.exports=n()})(Kh,function(){return function(t,n,i){t=t||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,h,d){return s.fromToBase(u,c,h,d)}i.en.relativeTime=o,s.fromToBase=function(u,c,h,d,f){for(var p,v,g,_=h.$locale().relativeTime||o,m=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=m.length,y=0;y<E;y+=1){var w=m[y];w.d&&(p=d?i(u).diff(h,w.d,!0):h.diff(u,w.d,!0));var x=(t.rounding||Math.round)(Math.abs(p));if(g=p>0,x<=w.r||!w.r){x<=1&&y>0&&(w=m[y-1]);var $=_[w.l];f&&(x=f(""+x)),v=typeof $=="string"?$.replace("%d",x):$(x,c,w.l,g);break}}if(c)return v;var P=g?_.future:_.past;return typeof P=="function"?P(v):P.replace("%s",v)},s.to=function(u,c){return a(u,c,this,!0)},s.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})}(wn)),wn.exports}var Qh=Xh();const Zh=Yi(Qh);var ed=ge("<div><span>Closed:</span> <span> </span></div>"),td=ge("<div><span>Updated:</span> <span> </span></div>"),rd=ge('<div class="text-center italic my-1"><blockquote class="text-githubSecondaryTextColor"> </blockquote></div>'),nd=ge("<!> Public",1),id=ge("<!> Private",1),sd=ge('<div class="mt-2 text-xs space-y-1 bg-githubBgColor rounded border border-githubBordercolor p-2"><div><a target="_blank" class="_classic-link"><span> </span></a></div> <!> <div><span>Created:</span> <span> </span></div> <!> <div><span class="inline-flex items-center gap-0.5 border border-githubBorderColor text-xs text-githubSecondaryTextColor px-1 py-0.5 rounded-full"><!></span></div></div>'),od=ge('<div class="p-2 bg-white text-left rounded border shadow-sm cursor-grab"><div><span class="text-githubSecondaryTextColor font-semibold"> </span> <a target="_blank" class="_classic-link font-semibold"> </a></div> <div class="text-sm text-githubSecondaryTextColor mt-0.5"><!></div> <button class="_button gap-0.5 text-sm mt-1 px-1 py-0.5"><!> Details</button> <!></div>');function ad(r,e){vr(e,!1);let t=De(e,"project",8);pi.extend(Zh);let n=Fe(!1);const i=()=>{K(n,!j(n))},s=$=>$?pi($).format("D MMM YYYY HH:mm"):"â",o=$=>$?pi($).fromNow():"";Yr();var a=od(),l=B(a),u=B(l),c=B(u),h=Z(u,2),d=B(h),f=Z(l,2),p=B(f);{var v=$=>{var P=as();Ue(C=>Ne(P,`Closed ${C??""}`),[()=>o(t().closedAt)],We),J($,P)},g=$=>{var P=as();Ue(C=>Ne(P,`Updated ${C??""}`),[()=>o(t().updatedAt)],We),J($,P)};Xe(p,$=>{t().closed?$(v):$(g,!1)})}var _=Z(f,2),m=B(_);{var E=$=>{Dh($,{class:"_icon"})},y=$=>{jh($,{class:"_icon"})};Xe(m,$=>{j(n)?$(E):$(y,!1)})}var w=Z(_,2);{var x=$=>{var P=sd(),C=B(P),N=B(C),D=B(N),ie=B(D),Y=Z(C,2);{var A=X=>{var re=ed(),_e=Z(B(re),2),Oe=B(_e);Ue((he,Re)=>Ne(Oe,`${he??""} (${Re??""})`),[()=>s(t().closedAt),()=>o(t().closedAt)],We),J(X,re)},S=X=>{var re=td(),_e=Z(B(re),2),Oe=B(_e);Ue((he,Re)=>Ne(Oe,`${he??""} (${Re??""})`),[()=>s(t().updatedAt),()=>o(t().updatedAt)],We),J(X,re)};Xe(Y,X=>{t().closed?X(A):X(S,!1)})}var b=Z(Y,2),O=Z(B(b),2),k=B(O),I=Z(b,2);{var M=X=>{var re=rd(),_e=B(re),Oe=B(_e);Ue(()=>Ne(Oe,`â${t().shortDescription??""}â`)),J(X,re)};Xe(I,X=>{t().shortDescription&&X(M)})}var G=Z(I,2),ee=B(G),ae=B(ee);{var ce=X=>{var re=nd(),_e=Ie(re);Ih(_e,{class:"w-3 h-3"}),J(X,re)},Ee=X=>{var re=id(),_e=Ie(re);Lh(_e,{class:"w-3 h-3"}),J(X,re)};Xe(ae,X=>{t().public?X(ce):X(Ee,!1)})}Ue((X,re)=>{Qe(N,"href",t().url),Ne(ie,`${t().items.totalCount??""} ${t().items.totalCount===1?"item":"items"}`),Ne(k,`${X??""} (${re??""})`)},[()=>s(t().createdAt),()=>o(t().createdAt)],We),Gl(3,P,()=>Wh),J($,P)};Xe(w,$=>{j(n)&&$(x)})}Ue(()=>{Ne(c,`#${t().number??""}`),Qe(h,"href",t().url),Ne(d,t().title)}),rr("click",_,i),J(r,a),gr()}var ld=ge('<div class="bg-githubBgColor border border-githubBorderColor p-3 rounded flex flex-col"><h2 class="text-lg text-left font-semibold mb-2 capitalize"> <span class="text-githubSecondaryTextColor text-sm"> </span></h2> <div class="space-y-2 min-h-[50px]"></div></div>');function vi(r,e){vr(e,!1);let t=De(e,"title",8),n=De(e,"projects",24,()=>[]),i=De(e,"bindRef",8,null),s=Fe();Zt(()=>(zn(i()),j(s)),()=>{i()&&i().set(j(s))}),yo(),Yr();var o=ld(),a=B(o),l=B(a),u=Z(l),c=B(u),h=Z(a,2);jo(h,5,n,d=>d.id,(d,f)=>{ad(d,{get project(){return j(f)}})}),Wl(h,d=>K(s,d),()=>j(s)),Ue(()=>{Ne(l,`${t()??""} `),Ne(c,`(${n().length??""})`)}),J(r,o),gr()}var ud=ge('<button class="_button text-githubPrimaryTextColor px-4 py-2">Log in with GitHub</button>'),cd=ge('<div class="flex flex-col items-center"><!> <p class="text-lg font-semibold text-githubSecondaryTextColor animate-pulse duration-100">Loading projects</p></div>'),hd=ge('<div class="pt-4 pb-2 px-4 flex-1 grid grid-cols-1 sm:grid-cols-3 gap-4 items-stretch"><!> <!> <!></div>'),dd=ge('<main class="flex flex-col min-h-screen"><!> <div class="flex-1 flex flex-col items-center justify-center"><!></div></main>');function fd(r,e){vr(e,!1);let t=Fe(null),n=null,i=Fe([]),s={};const o=["todo","doing","done"];let a=Kn(null),l=Kn(null),u=Kn(null);const c="https://api.github.com/graphql",h=async()=>{await dn.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin+window.location.pathname,scopes:"repo read:user read:project"}})},d=async()=>{await dn.auth.signOut(),K(t,null),n=null},f=async()=>{const N=await(await fetch(c,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({query:`{
      viewer {
        projectsV2(first: 50) {
          nodes {
            id
            number
            title
            url
            closed
            createdAt
            updatedAt
            closedAt
            public
            shortDescription
            items {
              totalCount
            }
          }
        }
      }
    }`})})).json();console.log("GitHub response:",N),K(i,N.data.viewer.projectsV2.nodes),p(),g()},p=()=>{const P=localStorage.getItem("projectStatuses");P&&(s=JSON.parse(P))},v=()=>{localStorage.setItem("projectStatuses",JSON.stringify(s))};function g(){const P={todo:Xn(a),doing:Xn(l),done:Xn(u)};for(const C of o){const N=P[C];N&&L.create(N,{group:"columns",animation:150,swapThreshold:.5,chosenClass:"_sortable-chosen",forceFallback:!0,fallbackOnBody:!0,onStart:()=>{document.body.classList.add("_disable-pointer-events"),document.body.classList.add("cursor-grabbing"),document.body.classList.add("_cursor-grab-to-grabbing")},onEnd:D=>{var Y,A;document.body.classList.remove("_disable-pointer-events"),document.body.classList.remove("cursor-grabbing"),document.body.classList.remove("_cursor-grab-to-grabbing");const ie=(A=(Y=D.item)==null?void 0:Y.dataset)==null?void 0:A.id;ie&&(s[ie]=C,v())}})}}Xl(async()=>{const{data:P}=await dn.auth.getSession();K(t,P.session),dn.auth.onAuthStateChange((C,N)=>{K(t,N),n=N==null?void 0:N.provider_token,n&&f()}),j(t)&&(n=j(t).provider_token,console.log("session:",j(t)),await f())});const _=P=>j(i).filter(C=>(s[C.id]||"todo")===P);Yr();var m=dd(),E=B(m);zh(E,{get session(){return j(t)},onLogout:d});var y=Z(E,2),w=B(y);{var x=P=>{var C=ud();rr("click",C,h),J(P,C)},$=P=>{var C=Ye(),N=Ie(C);{var D=Y=>{var A=cd(),S=B(A);Rh(S,{class:"w-8 h-8 animate-spin mb-2"}),J(Y,A)},ie=Y=>{var A=hd(),S=B(A);const b=We(()=>_(o[0]));vi(S,{get title(){return o[0]},get projects(){return j(b)},bindRef:a});var O=Z(S,2);const k=We(()=>_(o[1]));vi(O,{get title(){return o[1]},get projects(){return j(k)},bindRef:l});var I=Z(O,2);const M=We(()=>_(o[2]));vi(I,{get title(){return o[2]},get projects(){return j(M)},bindRef:u}),J(Y,A)};Xe(N,Y=>{j(i).length===0?Y(D):Y(ie,!1)})}J(P,C)};Xe(w,P=>{j(t)?P($,!1):P(x)})}J(r,m),gr()}kl(fd,{target:document.getElementById("app")});export{Yi as g};
