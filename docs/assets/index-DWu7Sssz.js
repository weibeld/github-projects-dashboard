(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const ns=!1;var Ui=Array.isArray,Oa=Array.prototype.indexOf,Fi=Array.from,Aa=Object.defineProperty,At=Object.getOwnPropertyDescriptor,so=Object.getOwnPropertyDescriptors,xa=Object.prototype,Pa=Array.prototype,Bi=Object.getPrototypeOf,is=Object.isExtensible;function rr(r){return typeof r=="function"}const lt=()=>{};function Ca(r){return r()}function _i(r){for(var e=0;e<r.length;e++)r[e]()}const Ze=2,oo=4,Mn=8,Un=16,gt=32,_r=64,kn=128,Ue=256,Tn=512,Te=1024,it=2048,Pt=4096,dt=8192,Fn=16384,ao=32768,Gr=65536,Da=1<<17,ja=1<<19,lo=1<<20,mi=1<<21,xt=Symbol("$state"),uo=Symbol("legacy props"),Ia=Symbol("");function co(r){return r===this.v}function qi(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function Hi(r){return!qi(r,this.v)}function Ra(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Na(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function La(r){throw new Error("https://svelte.dev/e/effect_orphan")}function Ma(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ua(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ba(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function qa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let mr=!1,Ha=!1;function za(){mr=!0}const zi=1,Wi=2,ho=4,Wa=8,Ga=16,Ja=1,Va=2,fo=4,Ya=8,Ka=16,Xa=1,Qa=2,Za=4,el=1,tl=2,Ae=Symbol(),rl="http://www.w3.org/1999/xhtml",nl="http://www.w3.org/2000/svg";function il(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let re=null;function ss(r){re=r}function Bt(r,e=!1,t){var n=re={p:re,c:null,d:!1,e:null,m:!1,s:r,x:null,l:null};mr&&!e&&(re.l={s:null,u:null,r1:[],r2:cr(!1)}),Eo(()=>{n.d=!0})}function qt(r){const e=re;if(e!==null){const o=e.e;if(o!==null){var t=X,n=Y;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];st(s.effect),ze(s.reaction),Vr(s.fn)}}finally{st(t),ze(n)}}re=e.p,e.m=!0}return{}}function Bn(){return!mr||re!==null&&re.l===null}function Mt(r){if(typeof r!="object"||r===null||xt in r)return r;const e=Bi(r);if(e!==xa&&e!==Pa)return r;var t=new Map,n=Ui(r),i=mt(0),s=Y,o=a=>{var l=Y;ze(s);var u=a();return ze(l),u};return n&&t.set("length",mt(r.length)),new Proxy(r,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Fa();var c=t.get(l);return c===void 0?(c=o(()=>mt(u.value)),t.set(l,c)):Z(c,o(()=>Mt(u.value))),!0},deleteProperty(a,l){var u=t.get(l);if(u===void 0)l in a&&(t.set(l,o(()=>mt(Ae))),Kn(i));else{if(n&&typeof l=="string"){var c=t.get("length"),d=Number(l);Number.isInteger(d)&&d<c.v&&Z(c,d)}Z(u,Ae),Kn(i)}return!0},get(a,l,u){var f;if(l===xt)return r;var c=t.get(l),d=l in a;if(c===void 0&&(!d||(f=At(a,l))!=null&&f.writable)&&(c=o(()=>mt(Mt(d?a[l]:Ae))),t.set(l,c)),c!==void 0){var h=D(c);return h===Ae?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=t.get(l);c&&(u.value=D(c))}else if(u===void 0){var d=t.get(l),h=d==null?void 0:d.v;if(d!==void 0&&h!==Ae)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){var h;if(l===xt)return!0;var u=t.get(l),c=u!==void 0&&u.v!==Ae||Reflect.has(a,l);if(u!==void 0||X!==null&&(!c||(h=At(a,l))!=null&&h.writable)){u===void 0&&(u=o(()=>mt(c?Mt(a[l]):Ae)),t.set(l,u));var d=D(u);if(d===Ae)return!1}return c},set(a,l,u,c){var _;var d=t.get(l),h=l in a;if(n&&l==="length")for(var f=u;f<d.v;f+=1){var v=t.get(f+"");v!==void 0?Z(v,Ae):f in a&&(v=o(()=>mt(Ae)),t.set(f+"",v))}d===void 0?(!h||(_=At(a,l))!=null&&_.writable)&&(d=o(()=>mt(void 0)),Z(d,o(()=>Mt(u))),t.set(l,d)):(h=d.v!==Ae,Z(d,o(()=>Mt(u))));var p=Reflect.getOwnPropertyDescriptor(a,l);if(p!=null&&p.set&&p.set.call(c,u),!h){if(n&&typeof l=="string"){var g=t.get("length"),S=Number(l);Number.isInteger(S)&&S>=g.v&&Z(g,S+1)}Kn(i)}return!0},ownKeys(a){D(i);var l=Reflect.ownKeys(a).filter(d=>{var h=t.get(d);return h===void 0||h.v!==Ae});for(var[u,c]of t)c.v!==Ae&&!(u in a)&&l.push(u);return l},setPrototypeOf(){Ba()}})}function Kn(r,e=1){Z(r,r.v+e)}function Br(r){var e=Ze|it,t=Y!==null&&(Y.f&Ze)!==0?Y:null;return X===null||t!==null&&(t.f&Ue)!==0?e|=Ue:X.f|=lo,{ctx:re,deps:null,effects:null,equals:co,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??X}}function Qe(r){const e=Br(r);return e.equals=Hi,e}function vo(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)ft(e[t])}}function sl(r){for(var e=r.parent;e!==null;){if((e.f&Ze)===0)return e;e=e.parent}return null}function po(r){var e,t=X;st(sl(r));try{vo(r),e=Do(r)}finally{st(t)}return e}function go(r){var e=po(r),t=($t||(r.f&Ue)!==0)&&r.deps!==null?Pt:Te;We(r,t),r.equals(e)||(r.v=e,r.wv=Po())}const qr=new Map;function cr(r,e){var t={f:0,v:r,reactions:null,equals:co,rv:0,wv:0};return t}function mt(r,e){const t=cr(r);return pl(t),t}function xe(r,e=!1){var n;const t=cr(r);return e||(t.equals=Hi),mr&&re!==null&&re.l!==null&&((n=re.l).s??(n.s=[])).push(t),t}function Z(r,e,t=!1){Y!==null&&!tt&&Bn()&&(Y.f&(Ze|Un))!==0&&!(ke!=null&&ke.includes(r))&&qa();let n=t?Mt(e):e;return yi(r,n)}function yi(r,e){if(!r.equals(e)){var t=r.v;Xr?qr.set(r,e):qr.set(r,t),r.v=e,(r.f&Ze)!==0&&((r.f&it)!==0&&po(r),We(r,(r.f&Ue)===0?Te:Pt)),r.wv=Po(),_o(r,it),Bn()&&X!==null&&(X.f&Te)!==0&&(X.f&(gt|_r))===0&&(qe===null?gl([r]):qe.push(r))}return e}function os(r,e=1){var t=D(r),n=e===1?t++:t--;return Z(r,t),n}function _o(r,e){var t=r.reactions;if(t!==null)for(var n=Bn(),i=t.length,s=0;s<i;s++){var o=t[s],a=o.f;(a&it)===0&&(!n&&o===X||(We(o,e),(a&(Te|Ue))!==0&&((a&Ze)!==0?_o(o,Pt):Gn(o))))}}let ol=!1;var as,mo,yo,bo;function al(){if(as===void 0){as=window,mo=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;yo=At(e,"firstChild").get,bo=At(e,"nextSibling").get,is(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),is(t)&&(t.__t=void 0)}}function Jr(r=""){return document.createTextNode(r)}function dr(r){return yo.call(r)}function qn(r){return bo.call(r)}function j(r,e){return dr(r)}function he(r,e){{var t=dr(r);return t instanceof Comment&&t.data===""?qn(t):t}}function G(r,e=1,t=!1){let n=r;for(;e--;)n=qn(n);return n}function ll(r){r.textContent=""}function wo(r){X===null&&Y===null&&La(),Y!==null&&(Y.f&Ue)!==0&&X===null&&Na(),Xr&&Ra()}function ul(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function yr(r,e,t,n=!0){var i=X,s={ctx:re,deps:null,nodes_start:null,nodes_end:null,f:r|it,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{Wn(s),s.f|=ao}catch(l){throw ft(s),l}else e!==null&&Gn(s);var o=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(lo|kn))===0;if(!o&&n&&(i!==null&&ul(s,i),Y!==null&&(Y.f&Ze)!==0)){var a=Y;(a.effects??(a.effects=[])).push(s)}return s}function Eo(r){const e=yr(Mn,null,!1);return We(e,Te),e.teardown=r,e}function bi(r){wo();var e=X!==null&&(X.f&gt)!==0&&re!==null&&!re.m;if(e){var t=re;(t.e??(t.e=[])).push({fn:r,effect:X,reaction:Y})}else{var n=Vr(r);return n}}function cl(r){return wo(),Yr(r)}function dl(r){const e=yr(_r,r,!0);return(t={})=>new Promise(n=>{t.outro?Hr(e,()=>{ft(e),n(void 0)}):(ft(e),n(void 0))})}function Vr(r){return yr(oo,r,!1)}function Rt(r,e){var t=re,n={effect:null,ran:!1};t.l.r1.push(n),n.effect=Yr(()=>{r(),!n.ran&&(n.ran=!0,Z(t.l.r2,!0),vt(e))})}function So(){var r=re;Yr(()=>{if(D(r.l.r2)){for(var e of r.l.r1){var t=e.effect;(t.f&Te)!==0&&We(t,Pt),br(t)&&Wn(t),e.ran=!1}r.l.r2.v=!1}})}function Yr(r){return yr(Mn,r,!0)}function Pe(r,e=[],t=Br){const n=e.map(t);return Hn(()=>r(...n.map(D)))}function Hn(r,e=0){return yr(Mn|Un|e,r,!0)}function hr(r,e=!0){return yr(Mn|gt,r,!0,e)}function ko(r){var e=r.teardown;if(e!==null){const t=Xr,n=Y;ls(!0),ze(null);try{e.call(null)}finally{ls(t),ze(n)}}}function To(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;(t.f&_r)!==0?t.parent=null:ft(t,e),t=n}}function hl(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&gt)===0&&ft(e),e=t}}function ft(r,e=!0){var t=!1;(e||(r.f&ja)!==0)&&r.nodes_start!==null&&(fl(r.nodes_start,r.nodes_end),t=!0),To(r,e&&!t),xn(r,0),We(r,Fn);var n=r.transitions;if(n!==null)for(const s of n)s.stop();ko(r);var i=r.parent;i!==null&&i.first!==null&&$o(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function fl(r,e){for(;r!==null;){var t=r===e?null:qn(r);r.remove(),r=t}}function $o(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function Hr(r,e){var t=[];Gi(r,t,!0),Oo(t,()=>{ft(r),e&&e()})}function Oo(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var i of r)i.out(n)}else e()}function Gi(r,e,t){if((r.f&dt)===0){if(r.f^=dt,r.transitions!==null)for(const o of r.transitions)(o.is_global||t)&&e.push(o);for(var n=r.first;n!==null;){var i=n.next,s=(n.f&Gr)!==0||(n.f&gt)!==0;Gi(n,e,s?t:!1),n=i}}}function zr(r){Ao(r,!0)}function Ao(r,e){if((r.f&dt)!==0){r.f^=dt,(r.f&Te)===0&&(r.f^=Te),br(r)&&(We(r,it),Gn(r));for(var t=r.first;t!==null;){var n=t.next,i=(t.f&Gr)!==0||(t.f&gt)!==0;Ao(t,i?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let $n=[];function vl(){var r=$n;$n=[],_i(r)}function Kr(r){$n.length===0&&queueMicrotask(vl),$n.push(r)}let pn=!1,wi=!1,On=null,Ft=!1,Xr=!1;function ls(r){Xr=r}let gn=[];let Y=null,tt=!1;function ze(r){Y=r}let X=null;function st(r){X=r}let ke=null;function pl(r){Y!==null&&Y.f&mi&&(ke===null?ke=[r]:ke.push(r))}let Se=null,Ne=0,qe=null;function gl(r){qe=r}let xo=1,An=0,$t=!1;function Po(){return++xo}function br(r){var d;var e=r.f;if((e&it)!==0)return!0;if((e&Pt)!==0){var t=r.deps,n=(e&Ue)!==0;if(t!==null){var i,s,o=(e&Tn)!==0,a=n&&X!==null&&!$t,l=t.length;if(o||a){var u=r,c=u.parent;for(i=0;i<l;i++)s=t[i],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);o&&(u.f^=Tn),a&&c!==null&&(c.f&Ue)===0&&(u.f^=Ue)}for(i=0;i<l;i++)if(s=t[i],br(s)&&go(s),s.wv>r.wv)return!0}(!n||X!==null&&!$t)&&We(r,Te)}return!1}function _l(r,e){for(var t=e;t!==null;){if((t.f&kn)!==0)try{t.fn(r);return}catch{t.f^=kn}t=t.parent}throw pn=!1,r}function us(r){return(r.f&Fn)===0&&(r.parent===null||(r.parent.f&kn)===0)}function zn(r,e,t,n){if(pn){if(t===null&&(pn=!1),us(e))throw r;return}if(t!==null&&(pn=!0),_l(r,e),us(e))throw r}function Co(r,e,t=!0){var n=r.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];ke!=null&&ke.includes(r)||((s.f&Ze)!==0?Co(s,e,!1):e===s&&(t?We(s,it):(s.f&Te)!==0&&We(s,Pt),Gn(s)))}}function Do(r){var f;var e=Se,t=Ne,n=qe,i=Y,s=$t,o=ke,a=re,l=tt,u=r.f;Se=null,Ne=0,qe=null,$t=(u&Ue)!==0&&(tt||!Ft||Y===null),Y=(u&(gt|_r))===0?r:null,ke=null,ss(r.ctx),tt=!1,An++,r.f|=mi;try{var c=(0,r.fn)(),d=r.deps;if(Se!==null){var h;if(xn(r,Ne),d!==null&&Ne>0)for(d.length=Ne+Se.length,h=0;h<Se.length;h++)d[Ne+h]=Se[h];else r.deps=d=Se;if(!$t)for(h=Ne;h<d.length;h++)((f=d[h]).reactions??(f.reactions=[])).push(r)}else d!==null&&Ne<d.length&&(xn(r,Ne),d.length=Ne);if(Bn()&&qe!==null&&!tt&&d!==null&&(r.f&(Ze|Pt|it))===0)for(h=0;h<qe.length;h++)Co(qe[h],r);return i!==null&&i!==r&&(An++,qe!==null&&(n===null?n=qe:n.push(...qe))),c}finally{Se=e,Ne=t,qe=n,Y=i,$t=s,ke=o,ss(a),tt=l,r.f^=mi}}function ml(r,e){let t=e.reactions;if(t!==null){var n=Oa.call(t,r);if(n!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[n]=t[i],t.pop())}}t===null&&(e.f&Ze)!==0&&(Se===null||!Se.includes(e))&&(We(e,Pt),(e.f&(Ue|Tn))===0&&(e.f^=Tn),vo(e),xn(e,0))}function xn(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)ml(r,t[n])}function Wn(r){var e=r.f;if((e&Fn)===0){We(r,Te);var t=X,n=re,i=Ft;X=r,Ft=!0;try{(e&Un)!==0?hl(r):To(r),ko(r);var s=Do(r);r.teardown=typeof s=="function"?s:null,r.wv=xo;var o=r.deps,a;ns&&Ha&&r.f&it}catch(l){zn(l,r,t,n||r.ctx)}finally{Ft=i,X=t}}}function yl(){try{Ma()}catch(r){if(On!==null)zn(r,On,null);else throw r}}function bl(){var r=Ft;try{var e=0;for(Ft=!0;gn.length>0;){e++>1e3&&yl();var t=gn,n=t.length;gn=[];for(var i=0;i<n;i++){var s=El(t[i]);wl(s)}qr.clear()}}finally{wi=!1,Ft=r,On=null}}function wl(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(Fn|dt))===0)try{br(n)&&(Wn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?$o(n):n.fn=null))}catch(i){zn(i,n,null,n.ctx)}}}function Gn(r){wi||(wi=!0,queueMicrotask(bl));for(var e=On=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(_r|gt))!==0){if((t&Te)===0)return;e.f^=Te}}gn.push(e)}function El(r){for(var e=[],t=r;t!==null;){var n=t.f,i=(n&(gt|_r))!==0,s=i&&(n&Te)!==0;if(!s&&(n&dt)===0){if((n&oo)!==0)e.push(t);else if(i)t.f^=Te;else{var o=Y;try{Y=t,br(t)&&Wn(t)}catch(u){zn(u,t,null,t.ctx)}finally{Y=o}}var a=t.first;if(a!==null){t=a;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}return e}function D(r){var e=r.f,t=(e&Ze)!==0;if(Y!==null&&!tt){if(!(ke!=null&&ke.includes(r))){var n=Y.deps;r.rv<An&&(r.rv=An,Se===null&&n!==null&&n[Ne]===r?Ne++:Se===null?Se=[r]:(!$t||!Se.includes(r))&&Se.push(r))}}else if(t&&r.deps===null&&r.effects===null){var i=r,s=i.parent;s!==null&&(s.f&Ue)===0&&(i.f^=Ue)}return t&&(i=r,br(i)&&go(i)),Xr&&qr.has(r)?qr.get(r):r.v}function vt(r){var e=tt;try{return tt=!0,r()}finally{tt=e}}const Sl=-7169;function We(r,e){r.f=r.f&Sl|e}function Jn(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(xt in r)Ei(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&xt in t&&Ei(t)}}}function Ei(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{Ei(r[n],e)}catch{}const t=Bi(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=so(t);for(let i in n){const s=n[i].get;if(s)try{s.call(r)}catch{}}}}}function kl(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const Tl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function $l(r){return Tl.includes(r)}const Ol={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Al(r){return r=r.toLowerCase(),Ol[r]??r}const xl=["touchstart","touchmove"];function Pl(r){return xl.includes(r)}function Cl(r,e){if(e){const t=document.body;r.autofocus=!0,Kr(()=>{document.activeElement===t&&r.focus()})}}function jo(r){var e=Y,t=X;ze(null),st(null);try{return r()}finally{ze(e),st(t)}}const Io=new Set,Si=new Set;function Ro(r,e,t,n={}){function i(s){if(n.capture||Ar.call(e,s),!s.cancelBubble)return jo(()=>t==null?void 0:t.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Kr(()=>{e.addEventListener(r,i,n)}):e.addEventListener(r,i,n),i}function rt(r,e,t,n,i){var s={capture:n,passive:i},o=Ro(r,e,t,s);(e===document.body||e===window||e===document)&&Eo(()=>{e.removeEventListener(r,o,s)})}function Dl(r){for(var e=0;e<r.length;e++)Io.add(r[e]);for(var t of Si)t(r)}function Ar(r){var _;var e=this,t=e.ownerDocument,n=r.type,i=((_=r.composedPath)==null?void 0:_.call(r))||[],s=i[0]||r.target,o=0,a=r.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||r.target,s!==e){Aa(r,"currentTarget",{configurable:!0,get(){return s||t}});var c=Y,d=X;ze(null),st(null);try{for(var h,f=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+n];if(p!=null&&(!s.disabled||r.target===s))if(Ui(p)){var[g,...S]=p;g.apply(s,[r,...S])}else p.call(s,r)}catch(m){h?f.push(m):h=m}if(r.cancelBubble||v===e||v===null)break;s=v}if(h){for(let m of f)queueMicrotask(()=>{throw m});throw h}}finally{r.__root=e,delete r.currentTarget,ze(c),st(d)}}}function No(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function fr(r,e){var t=X;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function ge(r,e){var t=(e&el)!==0,n=(e&tl)!==0,i,s=!r.startsWith("<!>");return()=>{i===void 0&&(i=No(s?r:"<!>"+r),t||(i=dr(i)));var o=n||mo?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=dr(o),l=o.lastChild;fr(a,l)}else fr(o,o);return o}}function jl(r,e,t="svg"){var n=!r.startsWith("<!>"),i=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var o=No(i),a=dr(o);s=dr(a)}var l=s.cloneNode(!0);return fr(l,l),l}}function cs(r=""){{var e=Jr(r+"");return fr(e,e),e}}function je(){var r=document.createDocumentFragment(),e=document.createComment(""),t=Jr();return r.append(e,t),fr(e,t),r}function W(r,e){r!==null&&r.before(e)}let Pn=!0;function ds(r){Pn=r}function Ee(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t+"")}function Il(r,e){return Rl(r,e)}const zt=new Map;function Rl(r,{target:e,anchor:t,props:n={},events:i,context:s,intro:o=!0}){al();var a=new Set,l=d=>{for(var h=0;h<d.length;h++){var f=d[h];if(!a.has(f)){a.add(f);var v=Pl(f);e.addEventListener(f,Ar,{passive:v});var p=zt.get(f);p===void 0?(document.addEventListener(f,Ar,{passive:v}),zt.set(f,1)):zt.set(f,p+1)}}};l(Fi(Io)),Si.add(l);var u=void 0,c=dl(()=>{var d=t??e.appendChild(Jr());return hr(()=>{if(s){Bt({});var h=re;h.c=s}i&&(n.$$events=i),Pn=o,u=r(d,n)||{},Pn=!0,s&&qt()}),()=>{var v;for(var h of a){e.removeEventListener(h,Ar);var f=zt.get(h);--f===0?(document.removeEventListener(h,Ar),zt.delete(h)):zt.set(h,f)}Si.delete(l),d!==t&&((v=d.parentNode)==null||v.removeChild(d))}});return Nl.set(u,c),u}let Nl=new WeakMap;function Xe(r,e,[t,n]=[0,0]){var i=r,s=null,o=null,a=Ae,l=t>0?Gr:0,u=!1;const c=(h,f=!0)=>{u=!0,d(f,h)},d=(h,f)=>{a!==(a=h)&&(a?(s?zr(s):f&&(s=hr(()=>f(i))),o&&Hr(o,()=>{o=null})):(o?zr(o):f&&(o=hr(()=>f(i,[t+1,n]))),s&&Hr(s,()=>{s=null})))};Hn(()=>{u=!1,e(c),u||d(null,null)},l)}function Ll(r,e){return e}function Ml(r,e,t,n){for(var i=[],s=e.length,o=0;o<s;o++)Gi(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;ll(l),l.append(t),n.clear(),wt(r,e[0].prev,e[s-1].next)}Oo(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(n.delete(c.k),wt(r,c.prev,c.next)),ft(c.e,!a)}})}function Lo(r,e,t,n,i,s=null){var o=r,a={flags:e,items:new Map,first:null},l=(e&ho)!==0;if(l){var u=r;o=u.appendChild(Jr())}var c=null,d=!1,h=Qe(()=>{var f=t();return Ui(f)?f:f==null?[]:Fi(f)});Hn(()=>{var f=D(h),v=f.length;d&&v===0||(d=v===0,Ul(f,a,o,i,e,n,t),s!==null&&(v===0?c?zr(c):c=hr(()=>s(o)):c!==null&&Hr(c,()=>{c=null})),D(h))})}function Ul(r,e,t,n,i,s,o){var x,E,b,A;var a=(i&Wa)!==0,l=(i&(zi|Wi))!==0,u=r.length,c=e.items,d=e.first,h=d,f,v=null,p,g=[],S=[],_,m,y,w;if(a)for(w=0;w<u;w+=1)_=r[w],m=s(_,w),y=c.get(m),y!==void 0&&((x=y.a)==null||x.measure(),(p??(p=new Set)).add(y));for(w=0;w<u;w+=1){if(_=r[w],m=s(_,w),y=c.get(m),y===void 0){var P=h?h.e.nodes_start:t;v=Bl(P,e,v,v===null?e.first:v.next,_,m,w,n,i,o),c.set(m,v),g=[],S=[],h=v.next;continue}if(l&&Fl(y,_,w,i),(y.e.f&dt)!==0&&(zr(y.e),a&&((E=y.a)==null||E.unfix(),(p??(p=new Set)).delete(y))),y!==h){if(f!==void 0&&f.has(y)){if(g.length<S.length){var T=S[0],I;v=T.prev;var F=g[0],C=g[g.length-1];for(I=0;I<g.length;I+=1)hs(g[I],T,t);for(I=0;I<S.length;I+=1)f.delete(S[I]);wt(e,F.prev,C.next),wt(e,v,F),wt(e,C,T),h=T,v=C,w-=1,g=[],S=[]}else f.delete(y),hs(y,h,t),wt(e,y.prev,y.next),wt(e,y,v===null?e.first:v.next),wt(e,v,y),v=y;continue}for(g=[],S=[];h!==null&&h.k!==m;)(h.e.f&dt)===0&&(f??(f=new Set)).add(h),S.push(h),h=h.next;if(h===null)continue;y=h}g.push(y),v=y,h=y.next}if(h!==null||f!==void 0){for(var O=f===void 0?[]:Fi(f);h!==null;)(h.e.f&dt)===0&&O.push(h),h=h.next;var J=O.length;if(J>0){var ie=(i&ho)!==0&&u===0?t:null;if(a){for(w=0;w<J;w+=1)(b=O[w].a)==null||b.measure();for(w=0;w<J;w+=1)(A=O[w].a)==null||A.fix()}Ml(e,O,ie,c)}}a&&Kr(()=>{var $;if(p!==void 0)for(y of p)($=y.a)==null||$.apply()}),X.first=e.first&&e.first.e,X.last=v&&v.e}function Fl(r,e,t,n){(n&zi)!==0&&yi(r.v,e),(n&Wi)!==0?yi(r.i,t):r.i=t}function Bl(r,e,t,n,i,s,o,a,l,u){var c=(l&zi)!==0,d=(l&Ga)===0,h=c?d?xe(i):cr(i):i,f=(l&Wi)===0?o:cr(o),v={i:f,v:h,k:s,a:null,e:null,prev:t,next:n};try{return v.e=hr(()=>a(r,h,f,u),ol),v.e.prev=t&&t.e,v.e.next=n&&n.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function hs(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var o=qn(s);i.before(s),s=o}}function wt(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Fe(r,e,t,n,i){var a;var s=(a=e.$$slots)==null?void 0:a[t],o=!1;s===!0&&(s=e.children,o=!0),s===void 0||s(r,o?()=>n:n)}function ql(r,e,t,n,i,s){var o,a,l=null,u=r,c;Hn(()=>{const d=e()||null;var h=nl;d!==o&&(c&&(d===null?Hr(c,()=>{c=null,a=null}):d===a?zr(c):(ft(c),ds(!1))),d&&d!==a&&(c=hr(()=>{if(l=document.createElementNS(h,d),fr(l,l),n){var f=l.appendChild(Jr());n(l,f)}X.nodes_end=l,u.before(l)})),o=d,o&&(a=o),ds(!0))},Gr)}function Cn(r,e,t){Vr(()=>{var n=vt(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var i=!1,s={};Yr(()=>{var o=t();Jn(o),i&&qi(s,o)&&(s=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Mo(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Mo(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Hl(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Mo(r))&&(n&&(n+=" "),n+=e);return n}function zl(r){return typeof r=="object"?Hl(r):r??""}const fs=[...` 	
\r\fÂ \v\uFEFF`];function Wl(r,e,t){var n=r==null?"":""+r;if(t){for(var i in t)if(t[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var a=o+s;(o===0||fs.includes(n[o-1]))&&(a===n.length||fs.includes(n[a]))?n=(o===0?"":n.substring(0,o))+n.substring(a+1):o=a}}return n===""?null:n}function vs(r,e=!1){var t=e?" !important;":";",n="";for(var i in r){var s=r[i];s!=null&&s!==""&&(n+=" "+i+": "+s+t)}return n}function Xn(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Gl(r,e){if(e){var t="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(Xn)),i&&l.push(...Object.keys(i).map(Xn));var u=0,c=-1;const p=r.length;for(var d=0;d<p;d++){var h=r[d];if(a?h==="/"&&r[d-1]==="*"&&(a=!1):s?s===h&&(s=!1):h==="/"&&r[d+1]==="*"?a=!0:h==='"'||h==="'"?s=h:h==="("?o++:h===")"&&o--,!a&&s===!1&&o===0){if(h===":"&&c===-1)c=d;else if(h===";"||d===p-1){if(c!==-1){var f=Xn(r.substring(u,c).trim());if(!l.includes(f)){h!==";"&&d++;var v=r.substring(u,d).trim();t+=" "+v+";"}}u=d+1,c=-1}}}}return n&&(t+=vs(n)),i&&(t+=vs(i,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function Uo(r,e,t,n,i,s){var o=r.__className;if(o!==t||o===void 0){var a=Wl(t,n,s);a==null?r.removeAttribute("class"):e?r.className=a:r.setAttribute("class",a),r.__className=t}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&r.classList.toggle(l,u)}return s}function Qn(r,e={},t,n){for(var i in t){var s=t[i];e[i]!==s&&(t[i]==null?r.style.removeProperty(i):r.style.setProperty(i,s,n))}}function Jl(r,e,t,n){var i=r.__style;if(i!==e){var s=Gl(e,n);s==null?r.removeAttribute("style"):r.style.cssText=s,r.__style=e}else n&&(Array.isArray(n)?(Qn(r,t==null?void 0:t[0],n[0]),Qn(r,t==null?void 0:t[1],n[1],"important")):Qn(r,t,n));return n}const kr=Symbol("class"),Tr=Symbol("style"),Fo=Symbol("is custom element"),Bo=Symbol("is html");function Vl(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function ct(r,e,t,n){var i=qo(r);i[e]!==(i[e]=t)&&(e==="loading"&&(r[Ia]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Ho(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function ps(r,e,t,n,i=!1){var s=qo(r),o=s[Fo],a=!s[Bo],l=e||{},u=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class?t.class=zl(t.class):t[kr]&&(t.class=null),t[Tr]&&(t.style??(t.style=null));var d=Ho(r);for(const _ in t){let m=t[_];if(u&&_==="value"&&m==null){r.value=r.__value="",l[_]=m;continue}if(_==="class"){var h=r.namespaceURI==="http://www.w3.org/1999/xhtml";Uo(r,h,m,n,e==null?void 0:e[kr],t[kr]),l[_]=m,l[kr]=t[kr];continue}if(_==="style"){Jl(r,m,e==null?void 0:e[Tr],t[Tr]),l[_]=m,l[Tr]=t[Tr];continue}var f=l[_];if(m!==f){l[_]=m;var v=_[0]+_[1];if(v!=="$$")if(v==="on"){const y={},w="$$"+_;let P=_.slice(2);var p=$l(P);if(kl(P)&&(P=P.slice(0,-7),y.capture=!0),!p&&f){if(m!=null)continue;r.removeEventListener(P,l[w],y),l[w]=null}if(m!=null)if(p)r[`__${P}`]=m,Dl([P]);else{let T=function(I){l[_].call(this,I)};l[w]=Ro(P,r,T,y)}else p&&(r[`__${P}`]=void 0)}else if(_==="style")ct(r,_,m);else if(_==="autofocus")Cl(r,!!m);else if(!o&&(_==="__value"||_==="value"&&m!=null))r.value=r.__value=m;else if(_==="selected"&&u)Vl(r,m);else{var g=_;a||(g=Al(g));var S=g==="defaultValue"||g==="defaultChecked";if(m==null&&!o&&!S)if(s[_]=null,g==="value"||g==="checked"){let y=r;const w=e===void 0;if(g==="value"){let P=y.defaultValue;y.removeAttribute(g),y.defaultValue=P,y.value=y.__value=w?P:null}else{let P=y.defaultChecked;y.removeAttribute(g),y.defaultChecked=P,y.checked=w?P:!1}}else r.removeAttribute(_);else S||d.includes(g)&&(o||typeof m!="string")?r[g]=m:typeof m!="function"&&ct(r,g,m)}}}return l}function qo(r){return r.__attributes??(r.__attributes={[Fo]:r.nodeName.includes("-"),[Bo]:r.namespaceURI===rl})}var gs=new Map;function Ho(r){var e=gs.get(r.nodeName);if(e)return e;gs.set(r.nodeName,e=[]);for(var t,n=r,i=Element.prototype;i!==n;){t=so(n);for(var s in t)t[s].set&&e.push(s);n=Bi(n)}return e}const Yl=()=>performance.now(),ut={tick:r=>requestAnimationFrame(r),now:()=>Yl(),tasks:new Set};function zo(){const r=ut.now();ut.tasks.forEach(e=>{e.c(r)||(ut.tasks.delete(e),e.f())}),ut.tasks.size!==0&&ut.tick(zo)}function Kl(r){let e;return ut.tasks.size===0&&ut.tick(zo),{promise:new Promise(t=>{ut.tasks.add(e={c:r,f:t})}),abort(){ut.tasks.delete(e)}}}function rn(r,e){jo(()=>{r.dispatchEvent(new CustomEvent(e))})}function Xl(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function _s(r){const e={},t=r.split(";");for(const n of t){const[i,s]=n.split(":");if(!i||s===void 0)break;const o=Xl(i.trim());e[o]=s.trim()}return e}const Ql=r=>r;function ki(r,e,t,n){var i=(r&Xa)!==0,s=(r&Qa)!==0,o=i&&s,a=(r&Za)!==0,l=o?"both":i?"in":"out",u,c=e.inert,d=e.style.overflow,h,f;function v(){var m=Y,y=X;ze(null),st(null);try{return u??(u=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{ze(m),st(y)}}var p={is_global:a,in(){var m;if(e.inert=c,!i){f==null||f.abort(),(m=f==null?void 0:f.reset)==null||m.call(f);return}s||h==null||h.abort(),rn(e,"introstart"),h=Ti(e,v(),f,1,()=>{rn(e,"introend"),h==null||h.abort(),h=u=void 0,e.style.overflow=d})},out(m){if(!s){m==null||m(),u=void 0;return}e.inert=!0,rn(e,"outrostart"),f=Ti(e,v(),h,0,()=>{rn(e,"outroend"),m==null||m()})},stop:()=>{h==null||h.abort(),f==null||f.abort()}},g=X;if((g.transitions??(g.transitions=[])).push(p),i&&Pn){var S=a;if(!S){for(var _=g.parent;_&&(_.f&Gr)!==0;)for(;(_=_.parent)&&(_.f&Un)===0;);S=!_||(_.f&ao)!==0}S&&Vr(()=>{vt(()=>p.in())})}}function Ti(r,e,t,n,i){var s=n===1;if(rr(e)){var o,a=!1;return Kr(()=>{if(!a){var g=e({direction:s?"in":"out"});o=Ti(r,g,t,n,i)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:lt,deactivate:lt,reset:lt,t:()=>n};const{delay:l=0,css:u,tick:c,easing:d=Ql}=e;var h=[];if(s&&t===void 0&&(c&&c(0,1),u)){var f=_s(u(0,1));h.push(f,f)}var v=()=>1-n,p=r.animate(h,{duration:l});return p.onfinish=()=>{var g=(t==null?void 0:t.t())??1-n;t==null||t.abort();var S=n-g,_=e.duration*Math.abs(S),m=[];if(_>0){var y=!1;if(u)for(var w=Math.ceil(_/16.666666666666668),P=0;P<=w;P+=1){var T=g+S*d(P/w),I=_s(u(T,1-T));m.push(I),y||(y=I.overflow==="hidden")}y&&(r.style.overflow="hidden"),v=()=>{var F=p.currentTime;return g+S*d(F/_)},c&&Kl(()=>{if(p.playState!=="running")return!1;var F=v();return c(F,1-F),!0})}p=r.animate(m,{duration:_,fill:"forwards"}),p.onfinish=()=>{v=()=>n,c==null||c(n,1-n),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=lt)},deactivate:()=>{i=lt},reset:()=>{n===0&&(c==null||c(1,0))},t:()=>v()}}function ms(r,e){return r===e||(r==null?void 0:r[xt])===e}function Zl(r={},e,t,n){return Vr(()=>{var i,s;return Yr(()=>{i=s,s=[],vt(()=>{r!==t(...s)&&(e(r,...s),i&&ms(t(...i),r)&&e(null,...i))})}),()=>{Kr(()=>{s&&ms(t(...s),r)&&e(null,...s)})}}),r}function wr(r=!1){const e=re,t=e.l.u;if(!t)return;let n=()=>Jn(e.s);if(r){let i=0,s={};const o=Br(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],a=!0);return a&&i++,i});n=()=>D(o)}t.b.length&&cl(()=>{ys(e,n),_i(t.b)}),bi(()=>{const i=vt(()=>t.m.map(Ca));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&bi(()=>{ys(e,n),_i(t.a)})}function ys(r,e){if(r.l.s)for(const t of r.l.s)D(t);e()}function eu(r,e,t){if(r==null)return e(void 0),lt;const n=vt(()=>r.subscribe(e,t));return n.unsubscribe?()=>n.unsubscribe():n}const Wt=[];function Zn(r,e=lt){let t=null;const n=new Set;function i(a){if(qi(r,a)&&(r=a,t)){const l=!Wt.length;for(const u of n)u[1](),Wt.push(u,r);if(l){for(let u=0;u<Wt.length;u+=2)Wt[u][0](Wt[u+1]);Wt.length=0}}}function s(a){i(a(r))}function o(a,l=lt){const u=[a,l];return n.add(u),n.size===1&&(t=e(i,s)||lt),a(r),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}function ei(r){let e;return eu(r,t=>e=t)(),e}let nn=!1;function tu(r){var e=nn;try{return nn=!1,[r(),nn]}finally{nn=e}}const ru={get(r,e){if(!r.exclude.includes(e))return D(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=le({get[e](){return r.props[e]}},e,fo)),r.special[e](t),os(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),os(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function De(r,e){return new Proxy({props:r,exclude:e,special:{},version:cr(0)},ru)}const nu={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(rr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let i=r.props[n];rr(i)&&(i=i());const s=At(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(rr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const i=At(n,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(r,e){if(e===xt||e===uo)return!1;for(let t of r.props)if(rr(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){rr(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function Ge(...r){return new Proxy({props:r},nu)}function bs(r){var e;return((e=r.ctx)==null?void 0:e.d)??!1}function le(r,e,t,n){var P;var i=(t&Ja)!==0,s=!mr||(t&Va)!==0,o=(t&Ya)!==0,a=(t&Ka)!==0,l=!1,u;o?[u,l]=tu(()=>r[e]):u=r[e];var c=xt in r||uo in r,d=o&&(((P=At(r,e))==null?void 0:P.set)??(c&&e in r&&(T=>r[e]=T)))||void 0,h=n,f=!0,v=!1,p=()=>(v=!0,f&&(f=!1,a?h=vt(n):h=n),h);u===void 0&&n!==void 0&&(d&&s&&Ua(),u=p(),d&&d(u));var g;if(s)g=()=>{var T=r[e];return T===void 0?p():(f=!0,v=!1,T)};else{var S=(i?Br:Qe)(()=>r[e]);S.f|=Da,g=()=>{var T=D(S);return T!==void 0&&(h=void 0),T===void 0?h:T}}if((t&fo)===0)return g;if(d){var _=r.$$legacy;return function(T,I){return arguments.length>0?((!s||!I||_||l)&&d(I?g():T),T):g()}}var m=!1,y=xe(u),w=Br(()=>{var T=g(),I=D(y);return m?(m=!1,I):y.v=T});return o&&D(w),i||(w.equals=Hi),function(T,I){if(arguments.length>0){const F=I?D(w):s&&o?Mt(T):T;if(!w.equals(F)){if(m=!0,Z(y,F),v&&h!==void 0&&(h=F),bs(w))return T;vt(()=>D(w))}return T}return bs(w)?w.v:D(w)}}function iu(r){re===null&&il(),mr&&re.l!==null?su(re).m.push(r):bi(()=>{const e=vt(r);if(typeof e=="function")return e})}function su(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const ou="5";var io;typeof window<"u"&&((io=window.__svelte??(window.__svelte={})).v??(io.v=new Set)).add(ou);za();/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ws(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ot(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ws(Object(t),!0).forEach(function(n){au(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ws(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _n(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_n=function(e){return typeof e}:_n=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(r)}function au(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pt(){return pt=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},pt.apply(this,arguments)}function lu(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function uu(r,e){if(r==null)return{};var t=lu(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var cu="1.15.6";function ht(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var _t=ht(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qr=ht(/Edge/i),Es=ht(/firefox/i),jr=ht(/safari/i)&&!ht(/chrome/i)&&!ht(/android/i),Ji=ht(/iP(ad|od|hone)/i),Wo=ht(/chrome/i)&&ht(/android/i),Go={capture:!1,passive:!1};function z(r,e,t){r.addEventListener(e,t,!_t&&Go)}function q(r,e,t){r.removeEventListener(e,t,!_t&&Go)}function Dn(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function Jo(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function Ye(r,e,t,n){if(r){t=t||document;do{if(e!=null&&(e[0]===">"?r.parentNode===t&&Dn(r,e):Dn(r,e))||n&&r===t)return r;if(r===t)break}while(r=Jo(r))}return null}var Ss=/\s+/g;function Re(r,e,t){if(r&&e)if(r.classList)r.classList[t?"add":"remove"](e);else{var n=(" "+r.className+" ").replace(Ss," ").replace(" "+e+" "," ");r.className=(n+(t?" "+e:"")).replace(Ss," ")}}function N(r,e,t){var n=r&&r.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(t=r.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function or(r,e){var t="";if(typeof r=="string")t=r;else do{var n=N(r,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(r=r.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Vo(r,e,t){if(r){var n=r.getElementsByTagName(e),i=0,s=n.length;if(t)for(;i<s;i++)t(n[i],i);return n}return[]}function nt(){var r=document.scrollingElement;return r||document.documentElement}function de(r,e,t,n,i){if(!(!r.getBoundingClientRect&&r!==window)){var s,o,a,l,u,c,d;if(r!==window&&r.parentNode&&r!==nt()?(s=r.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||t)&&r!==window&&(i=i||r.parentNode,!_t))do if(i&&i.getBoundingClientRect&&(N(i,"transform")!=="none"||t&&N(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(N(i,"border-top-width")),a-=h.left+parseInt(N(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(n&&r!==window){var f=or(i||r),v=f&&f.a,p=f&&f.d;f&&(o/=p,a/=v,d/=v,c/=p,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function ks(r,e,t){for(var n=Ot(r,!0),i=de(r)[e];n;){var s=de(n)[t],o=void 0;if(o=i>=s,!o)return n;if(n===nt())break;n=Ot(n,!1)}return!1}function vr(r,e,t,n){for(var i=0,s=0,o=r.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==L.ghost&&(n||o[s]!==L.dragged)&&Ye(o[s],t.draggable,r,!1)){if(i===e)return o[s];i++}s++}return null}function Vi(r,e){for(var t=r.lastElementChild;t&&(t===L.ghost||N(t,"display")==="none"||e&&!Dn(t,e));)t=t.previousElementSibling;return t||null}function He(r,e){var t=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==L.clone&&(!e||Dn(r,e))&&t++;return t}function Ts(r){var e=0,t=0,n=nt();if(r)do{var i=or(r),s=i.a,o=i.d;e+=r.scrollLeft*s,t+=r.scrollTop*o}while(r!==n&&(r=r.parentNode));return[e,t]}function du(r,e){for(var t in r)if(r.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===r[t][n])return Number(t)}return-1}function Ot(r,e){if(!r||!r.getBoundingClientRect)return nt();var t=r,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=N(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return nt();if(n||e)return t;n=!0}}while(t=t.parentNode);return nt()}function hu(r,e){if(r&&e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function ti(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Ir;function Yo(r,e){return function(){if(!Ir){var t=arguments,n=this;t.length===1?r.call(n,t[0]):r.apply(n,t),Ir=setTimeout(function(){Ir=void 0},e)}}}function fu(){clearTimeout(Ir),Ir=void 0}function Ko(r,e,t){r.scrollLeft+=e,r.scrollTop+=t}function Xo(r){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):t?t(r).clone(!0)[0]:r.cloneNode(!0)}function Qo(r,e,t){var n={};return Array.from(r.children).forEach(function(i){var s,o,a,l;if(!(!Ye(i,e.draggable,r,!1)||i.animated||i===t)){var u=de(i);n.left=Math.min((s=n.left)!==null&&s!==void 0?s:1/0,u.left),n.top=Math.min((o=n.top)!==null&&o!==void 0?o:1/0,u.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,u.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Ce="Sortable"+new Date().getTime();function vu(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(N(i,"display")==="none"||i===L.ghost)){r.push({target:i,rect:de(i)});var s=ot({},r[r.length-1].rect);if(i.thisAnimationDuration){var o=or(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(du(r,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var s=!1,o=0;r.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=de(u),h=u.prevFromRect,f=u.prevToRect,v=a.rect,p=or(u,!0);p&&(d.top-=p.f,d.left-=p.e),u.toRect=d,u.thisAnimationDuration&&ti(h,d)&&!ti(c,d)&&(v.top-d.top)/(v.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=gu(v,h,f,i.options)),ti(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,v,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),r=[]},animate:function(n,i,s,o){if(o){N(n,"transition",""),N(n,"transform","");var a=or(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);n.animatingX=!!c,n.animatingY=!!d,N(n,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=pu(n),N(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),N(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){N(n,"transition",""),N(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function pu(r){return r.offsetWidth}function gu(r,e,t,n){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var Gt=[],ri={initializeByDefault:!0},Zr={mount:function(e){for(var t in ri)ri.hasOwnProperty(t)&&!(t in e)&&(e[t]=ri[t]);Gt.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Gt.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Gt.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][s]&&t[o.pluginName][s](ot({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](ot({sortable:t},n)))})},initializePlugins:function(e,t,n,i){Gt.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,pt(n,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,t){var n={};return Gt.forEach(function(i){typeof i.eventProperties=="function"&&pt(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return Gt.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(i=s.optionListeners[t].call(e[s.pluginName],n))}),i}};function _u(r){var e=r.sortable,t=r.rootEl,n=r.name,i=r.targetEl,s=r.cloneEl,o=r.toEl,a=r.fromEl,l=r.oldIndex,u=r.newIndex,c=r.oldDraggableIndex,d=r.newDraggableIndex,h=r.originalEvent,f=r.putSortable,v=r.extraEventProperties;if(e=e||t&&t[Ce],!!e){var p,g=e.options,S="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!_t&&!Qr?p=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(n,!0,!0)),p.to=o||t,p.from=a||t,p.item=i||t,p.clone=s,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=d,p.originalEvent=h,p.pullMode=f?f.lastPutMode:void 0;var _=ot(ot({},v),Zr.getEventProperties(n,e));for(var m in _)p[m]=_[m];t&&t.dispatchEvent(p),g[S]&&g[S].call(e,p)}}var mu=["evt"],$e=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,s=uu(n,mu);Zr.pluginEvent.bind(L)(e,t,ot({dragEl:k,parentEl:ae,ghostEl:U,rootEl:ne,nextEl:Nt,lastDownEl:mn,cloneEl:se,cloneHidden:kt,dragStarted:xr,putSortable:_e,activeSortable:L.active,originalEvent:i,oldIndex:sr,oldDraggableIndex:Rr,newIndex:Le,newDraggableIndex:Et,hideGhostForTarget:ra,unhideGhostForTarget:na,cloneNowHidden:function(){kt=!0},cloneNowShown:function(){kt=!1},dispatchSortableEvent:function(a){we({sortable:t,name:a,originalEvent:i})}},s))};function we(r){_u(ot({putSortable:_e,cloneEl:se,targetEl:k,rootEl:ne,oldIndex:sr,oldDraggableIndex:Rr,newIndex:Le,newDraggableIndex:Et},r))}var k,ae,U,ne,Nt,mn,se,kt,sr,Le,Rr,Et,sn,_e,nr=!1,jn=!1,In=[],Dt,Ve,ni,ii,$s,Os,xr,Jt,Nr,Lr=!1,on=!1,yn,ye,si=[],$i=!1,Rn=[],Vn=typeof document<"u",an=Ji,As=Qr||_t?"cssFloat":"float",yu=Vn&&!Wo&&!Ji&&"draggable"in document.createElement("div"),Zo=function(){if(Vn){if(_t)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),ea=function(e,t){var n=N(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=vr(e,0,t),o=vr(e,1,t),a=s&&N(s),l=o&&N(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+de(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+de(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&n[As]==="none"||o&&n[As]==="none"&&u+c>i)?"vertical":"horizontal"},bu=function(e,t,n){var i=n?e.left:e.top,s=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,u=n?t.width:t.height;return i===a||s===l||i+o/2===a+u/2},wu=function(e,t){var n;return In.some(function(i){var s=i[Ce].options.emptyInsertThreshold;if(!(!s||Vi(i))){var o=de(i),a=e>=o.left-s&&e<=o.right+s,l=t>=o.top-s&&t<=o.bottom+s;if(a&&l)return n=i}}),n},ta=function(e){function t(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return t(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var n={},i=e.group;(!i||_n(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},ra=function(){!Zo&&U&&N(U,"display","none")},na=function(){!Zo&&U&&N(U,"display","")};Vn&&!Wo&&document.addEventListener("click",function(r){if(jn)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),jn=!1,!1},!0);var jt=function(e){if(k){e=e.touches?e.touches[0]:e;var t=wu(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Ce]._onDragOver(n)}}},Eu=function(e){k&&k.parentNode[Ce]._isOutsideThisEl(e.target)};function L(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=pt({},e),r[Ce]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ea(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:L.supportPointer!==!1&&"PointerEvent"in window&&(!jr||Ji),emptyInsertThreshold:5};Zr.initializePlugins(this,r,t);for(var n in t)!(n in e)&&(e[n]=t[n]);ta(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:yu,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?z(r,"pointerdown",this._onTapStart):(z(r,"mousedown",this._onTapStart),z(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(z(r,"dragover",this),z(r,"dragenter",this)),In.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),pt(this,vu())}L.prototype={constructor:L,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Jt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,k):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(Pu(n),!k&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&jr&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ye(l,i.draggable,n,!1),!(l&&l.animated)&&mn!==l)){if(sr=He(l),Rr=He(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){we({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),$e("filter",t,{evt:e}),s&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ye(u,d.trim(),n,!1),d)return we({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:n,toEl:n}),$e("filter",t,{evt:e}),!0}),c)){s&&e.preventDefault();return}i.handle&&!Ye(u,i.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(n&&!k&&n.parentNode===s){var u=de(n);if(ne=s,k=n,ae=k.parentNode,Nt=k.nextSibling,mn=n,sn=o.group,L.dragged=k,Dt={target:k,clientX:(t||e).clientX,clientY:(t||e).clientY},$s=Dt.clientX-u.left,Os=Dt.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,k.style["will-change"]="all",l=function(){if($e("delayEnded",i,{evt:e}),L.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Es&&i.nativeDraggable&&(k.draggable=!0),i._triggerDragStart(e,t),we({sortable:i,name:"choose",originalEvent:e}),Re(k,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){Vo(k,c.trim(),oi)}),z(a,"dragover",jt),z(a,"mousemove",jt),z(a,"touchmove",jt),o.supportPointer?(z(a,"pointerup",i._onDrop),!this.nativeDraggable&&z(a,"pointercancel",i._onDrop)):(z(a,"mouseup",i._onDrop),z(a,"touchend",i._onDrop),z(a,"touchcancel",i._onDrop)),Es&&this.nativeDraggable&&(this.options.touchStartThreshold=4,k.draggable=!0),$e("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Qr||_t))){if(L.eventCanceled){this._onDrop();return}o.supportPointer?(z(a,"pointerup",i._disableDelayedDrag),z(a,"pointercancel",i._disableDelayedDrag)):(z(a,"mouseup",i._disableDelayedDrag),z(a,"touchend",i._disableDelayedDrag),z(a,"touchcancel",i._disableDelayedDrag)),z(a,"mousemove",i._delayedDragTouchMoveHandler),z(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&z(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){k&&oi(k),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;q(e,"mouseup",this._disableDelayedDrag),q(e,"touchend",this._disableDelayedDrag),q(e,"touchcancel",this._disableDelayedDrag),q(e,"pointerup",this._disableDelayedDrag),q(e,"pointercancel",this._disableDelayedDrag),q(e,"mousemove",this._delayedDragTouchMoveHandler),q(e,"touchmove",this._delayedDragTouchMoveHandler),q(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?z(document,"pointermove",this._onTouchMove):t?z(document,"touchmove",this._onTouchMove):z(document,"mousemove",this._onTouchMove):(z(k,"dragend",this),z(ne,"dragstart",this._onDragStart));try{document.selection?bn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(nr=!1,ne&&k){$e("dragStarted",this,{evt:t}),this.nativeDraggable&&z(document,"dragover",Eu);var n=this.options;!e&&Re(k,n.dragClass,!1),Re(k,n.ghostClass,!0),L.active=this,e&&this._appendGhost(),we({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ve){this._lastX=Ve.clientX,this._lastY=Ve.clientY,ra();for(var e=document.elementFromPoint(Ve.clientX,Ve.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ve.clientX,Ve.clientY),e!==t);)t=e;if(k.parentNode[Ce]._isOutsideThisEl(e),t)do{if(t[Ce]){var n=void 0;if(n=t[Ce]._onDragOver({clientX:Ve.clientX,clientY:Ve.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Jo(t));na()}},_onTouchMove:function(e){if(Dt){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=U&&or(U,!0),a=U&&o&&o.a,l=U&&o&&o.d,u=an&&ye&&Ts(ye),c=(s.clientX-Dt.clientX+i.x)/(a||1)+(u?u[0]-si[0]:0)/(a||1),d=(s.clientY-Dt.clientY+i.y)/(l||1)+(u?u[1]-si[1]:0)/(l||1);if(!L.active&&!nr){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(U){o?(o.e+=c-(ni||0),o.f+=d-(ii||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");N(U,"webkitTransform",h),N(U,"mozTransform",h),N(U,"msTransform",h),N(U,"transform",h),ni=c,ii=d,Ve=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!U){var e=this.options.fallbackOnBody?document.body:ne,t=de(k,!0,an,!0,e),n=this.options;if(an){for(ye=e;N(ye,"position")==="static"&&N(ye,"transform")==="none"&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=nt()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=nt(),si=Ts(ye)}U=k.cloneNode(!0),Re(U,n.ghostClass,!1),Re(U,n.fallbackClass,!0),Re(U,n.dragClass,!0),N(U,"transition",""),N(U,"transform",""),N(U,"box-sizing","border-box"),N(U,"margin",0),N(U,"top",t.top),N(U,"left",t.left),N(U,"width",t.width),N(U,"height",t.height),N(U,"opacity","0.8"),N(U,"position",an?"absolute":"fixed"),N(U,"zIndex","100000"),N(U,"pointerEvents","none"),L.ghost=U,e.appendChild(U),N(U,"transform-origin",$s/parseInt(U.style.width)*100+"% "+Os/parseInt(U.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,s=n.options;if($e("dragStart",this,{evt:e}),L.eventCanceled){this._onDrop();return}$e("setupClone",this),L.eventCanceled||(se=Xo(k),se.removeAttribute("id"),se.draggable=!1,se.style["will-change"]="",this._hideClone(),Re(se,this.options.chosenClass,!1),L.clone=se),n.cloneId=bn(function(){$e("clone",n),!L.eventCanceled&&(n.options.removeCloneOnHide||ne.insertBefore(se,k),n._hideClone(),we({sortable:n,name:"clone"}))}),!t&&Re(k,s.dragClass,!0),t?(jn=!0,n._loopId=setInterval(n._emulateDragOver,50)):(q(document,"mouseup",n._onDrop),q(document,"touchend",n._onDrop),q(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,k)),z(document,"drop",n),N(k,"transform","translateZ(0)")),nr=!0,n._dragStartId=bn(n._dragStarted.bind(n,t,e)),z(document,"selectstart",n),xr=!0,window.getSelection().removeAllRanges(),jr&&N(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,s,o,a=this.options,l=a.group,u=L.active,c=sn===l,d=a.sort,h=_e||u,f,v=this,p=!1;if($i)return;function g($,R){$e($,v,ot({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:n,completed:_,onMove:function(V,Q){return ln(ne,t,k,i,V,de(V),e,Q)},changed:m},R))}function S(){g("dragOverAnimationCapture"),v.captureAnimationState(),v!==h&&h.captureAnimationState()}function _($){return g("dragOverCompleted",{insertion:$}),$&&(c?u._hideClone():u._showClone(v),v!==h&&(Re(k,_e?_e.options.ghostClass:u.options.ghostClass,!1),Re(k,a.ghostClass,!0)),_e!==v&&v!==L.active?_e=v:v===L.active&&_e&&(_e=null),h===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){g("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===k&&!k.animated||n===t&&!n.animated)&&(Jt=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(k.parentNode[Ce]._isOutsideThisEl(e.target),!$&&jt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function m(){Le=He(k),Et=He(k,a.draggable),we({sortable:v,name:"change",toEl:t,newIndex:Le,newDraggableIndex:Et,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Ye(n,a.draggable,t,!0),g("dragOver"),L.eventCanceled)return p;if(k.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return _(!1);if(jn=!1,u&&!a.disabled&&(c?d||(o=ae!==ne):_e===this||(this.lastPutMode=sn.checkPull(this,u,k,e))&&l.checkPut(this,u,k,e))){if(f=this._getDirection(e,n)==="vertical",i=de(k),g("dragOverValid"),L.eventCanceled)return p;if(o)return ae=ne,S(),this._hideClone(),g("revert"),L.eventCanceled||(Nt?ne.insertBefore(k,Nt):ne.appendChild(k)),_(!0);var y=Vi(t,a.draggable);if(!y||$u(e,f,this)&&!y.animated){if(y===k)return _(!1);if(y&&t===e.target&&(n=y),n&&(s=de(n)),ln(ne,t,k,i,n,s,e,!!n)!==!1)return S(),y&&y.nextSibling?t.insertBefore(k,y.nextSibling):t.appendChild(k),ae=t,m(),_(!0)}else if(y&&Tu(e,f,this)){var w=vr(t,0,a,!0);if(w===k)return _(!1);if(n=w,s=de(n),ln(ne,t,k,i,n,s,e,!1)!==!1)return S(),t.insertBefore(k,w),ae=t,m(),_(!0)}else if(n.parentNode===t){s=de(n);var P=0,T,I=k.parentNode!==t,F=!bu(k.animated&&k.toRect||i,n.animated&&n.toRect||s,f),C=f?"top":"left",O=ks(n,"top","top")||ks(k,"top","top"),J=O?O.scrollTop:void 0;Jt!==n&&(T=s[C],Lr=!1,on=!F&&a.invertSwap||I),P=Ou(e,n,s,f,F?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,on,Jt===n);var ie;if(P!==0){var x=He(k);do x-=P,ie=ae.children[x];while(ie&&(N(ie,"display")==="none"||ie===U))}if(P===0||ie===n)return _(!1);Jt=n,Nr=P;var E=n.nextElementSibling,b=!1;b=P===1;var A=ln(ne,t,k,i,n,s,e,b);if(A!==!1)return(A===1||A===-1)&&(b=A===1),$i=!0,setTimeout(ku,30),S(),b&&!E?t.appendChild(k):n.parentNode.insertBefore(k,b?E:n),O&&Ko(O,0,J-O.scrollTop),ae=k.parentNode,T!==void 0&&!on&&(yn=Math.abs(T-de(n)[C])),m(),_(!0)}if(t.contains(k))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){q(document,"mousemove",this._onTouchMove),q(document,"touchmove",this._onTouchMove),q(document,"pointermove",this._onTouchMove),q(document,"dragover",jt),q(document,"mousemove",jt),q(document,"touchmove",jt)},_offUpEvents:function(){var e=this.el.ownerDocument;q(e,"mouseup",this._onDrop),q(e,"touchend",this._onDrop),q(e,"pointerup",this._onDrop),q(e,"pointercancel",this._onDrop),q(e,"touchcancel",this._onDrop),q(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Le=He(k),Et=He(k,n.draggable),$e("drop",this,{evt:e}),ae=k&&k.parentNode,Le=He(k),Et=He(k,n.draggable),L.eventCanceled){this._nulling();return}nr=!1,on=!1,Lr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Oi(this.cloneId),Oi(this._dragStartId),this.nativeDraggable&&(q(document,"drop",this),q(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),jr&&N(document.body,"user-select",""),N(k,"transform",""),e&&(xr&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),U&&U.parentNode&&U.parentNode.removeChild(U),(ne===ae||_e&&_e.lastPutMode!=="clone")&&se&&se.parentNode&&se.parentNode.removeChild(se),k&&(this.nativeDraggable&&q(k,"dragend",this),oi(k),k.style["will-change"]="",xr&&!nr&&Re(k,_e?_e.options.ghostClass:this.options.ghostClass,!1),Re(k,this.options.chosenClass,!1),we({sortable:this,name:"unchoose",toEl:ae,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==ae?(Le>=0&&(we({rootEl:ae,name:"add",toEl:ae,fromEl:ne,originalEvent:e}),we({sortable:this,name:"remove",toEl:ae,originalEvent:e}),we({rootEl:ae,name:"sort",toEl:ae,fromEl:ne,originalEvent:e}),we({sortable:this,name:"sort",toEl:ae,originalEvent:e})),_e&&_e.save()):Le!==sr&&Le>=0&&(we({sortable:this,name:"update",toEl:ae,originalEvent:e}),we({sortable:this,name:"sort",toEl:ae,originalEvent:e})),L.active&&((Le==null||Le===-1)&&(Le=sr,Et=Rr),we({sortable:this,name:"end",toEl:ae,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){$e("nulling",this),ne=k=ae=U=Nt=se=mn=kt=Dt=Ve=xr=Le=Et=sr=Rr=Jt=Nr=_e=sn=L.dragged=L.ghost=L.clone=L.active=null,Rn.forEach(function(e){e.checked=!0}),Rn.length=ni=ii=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":k&&(this._onDragOver(e),Su(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,s=n.length,o=this.options;i<s;i++)t=n[i],Ye(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||xu(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Ye(a,this.options.draggable,i,!1)&&(n[s]=a)},this),t&&this.captureAnimationState(),e.forEach(function(s){n[s]&&(i.removeChild(n[s]),i.appendChild(n[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ye(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=Zr.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&ta(n)},destroy:function(){$e("destroy",this);var e=this.el;e[Ce]=null,q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart),q(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),In.splice(In.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!kt){if($e("hideClone",this),L.eventCanceled)return;N(se,"display","none"),this.options.removeCloneOnHide&&se.parentNode&&se.parentNode.removeChild(se),kt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(kt){if($e("showClone",this),L.eventCanceled)return;k.parentNode==ne&&!this.options.group.revertClone?ne.insertBefore(se,k):Nt?ne.insertBefore(se,Nt):ne.appendChild(se),this.options.group.revertClone&&this.animate(k,se),N(se,"display",""),kt=!1}}};function Su(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function ln(r,e,t,n,i,s,o,a){var l,u=r[Ce],c=u.options.onMove,d;return window.CustomEvent&&!_t&&!Qr?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=r,l.dragged=t,l.draggedRect=n,l.related=i||e,l.relatedRect=s||de(e),l.willInsertAfter=a,l.originalEvent=o,r.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function oi(r){r.draggable=!1}function ku(){$i=!1}function Tu(r,e,t){var n=de(vr(t.el,0,t.options,!0)),i=Qo(t.el,t.options,U),s=10;return e?r.clientX<i.left-s||r.clientY<n.top&&r.clientX<n.right:r.clientY<i.top-s||r.clientY<n.bottom&&r.clientX<n.left}function $u(r,e,t){var n=de(Vi(t.el,t.options.draggable)),i=Qo(t.el,t.options,U),s=10;return e?r.clientX>i.right+s||r.clientY>n.bottom&&r.clientX>n.left:r.clientY>i.bottom+s||r.clientX>n.right&&r.clientY>n.top}function Ou(r,e,t,n,i,s,o,a){var l=n?r.clientY:r.clientX,u=n?t.height:t.width,c=n?t.top:t.left,d=n?t.bottom:t.right,h=!1;if(!o){if(a&&yn<u*i){if(!Lr&&(Nr===1?l>c+u*s/2:l<d-u*s/2)&&(Lr=!0),Lr)h=!0;else if(Nr===1?l<c+yn:l>d-yn)return-Nr}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return Au(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function Au(r){return He(k)<He(r)?1:-1}function xu(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Pu(r){Rn.length=0;for(var e=r.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Rn.push(n)}}function bn(r){return setTimeout(r,0)}function Oi(r){return clearTimeout(r)}Vn&&z(document,"touchmove",function(r){(L.active||nr)&&r.cancelable&&r.preventDefault()});L.utils={on:z,off:q,css:N,find:Vo,is:function(e,t){return!!Ye(e,t,e,!1)},extend:hu,throttle:Yo,closest:Ye,toggleClass:Re,clone:Xo,index:He,nextTick:bn,cancelNextTick:Oi,detectDirection:ea,getChild:vr,expando:Ce};L.get=function(r){return r[Ce]};L.mount=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(L.utils=ot(ot({},L.utils),n.utils)),Zr.mount(n)})};L.create=function(r,e){return new L(r,e)};L.version=cu;var ce=[],Pr,Ai,xi=!1,ai,li,Nn,Cr;function Cu(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?z(document,"dragover",this._handleAutoScroll):this.options.supportPointer?z(document,"pointermove",this._handleFallbackAutoScroll):n.touches?z(document,"touchmove",this._handleFallbackAutoScroll):z(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):(q(document,"pointermove",this._handleFallbackAutoScroll),q(document,"touchmove",this._handleFallbackAutoScroll),q(document,"mousemove",this._handleFallbackAutoScroll)),xs(),wn(),fu()},nulling:function(){Nn=Ai=Pr=xi=Cr=ai=li=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(s,o);if(Nn=t,n||this.options.forceAutoScrollFallback||Qr||_t||jr){ui(t,this.options,a,n);var l=Ot(a,!0);xi&&(!Cr||s!==ai||o!==li)&&(Cr&&xs(),Cr=setInterval(function(){var u=Ot(document.elementFromPoint(s,o),!0);u!==l&&(l=u,wn()),ui(t,i.options,u,n)},10),ai=s,li=o)}else{if(!this.options.bubbleScroll||Ot(a,!0)===nt()){wn();return}ui(t,this.options,Ot(a,!1),!1)}}},pt(r,{pluginName:"scroll",initializeByDefault:!0})}function wn(){ce.forEach(function(r){clearInterval(r.pid)}),ce=[]}function xs(){clearInterval(Cr)}var ui=Yo(function(r,e,t,n){if(e.scroll){var i=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=nt(),u=!1,c;Ai!==t&&(Ai=t,wn(),Pr=e.scroll,c=e.scrollFn,Pr===!0&&(Pr=Ot(t,!0)));var d=0,h=Pr;do{var f=h,v=de(f),p=v.top,g=v.bottom,S=v.left,_=v.right,m=v.width,y=v.height,w=void 0,P=void 0,T=f.scrollWidth,I=f.scrollHeight,F=N(f),C=f.scrollLeft,O=f.scrollTop;f===l?(w=m<T&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),P=y<I&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(w=m<T&&(F.overflowX==="auto"||F.overflowX==="scroll"),P=y<I&&(F.overflowY==="auto"||F.overflowY==="scroll"));var J=w&&(Math.abs(_-i)<=o&&C+m<T)-(Math.abs(S-i)<=o&&!!C),ie=P&&(Math.abs(g-s)<=o&&O+y<I)-(Math.abs(p-s)<=o&&!!O);if(!ce[d])for(var x=0;x<=d;x++)ce[x]||(ce[x]={});(ce[d].vx!=J||ce[d].vy!=ie||ce[d].el!==f)&&(ce[d].el=f,ce[d].vx=J,ce[d].vy=ie,clearInterval(ce[d].pid),(J!=0||ie!=0)&&(u=!0,ce[d].pid=setInterval((function(){n&&this.layer===0&&L.active._onTouchMove(Nn);var E=ce[this.layer].vy?ce[this.layer].vy*a:0,b=ce[this.layer].vx?ce[this.layer].vx*a:0;typeof c=="function"&&c.call(L.dragged.parentNode[Ce],b,E,r,Nn,ce[this.layer].el)!=="continue"||Ko(ce[this.layer].el,b,E)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=Ot(h,!1)));xi=u}},30),ia=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var u=n||s;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Yi(){}Yi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=vr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ia};pt(Yi,{pluginName:"revertOnSpill"});function Ki(){}Ki.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:ia};pt(Ki,{pluginName:"removeOnSpill"});L.mount(new Cu);L.mount(Ki,Yi);const Du="modulepreload",ju=function(r){return"/github-projects-dashboard/"+r},Ps={},pr=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(u=>{if(u=ju(u),u in Ps)return;Ps[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Du,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Iu=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>pr(async()=>{const{default:n}=await Promise.resolve().then(()=>Er);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Xi extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Ru extends Xi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nu extends Xi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lu extends Xi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pi;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Pi||(Pi={}));var Mu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class Uu{constructor(e,{headers:t={},customFetch:n,region:i=Pi.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Iu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Mu(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(v=>{throw new Ru(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new Nu(c);if(!c.ok)throw new Lu(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield c.json():h==="application/octet-stream"?f=yield c.blob():h==="text/event-stream"?f=c:h==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function Qi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Fu(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var ve={},Vt={},Yt={},Kt={},Xt={},Qt={},Bu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gr=Bu();const qu=gr.fetch,sa=gr.fetch.bind(gr),oa=gr.Headers,Hu=gr.Request,zu=gr.Response,Er=Object.freeze(Object.defineProperty({__proto__:null,Headers:oa,Request:Hu,Response:zu,default:sa,fetch:qu},Symbol.toStringTag,{value:"Module"})),Wu=Fu(Er);var un={},Cs;function aa(){if(Cs)return un;Cs=1,Object.defineProperty(un,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return un.default=r,un}var Ds;function la(){if(Ds)return Qt;Ds=1;var r=Qt&&Qt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qt,"__esModule",{value:!0});const e=r(Wu),t=r(aa());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h;let f=null,v=null,p=null,g=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const w=await u.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=w:v=JSON.parse(w))}const m=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),y=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,p=null,g=406,S="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const m=await u.text();try{f=JSON.parse(m),Array.isArray(f)&&u.status===404&&(v=[],f=null,g=200,S="OK")}catch{u.status===404&&m===""?(g=204,S="No Content"):f={message:m}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,g=200,S="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:v,count:p,status:g,statusText:S}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Qt.default=n,Qt}var js;function ua(){if(js)return Xt;js=1;var r=Xt&&Xt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xt,"__esModule",{value:!0});const e=r(la());class t extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xt.default=t,Xt}var Is;function Zi(){if(Is)return Kt;Is=1;var r=Kt&&Kt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kt,"__esModule",{value:!0});const e=r(ua());class t extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Kt.default=t,Kt}var Rs;function ca(){if(Rs)return Yt;Rs=1;var r=Yt&&Yt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yt,"__esModule",{value:!0});const e=r(Zi());class t{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Yt.default=t,Yt}var $r={},Or={},Ns;function Gu(){return Ns||(Ns=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.version=void 0,Or.version="0.0.0-automated"),Or}var Ls;function Ju(){if(Ls)return $r;Ls=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.DEFAULT_HEADERS=void 0;const r=Gu();return $r.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},$r}var Ms;function Vu(){if(Ms)return Vt;Ms=1;var r=Vt&&Vt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vt,"__esModule",{value:!0});const e=r(ca()),t=r(Zi()),n=Ju();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{h.searchParams.append(p,g)})):(d="POST",f=a);const v=Object.assign({},this.headers);return c&&(v.Prefer=`count=${c}`),new t.default({method:d,url:h,headers:v,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return Vt.default=i,Vt}var Us;function Yu(){if(Us)return ve;Us=1;var r=ve&&ve.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const e=r(Vu());ve.PostgrestClient=e.default;const t=r(ca());ve.PostgrestQueryBuilder=t.default;const n=r(Zi());ve.PostgrestFilterBuilder=n.default;const i=r(ua());ve.PostgrestTransformBuilder=i.default;const s=r(la());ve.PostgrestBuilder=s.default;const o=r(aa());return ve.PostgrestError=o.default,ve.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},ve}var Ku=Yu();const Xu=Qi(Ku),{PostgrestClient:Qu,PostgrestQueryBuilder:Oh,PostgrestFilterBuilder:Ah,PostgrestTransformBuilder:xh,PostgrestBuilder:Ph,PostgrestError:Ch}=Xu,Zu="2.11.2",ec={"X-Client-Info":`realtime-js/${Zu}`},tc="1.0.0",da=1e4,rc=1e3;var ar;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ar||(ar={}));var Me;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Me||(Me={}));var Ke;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ke||(Ke={}));var Ci;(function(r){r.websocket="websocket"})(Ci||(Ci={}));var Ut;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ut||(Ut={}));class nc{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ha{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(te||(te={}));const Fs=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=ic(o,r,e,i),s),{})},ic=(r,e,t,n)=>{const i=e.find(a=>a.name===r),s=i==null?void 0:i.type,o=t[r];return s&&!n.includes(s)?fa(s,o):Di(o)},fa=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return lc(e,t)}switch(r){case te.bool:return sc(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return oc(e);case te.json:case te.jsonb:return ac(e);case te.timestamp:return uc(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Di(e);default:return Di(e)}},Di=r=>r,sc=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},oc=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ac=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},lc=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const o=r.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>fa(e,a))}return r},uc=r=>typeof r=="string"?r.replace(" ","T"):r,va=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ci{constructor(e,t,n={},i=da){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bs;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Bs||(Bs={}));class Mr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Mr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const h=c.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),v=c.filter(g=>f.indexOf(g.presence_ref)<0),p=d.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(a[u]=v),p.length>0&&(l[u]=p)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qs;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(qs||(qs={}));var Hs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Hs||(Hs={}));var at;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class es{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ci(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new ha(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Mr(this),this.broadcastEndpointURL=va(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(at.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(at.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(at.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,v=[];for(let p=0;p<f;p++){const g=h[p],{filter:{event:S,schema:_,table:m,filter:y}}=g,w=c&&c[p];if(w&&w.event===S&&w.schema===_&&w.table===m&&w.filter===y)v.push(Object.assign(Object.assign({},g),{id:w.id}));else{this.unsubscribe(),e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(at.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Me.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new ci(this,Ke.leave,{},e);i.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ci(this,e,t,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ke;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,p,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var v,p,g,S,_,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const y=f.id,w=(v=f.filter)===null||v===void 0?void 0:v.event;return y&&((p=t.ids)===null||p===void 0?void 0:p.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const y=(_=(S=f==null?void 0:f.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return y==="*"||y===((m=t==null?void 0:t.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:S,type:_,errors:m}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:S,eventType:_,new:{},old:{},errors:m}),this._getPayloadRecords(v))}f.callback(h,n)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&es.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Fs(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Fs(e.columns,e.old_record)),t}}const cc=()=>{},dc=typeof WebSocket<"u",hc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fc{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ec,this.params={},this.timeout=da,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new nc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>pr(async()=>{const{default:l}=await Promise.resolve().then(()=>Er);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ci.websocket}`,this.httpEndpoint=va(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ha(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dc){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pr(async()=>{const{default:e}=await import("./browser-CP9T9qqr.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tc}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ar.connecting:return Ut.Connecting;case ar.open:return Ut.Open;case ar.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}channel(e,t={config:{}}){const n=new es(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Ke.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(rc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:i,payload:s,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([hc],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class vc{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ar.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ts extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class pc extends ts{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ji extends ts{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var gc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const pa=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>pr(async()=>{const{default:n}=await Promise.resolve().then(()=>Er);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},_c=()=>gc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pr(()=>Promise.resolve().then(()=>Er),void 0)).Response:Response}),Ii=r=>{if(Array.isArray(r))return r.map(t=>Ii(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ii(n)}),e};var Ht=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const di=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),mc=(r,e,t)=>Ht(void 0,void 0,void 0,function*(){const n=yield _c();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{e(new pc(di(i),r.status||500))}).catch(i=>{e(new ji(di(i),i))}):e(new ji(di(r),r))}),yc=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),t))};function en(r,e,t,n,i,s){return Ht(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,yc(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>mc(l,a,n))})})}function Ln(r,e,t,n){return Ht(this,void 0,void 0,function*(){return en(r,"GET",e,t,n)})}function St(r,e,t,n,i){return Ht(this,void 0,void 0,function*(){return en(r,"POST",e,n,i,t)})}function bc(r,e,t,n,i){return Ht(this,void 0,void 0,function*(){return en(r,"PUT",e,n,i,t)})}function wc(r,e,t,n){return Ht(this,void 0,void 0,function*(){return en(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function ga(r,e,t,n,i){return Ht(this,void 0,void 0,function*(){return en(r,"DELETE",e,n,i,t)})}var Oe=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const Ec={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sc{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=pa(i)}uploadOrUpdate(e,t,n,i){return Oe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},zs),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return Oe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:zs.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield St(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new ts("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}update(e,t,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}copy(e,t,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return Oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield St(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return Oe(this,void 0,void 0,function*(){try{const i=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}download(e,t){return Oe(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ln(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}info(e){return Oe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Ln(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ii(n),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}exists(e){return Oe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield wc(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pe(n)&&n instanceof ji){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}list(e,t,n){return Oe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ec),t),{prefix:e||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const kc="2.7.1",Tc={"X-Client-Info":`storage-js/${kc}`};var Zt=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class $c{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Tc),t),this.fetch=pa(n)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Zt(this,void 0,void 0,function*(){try{return{data:yield bc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}}class Oc extends $c{constructor(e,t={},n){super(e,t,n)}from(e){return new Sc(this.url,this.headers,e,this.fetch)}}const Ac="2.49.4";let Dr="";typeof Deno<"u"?Dr="deno":typeof document<"u"?Dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dr="react-native":Dr="node";const xc={"X-Client-Info":`supabase-js-${Dr}/${Ac}`},Pc={headers:xc},Cc={schema:"public"},Dc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jc={};var Ic=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};const Rc=r=>{let e;return r?e=r:typeof fetch>"u"?e=sa:e=fetch,(...t)=>e(...t)},Nc=()=>typeof Headers>"u"?oa:Headers,Lc=(r,e,t)=>{const n=Rc(t),i=Nc();return(s,o)=>Ic(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var Mc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};function Uc(r){return r.replace(/\/$/,"")}function Fc(r,e){const{db:t,auth:n,realtime:i,global:s}=r,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>Mc(this,void 0,void 0,function*(){return""})};return r.accessToken?c.accessToken=r.accessToken:delete c.accessToken,c}const _a="2.69.1",ir=30*1e3,Ri=3,hi=Ri*ir,Bc="http://localhost:9999",qc="supabase.auth.token",Hc={"X-Client-Info":`gotrue-js/${_a}`},Ni="X-Supabase-Api-Version",ma={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zc=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wc=6e5;class rs extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function B(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Gc extends rs{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Jc(r){return B(r)&&r.name==="AuthApiError"}class ya extends rs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ct extends rs{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class yt extends Ct{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vc(r){return B(r)&&r.name==="AuthSessionMissingError"}class fi extends Ct{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cn extends Ct{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dn extends Ct{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yc(r){return B(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ws extends Ct{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Li extends Ct{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function vi(r){return B(r)&&r.name==="AuthRetryableFetchError"}class Gs extends Ct{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ur extends Ct{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vs=` 	
\r=`.split(""),Kc=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Vs.length;e+=1)r[Vs[e].charCodeAt(0)]=-2;for(let e=0;e<Js.length;e+=1)r[Js[e].charCodeAt(0)]=e;return r})();function ba(r,e,t){const n=Kc[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Ys(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Zc(o,n,t)};for(let o=0;o<r.length;o+=1)ba(r.charCodeAt(o),i,s);return e.join("")}function Xc(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Qc(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Xc(n,e)}}function Zc(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ed(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)ba(r.charCodeAt(i),t,n);return new Uint8Array(e)}function td(r){const e=[];return Qc(r,t=>e.push(t)),new Uint8Array(e)}function rd(r){return Math.round(Date.now()/1e3)+r}function nd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},Fr=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function id(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const wa=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>pr(async()=>{const{default:n}=await Promise.resolve().then(()=>Er);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},sd=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ea=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},hn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},fn=async(r,e)=>{await r.removeItem(e)};class Yn{constructor(){this.promise=new Yn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Yn.promiseConstructor=Promise;function pi(r){const e=r.split(".");if(e.length!==3)throw new Ur("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zc.test(e[n]))throw new Ur("JWT not in base64url format");return{header:JSON.parse(Ys(e[0])),payload:JSON.parse(Ys(e[1])),signature:ed(e[2]),raw:{header:e[0],payload:e[1]}}}async function od(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function ad(r,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await r(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function ld(r){return("0"+r.toString(16)).substr(-2)}function ud(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ld).join("")}async function cd(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function dd(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await cd(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function er(r,e,t=!1){const n=ud();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await Ea(r,`${e}-code-verifier`,i);const s=await dd(n);return[s,n===s?"plain":"s256"]}const hd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fd(r){const e=r.headers.get(Ni);if(!e||!e.match(hd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vd(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function pd(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Lt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),_d=[502,503,504];async function Ks(r){var e;if(!sd(r))throw new Li(Lt(r),0);if(_d.includes(r.status))throw new Li(Lt(r),r.status);let t;try{t=await r.json()}catch(s){throw new ya(Lt(s),s)}let n;const i=fd(r);if(i&&i.getTime()>=ma["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Gs(Lt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Gs(Lt(t),r.status,t.weak_password.reasons);throw new Gc(Lt(t),r.status||500,n)}const md=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function H(r,e,t,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Ni]||(s[Ni]=ma["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await yd(r,e,t+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function yd(r,e,t,n,i,s){const o=md(e,n,i,s);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Li(Lt(l),0)}if(a.ok||await Ks(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ks(l)}}function bt(r){var e;let t=null;Sd(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=rd(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Xs(r){const e=bt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Tt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function bd(r){return{data:r,error:null}}function wd(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s}=r,o=gd(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ed(r){return r}function Sd(r){return r.access_token&&r.refresh_token&&r.expires_in}var kd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};class Td{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=wa(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Tt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=kd(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wd,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(B(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(t){if(B(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ed});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(t){if(B(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Tt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Tt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(B(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(B(t))return{data:null,error:t};throw t}}}const $d={getItem:r=>Fr()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Fr()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Fr()&&globalThis.localStorage.removeItem(r)}};function Qs(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Od(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tr={debug:!!(globalThis&&Fr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ad extends Sa{}async function xd(r,e,t){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ad(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(tr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Od();const Pd={url:Bc,storageKey:qc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zs(r,e,t){return await t()}class Wr{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wr.nextInstanceID,Wr.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Pd),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Td({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wa(i.fetch),this.lock=i.lock||Zs,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:et()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=xd:this.lock=Zs,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Fr()?this.storage=$d:(this.memoryStorage={},this.storage=Qs(this.memoryStorage)):(this.memoryStorage={},this.storage=Qs(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_a}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=id(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Yc(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return B(t)?{error:t}:{error:new ya("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:bt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await er(this.storage,this.storageKey)),s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:bt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bt})}else throw new cn("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xs})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xs})}else throw new cn("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await hn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:s,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:bt});if(await fn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new fi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(B(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:bt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await er(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new cn("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:bt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await er(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:bd})}catch(s){if(B(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new yt;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await H(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await H(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new cn("You must provide either an email or phone number and a type")}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async t=>{var n,i,s;const{data:o,error:a}=t;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Tt})})}catch(t){if(B(t))return Vc(t)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new yt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await er(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yt;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:o}=pi(e.access_token);if(o.exp&&(n=o.exp,i=n<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(B(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yt;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new dn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ws("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ws("No code detected.");const{data:_,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new dn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await hn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jc(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=nd(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await er(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(B(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(B(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return et()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(B(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await ad(async i=>(i>0&&await od(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&vi(s)&&Date.now()+o-n<ir})}catch(n){if(this._debug(t,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),et()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await hn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<hi;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${hi}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),vi(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yn;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new yt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),B(s)){const o={session:null,error:s};return vi(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ea(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ir}ms, refresh threshold is ${Ri} ticks`),i<=Ri&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await er(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(B(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(B(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(B(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(B(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pi(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Wc>Date.now()))return n;const{data:i,error:s}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Ur("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===e),!n)throw new Ur("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};n=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=pi(n);if(vd(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=pd(i.alg),c=await this.fetchJwk(i.kid,t),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,td(`${a}.${l}`)))throw new Ur("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}Wr.nextInstanceID=0;const Cd=Wr;class Dd extends Cd{constructor(e){super(e)}}var jd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})};class Id{constructor(e,t,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=Uc(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Cc,realtime:jc,auth:Object.assign(Object.assign({},Dc),{storageKey:l}),global:Pc},c=Fc(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Lc(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Qu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Uu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Oc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dd({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rd=(r,e,t)=>new Id(r,e,t),vn=Rd("https://ptmcrrrrdsjgzfdawzkg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWNycnJyZHNqZ3pmZGF3emtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMDI4MzYsImV4cCI6MjA2MDU3ODgzNn0.E_jnXoiniR8-X_VBw3BebpeuBCSTGtZb5qgzMONcvDI");/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Nd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Ld=jl("<svg><!><!></svg>");function Je(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]),n=De(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Bt(e,!1);let i=le(e,"name",8,void 0),s=le(e,"color",8,"currentColor"),o=le(e,"size",8,24),a=le(e,"strokeWidth",8,2),l=le(e,"absoluteStrokeWidth",8,!1),u=le(e,"iconNode",24,()=>[]);const c=(...p)=>p.filter((g,S,_)=>!!g&&_.indexOf(g)===S).join(" ");wr();var d=Ld();let h;var f=j(d);Lo(f,1,u,Ll,(p,g)=>{let S=()=>D(g)[0],_=()=>D(g)[1];var m=je(),y=he(m);ql(y,S,!0,(w,P)=>{let T;Pe(()=>T=ps(w,T,{..._()}))}),W(p,m)});var v=G(f);Fe(v,e,"default",{}),Pe((p,g)=>h=ps(d,h,{...Nd,...n,width:o(),height:o(),stroke:s(),"stroke-width":p,class:g}),[()=>l()?Number(a())*24/Number(o()):a(),()=>c("lucide-icon","lucide",i()?`lucide-${i()}`:"",t.class)],Qe),W(r,d),qt()}function ka(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"book"},()=>t,{iconNode:[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Md(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Ud(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"chevron-right"},()=>t,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Fd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"code"},()=>t,{iconNode:[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function eo(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"github"},()=>t,{iconNode:[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["path",{d:"M9 18c-4.51 2-5-2-7-2"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Bd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"globe"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function qd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"loader"},()=>t,{iconNode:[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Hd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"lock"},()=>t,{iconNode:[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function zd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"log-out"},()=>t,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Wd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"panels-top-left"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M9 21V9"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Gd(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Ta(r,e){const t=De(e,["children","$$slots","$$events","$$legacy"]);Je(r,Ge({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(i,s)=>{var o=je(),a=he(o);Fe(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}const Jd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='26.6'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20308'%3e%3cpath%20fill='%23FF3E00'%20d='M239.682%2040.707C211.113-.182%20154.69-12.301%20113.895%2013.69L42.247%2059.356a82.198%2082.198%200%200%200-37.135%2055.056a86.566%2086.566%200%200%200%208.536%2055.576a82.425%2082.425%200%200%200-12.296%2030.719a87.596%2087.596%200%200%200%2014.964%2066.244c28.574%2040.893%2084.997%2053.007%20125.787%2027.016l71.648-45.664a82.182%2082.182%200%200%200%2037.135-55.057a86.601%2086.601%200%200%200-8.53-55.577a82.409%2082.409%200%200%200%2012.29-30.718a87.573%2087.573%200%200%200-14.963-66.244'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.889%20270.841c-23.102%206.007-47.497-3.036-61.103-22.648a52.685%2052.685%200%200%201-9.003-39.85a49.978%2049.978%200%200%201%201.713-6.693l1.35-4.115l3.671%202.697a92.447%2092.447%200%200%200%2028.036%2014.007l2.663.808l-.245%202.659a16.067%2016.067%200%200%200%202.89%2010.656a17.143%2017.143%200%200%200%2018.397%206.828a15.786%2015.786%200%200%200%204.403-1.935l71.67-45.672a14.922%2014.922%200%200%200%206.734-9.977a15.923%2015.923%200%200%200-2.713-12.011a17.156%2017.156%200%200%200-18.404-6.832a15.78%2015.78%200%200%200-4.396%201.933l-27.35%2017.434a52.298%2052.298%200%200%201-14.553%206.391c-23.101%206.007-47.497-3.036-61.101-22.649a52.681%2052.681%200%200%201-9.004-39.849a49.428%2049.428%200%200%201%2022.34-33.114l71.664-45.677a52.218%2052.218%200%200%201%2014.563-6.398c23.101-6.007%2047.497%203.036%2061.101%2022.648a52.685%2052.685%200%200%201%209.004%2039.85a50.559%2050.559%200%200%201-1.713%206.692l-1.35%204.116l-3.67-2.693a92.373%2092.373%200%200%200-28.037-14.013l-2.664-.809l.246-2.658a16.099%2016.099%200%200%200-2.89-10.656a17.143%2017.143%200%200%200-18.398-6.828a15.786%2015.786%200%200%200-4.402%201.935l-71.67%2045.674a14.898%2014.898%200%200%200-6.73%209.975a15.9%2015.9%200%200%200%202.709%2012.012a17.156%2017.156%200%200%200%2018.404%206.832a15.841%2015.841%200%200%200%204.402-1.935l27.345-17.427a52.147%2052.147%200%200%201%2014.552-6.397c23.101-6.006%2047.497%203.037%2061.102%2022.65a52.681%2052.681%200%200%201%209.003%2039.848a49.453%2049.453%200%200%201-22.34%2033.12l-71.664%2045.673a52.218%2052.218%200%200%201-14.563%206.398'%3e%3c/path%3e%3c/svg%3e";function lr(r,e){const t=n=>{n.key==="Escape"&&e(n)};return window.addEventListener("keydown",t),{destroy(){window.removeEventListener("keydown",t)}}}function ur(r){const e=document.body.style.overflow;return document.body.style.overflow="hidden",{destroy(){document.body.style.overflow=e}}}const Vd=r=>r;function Yd(r){const e=r-1;return e*e*e+1}function to(r,{delay:e=0,duration:t=400,easing:n=Vd}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*i}`}}function Kd(r,{delay:e=0,duration:t=400,easing:n=Yd,axis:i="y"}={}){const s=getComputedStyle(r),o=+s.opacity,a=i==="y"?"height":"width",l=parseFloat(s[a]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(S=>`${S[0].toUpperCase()}${S.slice(1)}`),d=parseFloat(s[`padding${c[0]}`]),h=parseFloat(s[`padding${c[1]}`]),f=parseFloat(s[`margin${c[0]}`]),v=parseFloat(s[`margin${c[1]}`]),p=parseFloat(s[`border${c[0]}Width`]),g=parseFloat(s[`border${c[1]}Width`]);return{delay:e,duration:t,easing:n,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*o};${a}: ${S*l}px;padding-${u[0]}: ${S*d}px;padding-${u[1]}: ${S*h}px;margin-${u[0]}: ${S*f}px;margin-${u[1]}: ${S*v}px;border-${u[0]}-width: ${S*p}px;border-${u[1]}-width: ${S*g}px;min-${a}: 0`}}var Xd=ge("<div></div>");function $a(r,e){let t=le(e,"topClass",8,"top-0"),n=le(e,"onClick",8,()=>{});var i=Xd();Pe(()=>Uo(i,1,`fixed left-0 right-0 bottom-0 z-40 bg-black bg-opacity-30 ${t()}`)),rt("click",i,function(...s){var o;(o=n())==null||o.apply(this,s)}),ki(1,i,()=>to,()=>({duration:150})),ki(2,i,()=>to,()=>({duration:0})),W(r,i)}var Qd=ge('<!> <div class="_slide-in-container top-0 w-80 p-4"><div class="flex items-center justify-between mb-4 relative"><div class="flex items-center gap-2"><img alt="Avatar" class="w-9 h-9 rounded-full border border-githubBorderColor"> <div class="flex flex-col text-sm leading-tight"><span class="font-bold text-githubPrimaryTextColor"> </span> <span class="text-githubSecondaryTextColor"> </span></div></div> <button aria-label="Close menu" class="text-githubSecondaryTextColor hover:bg-githubButtonHoverBgColor p-2.5 rounded-lg absolute top-0 right-0"><!></button></div> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link p-2 gap-2 mb-1"><!> Docs</a> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link p-2 gap-2 mb-1"><!> Code</a> <hr class="border-t border-1 border-githubDividerColor mt-2 mb-2"> <button class="_box-link p-2 gap-2 w-full hover:text-githubRedColor hover:bg-githubRedHoverBgColor"><!> Log out</button></div>',1);function Zd(r,e){Bt(e,!1);let t=le(e,"ghUsername",8),n=le(e,"ghFullName",8),i=le(e,"ghAvatarUrl",8),s=le(e,"onLogout",8),o=le(e,"onClose",8);`${t()}`,wr();var a=Qd(),l=he(a);$a(l,{get onClick(){return o()}});var u=G(l,2),c=j(u),d=j(c),h=j(d),f=G(h,2),v=j(f),p=j(v),g=G(v,2),S=j(g),_=G(d,2),m=j(_);Ta(m,{class:"_icon"});var y=G(c,2),w=j(y);ka(w,{class:"_icon"});var P=G(y,2),T=j(P);Fd(T,{class:"_icon"});var I=G(P,4),F=j(I);zd(F,{class:"_icon"}),Cn(u,(C,O)=>lr==null?void 0:lr(C,O),o),Cn(u,C=>ur==null?void 0:ur()),Pe(()=>{ct(h,"src",i()),Ee(p,t()),Ee(S,n())}),rt("click",_,function(...C){var O;(O=o())==null||O.apply(this,C)}),rt("click",y,function(...C){var O;(O=o())==null||O.apply(this,C)}),rt("click",P,function(...C){var O;(O=o())==null||O.apply(this,C)}),rt("click",I,()=>{o()(),s()()}),W(r,a),qt()}var eh=ge('<div class="flex items-center gap-3"><div class="flex items-center text gap-1"><a href="https://github.com" target="_blank" class="_box-link "><!>GitHub</a>/ <a target="_blank" class="_box-link "><!> </a>/ <a target="_blank" class="_box-link "><!>Projects</a></div> <button><img alt="Avatar" class="w-9 h-9 rounded-full border border-githubBorderColor"></button> <!></div>'),th=ge('<nav class="text-githubPrimaryTextColor font-semibold flex gap-2"><a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link font-semibold"><!>Docs</a> <a href="https://github.com/weibeld/github-projects-dashboard" target="_blank" class="_box-link font-semibold"><!>GitHub</a></nav>'),rh=ge('<header class="h-16 flex items-center justify-between px-4 bg-githubBgColor border-b border-githubBorderColor"><div class="text-xl font-semibold flex items-center gap-2"><img alt="Logo" class="w-8 h-8"> GitHub Projects Dashboard</div> <!></header>');function nh(r,e){Bt(e,!1);const t=xe(),n=xe(),i=xe(),s=xe(),o=xe(),a=xe();let l=le(e,"session",8),u=le(e,"onLogout",8),c=xe(!1);const d=()=>{Z(c,!1)};Rt(()=>Jn(l()),()=>{var _;Z(t,((_=l())==null?void 0:_.user)??null)}),Rt(()=>D(t),()=>{var _,m;Z(n,(m=(_=D(t))==null?void 0:_.user_metadata)==null?void 0:m.user_name)}),Rt(()=>D(t),()=>{var _,m;Z(i,(m=(_=D(t))==null?void 0:_.user_metadata)==null?void 0:m.full_name)}),Rt(()=>D(t),()=>{var _,m;Z(s,(m=(_=D(t))==null?void 0:_.user_metadata)==null?void 0:m.avatar_url)}),Rt(()=>D(n),()=>{Z(o,`https://github.com/${D(n)}`)}),Rt(()=>D(o),()=>{Z(a,`${D(o)}?tab=projects`)}),So(),wr();var h=rh(),f=j(h),v=j(f);ct(v,"src",Jd);var p=G(f,2);{var g=_=>{var m=eh(),y=j(m),w=j(y),P=j(w);eo(P,{class:"_icon"});var T=G(w,2),I=j(T);Gd(I,{class:"_icon"});var F=G(I,1,!0),C=G(T,2),O=j(C);Wd(O,{class:"_icon"});var J=G(y,2),ie=j(J),x=G(J,2);{var E=b=>{Zd(b,{get ghUsername(){return D(n)},get ghFullName(){return D(i)},get ghAvatarUrl(){return D(s)},get onLogout(){return u()},onClose:d})};Xe(x,b=>{D(c)&&b(E)})}Pe(()=>{ct(T,"href",D(o)),Ee(F,D(n)),ct(C,"href",D(a)),ct(ie,"src",D(s))}),rt("click",J,()=>Z(c,!D(c))),W(_,m)},S=_=>{var m=th(),y=j(m),w=j(y);ka(w,{class:"_icon"});var P=G(y,2),T=j(P);eo(T,{class:"_icon"}),W(_,m)};Xe(p,_=>{l()?_(g):_(S,!1)})}W(r,h),qt()}var En={exports:{}},ih=En.exports,ro;function sh(){return ro||(ro=1,function(r,e){(function(t,n){r.exports=n()})(ih,function(){var t=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",v="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var E=["th","st","nd","rd"],b=x%100;return"["+x+(E[(b-20)%10]||E[b]||E[0])+"]"}},m=function(x,E,b){var A=String(x);return!A||A.length>=E?x:""+Array(E+1-A.length).join(b)+x},y={s:m,z:function(x){var E=-x.utcOffset(),b=Math.abs(E),A=Math.floor(b/60),$=b%60;return(E<=0?"+":"-")+m(A,2,"0")+":"+m($,2,"0")},m:function x(E,b){if(E.date()<b.date())return-x(b,E);var A=12*(b.year()-E.year())+(b.month()-E.month()),$=E.clone().add(A,d),R=b-$<0,M=E.clone().add(A+(R?-1:1),d);return+(-(A+(b-$)/(R?$-M:M-$))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:d,y:f,w:c,d:u,D:v,h:l,m:a,s:o,ms:s,Q:h}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},w="en",P={};P[w]=_;var T="$isDayjsObject",I=function(x){return x instanceof J||!(!x||!x[T])},F=function x(E,b,A){var $;if(!E)return w;if(typeof E=="string"){var R=E.toLowerCase();P[R]&&($=R),b&&(P[R]=b,$=R);var M=E.split("-");if(!$&&M.length>1)return x(M[0])}else{var V=E.name;P[V]=E,$=V}return!A&&$&&(w=$),$||!A&&w},C=function(x,E){if(I(x))return x.clone();var b=typeof E=="object"?E:{};return b.date=x,b.args=arguments,new J(b)},O=y;O.l=F,O.i=I,O.w=function(x,E){return C(x,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var J=function(){function x(b){this.$L=F(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[T]=!0}var E=x.prototype;return E.parse=function(b){this.$d=function(A){var $=A.date,R=A.utc;if($===null)return new Date(NaN);if(O.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var M=$.match(g);if(M){var V=M[2]-1||0,Q=(M[7]||"0").substring(0,3);return R?new Date(Date.UTC(M[1],V,M[3]||1,M[4]||0,M[5]||0,M[6]||0,Q)):new Date(M[1],V,M[3]||1,M[4]||0,M[5]||0,M[6]||0,Q)}}return new Date($)}(b),this.init()},E.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},E.$utils=function(){return O},E.isValid=function(){return this.$d.toString()!==p},E.isSame=function(b,A){var $=C(b);return this.startOf(A)<=$&&$<=this.endOf(A)},E.isAfter=function(b,A){return C(b)<this.startOf(A)},E.isBefore=function(b,A){return this.endOf(A)<C(b)},E.$g=function(b,A,$){return O.u(b)?this[A]:this.set($,b)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(b,A){var $=this,R=!!O.u(A)||A,M=O.p(b),V=function(Ie,fe){var Be=O.w($.$u?Date.UTC($.$y,fe,Ie):new Date($.$y,fe,Ie),$);return R?Be:Be.endOf(u)},Q=function(Ie,fe){return O.w($.toDate()[Ie].apply($.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(fe)),$)},oe=this.$W,ue=this.$M,me=this.$D,K="set"+(this.$u?"UTC":"");switch(M){case f:return R?V(1,0):V(31,11);case d:return R?V(1,ue):V(0,ue+1);case c:var ee=this.$locale().weekStart||0,be=(oe<ee?oe+7:oe)-ee;return V(R?me-be:me+(6-be),ue);case u:case v:return Q(K+"Hours",0);case l:return Q(K+"Minutes",1);case a:return Q(K+"Seconds",2);case o:return Q(K+"Milliseconds",3);default:return this.clone()}},E.endOf=function(b){return this.startOf(b,!1)},E.$set=function(b,A){var $,R=O.p(b),M="set"+(this.$u?"UTC":""),V=($={},$[u]=M+"Date",$[v]=M+"Date",$[d]=M+"Month",$[f]=M+"FullYear",$[l]=M+"Hours",$[a]=M+"Minutes",$[o]=M+"Seconds",$[s]=M+"Milliseconds",$)[R],Q=R===u?this.$D+(A-this.$W):A;if(R===d||R===f){var oe=this.clone().set(v,1);oe.$d[V](Q),oe.init(),this.$d=oe.set(v,Math.min(this.$D,oe.daysInMonth())).$d}else V&&this.$d[V](Q);return this.init(),this},E.set=function(b,A){return this.clone().$set(b,A)},E.get=function(b){return this[O.p(b)]()},E.add=function(b,A){var $,R=this;b=Number(b);var M=O.p(A),V=function(ue){var me=C(R);return O.w(me.date(me.date()+Math.round(ue*b)),R)};if(M===d)return this.set(d,this.$M+b);if(M===f)return this.set(f,this.$y+b);if(M===u)return V(1);if(M===c)return V(7);var Q=($={},$[a]=n,$[l]=i,$[o]=t,$)[M]||1,oe=this.$d.getTime()+b*Q;return O.w(oe,this)},E.subtract=function(b,A){return this.add(-1*b,A)},E.format=function(b){var A=this,$=this.$locale();if(!this.isValid())return $.invalidDate||p;var R=b||"YYYY-MM-DDTHH:mm:ssZ",M=O.z(this),V=this.$H,Q=this.$m,oe=this.$M,ue=$.weekdays,me=$.months,K=$.meridiem,ee=function(fe,Be,Sr,tn){return fe&&(fe[Be]||fe(A,R))||Sr[Be].slice(0,tn)},be=function(fe){return O.s(V%12||12,fe,"0")},Ie=K||function(fe,Be,Sr){var tn=fe<12?"AM":"PM";return Sr?tn.toLowerCase():tn};return R.replace(S,function(fe,Be){return Be||function(Sr){switch(Sr){case"YY":return String(A.$y).slice(-2);case"YYYY":return O.s(A.$y,4,"0");case"M":return oe+1;case"MM":return O.s(oe+1,2,"0");case"MMM":return ee($.monthsShort,oe,me,3);case"MMMM":return ee(me,oe);case"D":return A.$D;case"DD":return O.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return ee($.weekdaysMin,A.$W,ue,2);case"ddd":return ee($.weekdaysShort,A.$W,ue,3);case"dddd":return ue[A.$W];case"H":return String(V);case"HH":return O.s(V,2,"0");case"h":return be(1);case"hh":return be(2);case"a":return Ie(V,Q,!0);case"A":return Ie(V,Q,!1);case"m":return String(Q);case"mm":return O.s(Q,2,"0");case"s":return String(A.$s);case"ss":return O.s(A.$s,2,"0");case"SSS":return O.s(A.$ms,3,"0");case"Z":return M}return null}(fe)||M.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(b,A,$){var R,M=this,V=O.p(A),Q=C(b),oe=(Q.utcOffset()-this.utcOffset())*n,ue=this-Q,me=function(){return O.m(M,Q)};switch(V){case f:R=me()/12;break;case d:R=me();break;case h:R=me()/3;break;case c:R=(ue-oe)/6048e5;break;case u:R=(ue-oe)/864e5;break;case l:R=ue/i;break;case a:R=ue/n;break;case o:R=ue/t;break;default:R=ue}return $?R:O.a(R)},E.daysInMonth=function(){return this.endOf(d).$D},E.$locale=function(){return P[this.$L]},E.locale=function(b,A){if(!b)return this.$L;var $=this.clone(),R=F(b,A,!0);return R&&($.$L=R),$},E.clone=function(){return O.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},x}(),ie=J.prototype;return C.prototype=ie,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",v]].forEach(function(x){ie[x[1]]=function(E){return this.$g(E,x[0],x[1])}}),C.extend=function(x,E){return x.$i||(x(E,J,C),x.$i=!0),C},C.locale=F,C.isDayjs=I,C.unix=function(x){return C(1e3*x)},C.en=P[w],C.Ls=P,C.p={},C})}(En)),En.exports}var oh=sh();const gi=Qi(oh);var Sn={exports:{}},ah=Sn.exports,no;function lh(){return no||(no=1,function(r,e){(function(t,n){r.exports=n()})(ah,function(){return function(t,n,i){t=t||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,d,h){return s.fromToBase(u,c,d,h)}i.en.relativeTime=o,s.fromToBase=function(u,c,d,h,f){for(var v,p,g,S=d.$locale().relativeTime||o,_=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=_.length,y=0;y<m;y+=1){var w=_[y];w.d&&(v=h?i(u).diff(d,w.d,!0):d.diff(u,w.d,!0));var P=(t.rounding||Math.round)(Math.abs(v));if(g=v>0,P<=w.r||!w.r){P<=1&&y>0&&(w=_[y-1]);var T=S[w.l];f&&(P=f(""+P)),p=typeof T=="string"?T.replace("%d",P):T(P,c,w.l,g);break}}if(c)return p;var I=g?S.future:S.past;return typeof I=="function"?I(p):I.replace("%s",p)},s.to=function(u,c){return a(u,c,this,!0)},s.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})}(Sn)),Sn.exports}var uh=lh();const ch=Qi(uh);var dh=ge("<div><span>Closed:</span> <span> </span></div>"),hh=ge("<div><span>Updated:</span> <span> </span></div>"),fh=ge('<div class="text-center italic my-1"><blockquote class="text-githubSecondaryTextColor"> </blockquote></div>'),vh=ge("<!> Public",1),ph=ge("<!> Private",1),gh=ge('<div class="mt-2 text-xs space-y-1 bg-githubBgColor rounded border border-githubBordercolor p-2"><div><a target="_blank" class="_classic-link"><span> </span></a></div> <!> <div><span>Created:</span> <span> </span></div> <!> <div><span class="inline-flex items-center gap-0.5 border border-githubBorderColor text-xs text-githubSecondaryTextColor px-1 py-0.5 rounded-full"><!></span></div></div>'),_h=ge('<div class="p-2 bg-white text-left rounded border shadow-sm cursor-grab"><div><span class="text-githubSecondaryTextColor font-semibold"> </span> <a target="_blank" class="_classic-link font-semibold"> </a></div> <div class="text-sm text-githubSecondaryTextColor mt-0.5"><!></div> <button class="_button gap-0.5 text-sm mt-1 px-1 py-0.5"><!> Details</button> <!></div>');function mh(r,e){Bt(e,!1);let t=le(e,"project",8);gi.extend(ch);let n=xe(!1);const i=()=>{Z(n,!D(n))},s=T=>T?gi(T).format("D MMM YYYY HH:mm"):"â",o=T=>T?gi(T).fromNow():"";wr();var a=_h(),l=j(a),u=j(l),c=j(u),d=G(u,2),h=j(d),f=G(l,2),v=j(f);{var p=T=>{var I=cs();Pe(F=>Ee(I,`Closed ${F??""}`),[()=>o(t().closedAt)],Qe),W(T,I)},g=T=>{var I=cs();Pe(F=>Ee(I,`Updated ${F??""}`),[()=>o(t().updatedAt)],Qe),W(T,I)};Xe(v,T=>{t().closed?T(p):T(g,!1)})}var S=G(f,2),_=j(S);{var m=T=>{Md(T,{class:"_icon"})},y=T=>{Ud(T,{class:"_icon"})};Xe(_,T=>{D(n)?T(m):T(y,!1)})}var w=G(S,2);{var P=T=>{var I=gh(),F=j(I),C=j(F),O=j(C),J=j(O),ie=G(F,2);{var x=K=>{var ee=dh(),be=G(j(ee),2),Ie=j(be);Pe((fe,Be)=>Ee(Ie,`${fe??""} (${Be??""})`),[()=>s(t().closedAt),()=>o(t().closedAt)],Qe),W(K,ee)},E=K=>{var ee=hh(),be=G(j(ee),2),Ie=j(be);Pe((fe,Be)=>Ee(Ie,`${fe??""} (${Be??""})`),[()=>s(t().updatedAt),()=>o(t().updatedAt)],Qe),W(K,ee)};Xe(ie,K=>{t().closed?K(x):K(E,!1)})}var b=G(ie,2),A=G(j(b),2),$=j(A),R=G(b,2);{var M=K=>{var ee=fh(),be=j(ee),Ie=j(be);Pe(()=>Ee(Ie,`â${t().shortDescription??""}â`)),W(K,ee)};Xe(R,K=>{t().shortDescription&&K(M)})}var V=G(R,2),Q=j(V),oe=j(Q);{var ue=K=>{var ee=vh(),be=he(ee);Bd(be,{class:"w-3 h-3"}),W(K,ee)},me=K=>{var ee=ph(),be=he(ee);Hd(be,{class:"w-3 h-3"}),W(K,ee)};Xe(oe,K=>{t().public?K(ue):K(me,!1)})}Pe((K,ee)=>{ct(C,"href",t().url),Ee(J,`${t().items.totalCount??""} ${t().items.totalCount===1?"item":"items"}`),Ee($,`${K??""} (${ee??""})`)},[()=>s(t().createdAt),()=>o(t().createdAt)],Qe),ki(3,I,()=>Kd),W(T,I)};Xe(w,T=>{D(n)&&T(P)})}Pe(()=>{Ee(c,`#${t().number??""}`),ct(d,"href",t().url),Ee(h,t().title)}),rt("click",S,i),W(r,a),qt()}var yh=ge('<div class="bg-githubBgColor border border-githubBorderColor p-3 rounded flex flex-col"><h2 class="text-lg text-left font-semibold mb-2 capitalize"> <span class="text-githubSecondaryTextColor text-sm"> </span></h2> <div class="space-y-2 min-h-[50px]"></div></div>');function Mi(r,e){Bt(e,!1);let t=le(e,"title",8),n=le(e,"projects",24,()=>[]),i=le(e,"bindRef",8,null),s=xe();Rt(()=>(Jn(i()),D(s)),()=>{i()&&i().set(D(s))}),So(),wr();var o=yh(),a=j(o),l=j(a),u=G(l),c=j(u),d=G(a,2);Lo(d,5,n,h=>h.id,(h,f)=>{mh(h,{get project(){return D(f)}})}),Zl(d,h=>Z(s,h),()=>D(s)),Pe(()=>{Ee(l,`${t()??""} `),Ee(c,`(${n().length??""})`)}),W(r,o),qt()}var bh=ge('<!> <div class="_slide-in-container top-16 w-1/2 h-[calc(100vh-4rem)] flex flex-col"><button class="text-gray-500 hover:text-gray-700 p-2 rounded hover:bg-gray-300"><!></button> <div class="flex-1 overflow-y-auto p-4"><!></div></div>',1);function wh(r,e){let t=le(e,"projects",24,()=>[]),n=le(e,"onClose",8);var i=bh(),s=he(i);$a(s,{topClass:"top-16",get onClick(){return n()}});var o=G(s,2),a=j(o),l=j(a);Ta(l,{class:"w-4 h-4"});var u=G(a,2),c=j(u);Mi(c,{title:"closed",get projects(){return t()},readonly:!0}),Cn(o,(d,h)=>lr==null?void 0:lr(d,h),n),Cn(o,d=>ur==null?void 0:ur()),rt("click",a,function(...d){var h;(h=n())==null||h.apply(this,d)}),W(r,i)}var Eh=ge('<button class="_button text-githubPrimaryTextColor px-4 py-2">Log in with GitHub</button>'),Sh=ge('<div class="flex flex-col items-center"><!> <p class="text-lg font-semibold text-githubSecondaryTextColor animate-pulse duration-100">Loading projects</p></div>'),kh=ge('<div class="pt-4 pb-2 px-4 grid grid-cols-1 sm:grid-cols-2 gap-4"><!> <!></div> <button class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-gray-300 hover:bg-gray-400 px-2 py-1 rounded-l z-30"> </button> <!>',1),Th=ge('<main class="flex flex-col min-h-screen"><!> <div class="flex-1 flex flex-col items-center justify-center"><!></div></main>');function $h(r,e){Bt(e,!1);let t=xe(null),n=null,i=xe([]),s={};const o=["todo","doing","done"];let a=Zn(null),l=Zn(null),u=Zn(null),c=xe(!1);const d="https://api.github.com/graphql",h=async()=>{await vn.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin+window.location.pathname,scopes:"repo read:user read:project"}})},f=async()=>{await vn.auth.signOut(),Z(t,null),n=null},v=async()=>{const J=await(await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({query:`{
      viewer {
        projectsV2(first: 50) {
          nodes {
            id
            number
            title
            url
            closed
            createdAt
            updatedAt
            closedAt
            public
            shortDescription
            items {
              totalCount
            }
          }
        }
      }
    }`})})).json();console.log("GitHub response:",J),Z(i,J.data.viewer.projectsV2.nodes),p(),S()},p=()=>{const C=localStorage.getItem("projectStatuses");C&&(s=JSON.parse(C))},g=()=>{localStorage.setItem("projectStatuses",JSON.stringify(s))};function S(){const C={todo:ei(a),doing:ei(l),done:ei(u)};for(const O of o){const J=C[O];J&&L.create(J,{group:"columns",animation:150,swapThreshold:.5,chosenClass:"_sortable-chosen",forceFallback:!0,fallbackOnBody:!0,onStart:()=>{document.body.classList.add("_disable-pointer-events"),document.body.classList.add("cursor-grabbing"),document.body.classList.add("_cursor-grab-to-grabbing")},onEnd:ie=>{var E,b;document.body.classList.remove("_disable-pointer-events"),document.body.classList.remove("cursor-grabbing"),document.body.classList.remove("_cursor-grab-to-grabbing");const x=(b=(E=ie.item)==null?void 0:E.dataset)==null?void 0:b.id;x&&(s[x]=O,g())}})}}iu(async()=>{const{data:C}=await vn.auth.getSession();Z(t,C.session),vn.auth.onAuthStateChange((O,J)=>{Z(t,J),n=J==null?void 0:J.provider_token,n&&v()}),D(t)&&(n=D(t).provider_token,console.log("session:",D(t)),await v())});const _=C=>D(i).filter(O=>(s[O.id]||"todo")===C),m=()=>D(i).filter(C=>C.closed||s[C.id]==="done");wr();var y=Th(),w=j(y);nh(w,{get session(){return D(t)},onLogout:f});var P=G(w,2),T=j(P);{var I=C=>{var O=Eh();rt("click",O,h),W(C,O)},F=C=>{var O=je(),J=he(O);{var ie=E=>{var b=Sh(),A=j(b);qd(A,{class:"w-8 h-8 animate-spin mb-2"}),W(E,b)},x=E=>{var b=kh(),A=he(b),$=j(A);const R=Qe(()=>_(o[0]));Mi($,{get title(){return o[0]},get projects(){return D(R)},bindRef:a});var M=G($,2);const V=Qe(()=>_(o[1]));Mi(M,{get title(){return o[1]},get projects(){return D(V)},bindRef:l});var Q=G(A,2),oe=j(Q),ue=G(Q,2);{var me=K=>{const ee=Qe(m);wh(K,{onClose:()=>Z(c,!1),get projects(){return D(ee)}})};Xe(ue,K=>{D(c)&&K(me)})}Pe(()=>Ee(oe,`Closed ${D(c)?"â":"â"}`)),rt("click",Q,()=>Z(c,!0)),W(E,b)};Xe(J,E=>{D(i).length===0?E(ie):E(x,!1)})}W(C,O)};Xe(T,C=>{D(t)?C(F,!1):C(I)})}W(r,y),qt()}Il($h,{target:document.getElementById("app")});export{Qi as g};
